<?xml version="1.0"?>


<!DOCTYPE rdf:RDF [
    <!ENTITY owl "http://www.w3.org/2002/07/owl#" >
    <!ENTITY swrl "http://www.w3.org/2003/11/swrl#" >
    <!ENTITY swrlb "http://www.w3.org/2003/11/swrlb#" >
    <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
    <!ENTITY afn "http://jena.hpl.hp.com/ARQ/function#" >
    <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
    <!ENTITY xpath-fn "http://www.w3.org/2005/xpath-functions#" >
    <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
    <!ENTITY ps "http://www.inmindcomputing.com/platform/platform-schema.owl#" >
    <!ENTITY as "http://www.inmindcomputing.com/application/application-schema.owl#" >
    <!ENTITY sec "http://www.inmindcomputing.com/security/security-implementation.owl#" >
    <!ENTITY wi "http://www.inmindcomputing.com/application/workItem-implementation.owl#" >
    <!ENTITY pcs "http://www.inmindcomputing.com/application/products/products-schema.owl#" >
    <!ENTITY ai "http://www.inmindcomputing.com/application/application-implementation.owl#" >
]>


<rdf:RDF xmlns="http://www.inmindcomputing.com/application/products/products-schema.owl#"
     xml:base="http://www.inmindcomputing.com/application/products/products-schema.owl"
     xmlns:afn="http://jena.hpl.hp.com/ARQ/function#"
     xmlns:wi="http://www.inmindcomputing.com/application/workItem-implementation.owl#"
     xmlns:as="http://www.inmindcomputing.com/application/application-schema.owl#"
     xmlns:xpath-fn="http://www.w3.org/2005/xpath-functions#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:swrl="http://www.w3.org/2003/11/swrl#"
     xmlns:ai="http://www.inmindcomputing.com/application/application-implementation.owl#"
     xmlns:pcs="http://www.inmindcomputing.com/application/products/products-schema.owl#"
     xmlns:sec="http://www.inmindcomputing.com/security/security-implementation.owl#"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:swrlb="http://www.w3.org/2003/11/swrlb#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:ps="http://www.inmindcomputing.com/platform/platform-schema.owl#">
    <owl:Ontology rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl">
        <owl:versionInfo rdf:datatype="&xsd;string">0.3</owl:versionInfo>
        <rdfs:comment rdf:datatype="&xsd;string">Copyright (c) 2013, In Mind Cloud. All rights reserved.
IMC PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</rdfs:comment>
        <owl:imports rdf:resource="http://www.inmindcomputing.com/application/application-schema.owl"/>
    </owl:Ontology>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Annotation properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/platform/platform-schema.owl#triggeredSparQLStage -->

    <owl:AnnotationProperty rdf:about="&ps;triggeredSparQLStage"/>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Object Properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#linksSection -->

    <owl:ObjectProperty rdf:about="&pcs;linksSection">
        <rdfs:subPropertyOf rdf:resource="&ps;links"/>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionLinkedBy -->

    <owl:ObjectProperty rdf:about="&pcs;sectionLinkedBy">
        <owl:inverseOf rdf:resource="&pcs;linksSection"/>
        <rdfs:subPropertyOf rdf:resource="&ps;links"/>
    </owl:ObjectProperty>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Data properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#NumberOfCellFiltration -->

    <owl:DatatypeProperty rdf:about="&pcs;NumberOfCellFiltration">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?NumberOfCellFiltration WHERE {

   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:NumberOfCellInfield ?NumberOfCellFiltration

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#NumberOfCellInfield -->

    <owl:DatatypeProperty rdf:about="&pcs;NumberOfCellInfield">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of cells:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">231</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?NumberOfCellInfield WHERE {

   ?da ps:isDynamicAttribute pci:InfieldDirectionflowLateral.
   ?da1 ps:isDynamicAttribute pci:InfieldSubmainLoc.
   ?si as:isProduct pci:Infield.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.

   ?subject pcs:actualRealAverageLateralLength ?length.
   ?subject ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?directionalFlow.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?submainLoc.

   ?mainSi as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?area.
   BIND(IF(?submainLoc=pci:InfieldSubmainMiddle,xsd:decimal(2),
         IF(?directionalFlow=pci:DirectionflowDual,xsd:decimal(2),xsd:decimal(1))) as ?side )

   BIND(ROUND(?area/(?length*?side)) as ?NumberOfCellInfield)

}

</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualAverageFlowAtBiggestShift -->

    <owl:DatatypeProperty rdf:about="&pcs;actualAverageFlowAtBiggestShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Actual average flow rate per valve at biggest shift (m3/hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">133</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">33b</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualAverageFlowAtBiggestShift  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:actualNumberOfValvesPerShift ?noValvesPerShift.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:maxShiftFlowRate ?maxShiftFlowRate.
   BIND( ?maxShiftFlowRate/?noValvesPerShift AS ?actualAverageFlowAtBiggestShift )

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualNetArea -->

    <owl:DatatypeProperty rdf:about="&pcs;actualNetArea">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualNetArea  WHERE {
   ?da ps:isDynamicAttribute pci:InputNetarea.
   ?da1 ps:isDynamicAttribute pci:InputGrossNetArea .

   ?subject ps:includesDynamicAttribute ?da, ?da1.
   ?da ps:dynamicDataAttributeValue ?inputNetArea.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?grossfactor.
   BIND(?inputNetArea-(?inputNetArea*?grossfactor) as ?actualNetArea)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualNumberOfValvesPerShift -->

    <owl:DatatypeProperty rdf:about="&pcs;actualNumberOfValvesPerShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of valves per shift:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">132</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualNumberOfValvesPerShift
WHERE {
   ?salesItem as:isProduct pci:Submain .
   ?otherSalesItem as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InputShiftsBlock.
   ?da1 ps:isDynamicAttribute pci:InfieldDirectionflowLateral.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesSalesItem ?otherSalesItem .
   ?otherSalesItem as:includesConfigItem ?otherConfig .
   ?otherConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?hydrant.

   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?block.

   optional
   {
   ?daManual ps:isDynamicAttribute pci:SubmainValvesPershiftManual.
   ?subject ps:includesDynamicAttribute ?daManual.
   ?daManual ps:dynamicDataAttributeValue ?value
   }
   optional{
      ?subject pcs:scatteredOneSideValvesCalculation ?scatteredOneCalc.
   }
   optional{
      ?subject pcs:scatteredTwoSideValvesCalculation ?scatteredTwoCalc.
   }

   optional{
      ?subject pcs:concentratedValvesCalculation ?conCalc.
   }


   BIND(IF(?block=pci:Concentrated,?conCalc,
         IF(?block=pci:Scattered &amp;&amp; ?hydrant=pci:DirectionflowUniform,?scatteredOneCalc,?scatteredTwoCalc)) as ?result)
      BIND(IF(BOUND(?value) &amp;&amp; ?value!=&quot;-&quot;,?value,?result)as ?actualNumberOfValvesPerShift)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealAverageEmitterFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealAverageEmitterFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">21e) Actual real Average Emitter flow (I/h)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">131</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualRealAverageEmitterFlow  WHERE {

   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?da1 ps:isDynamicAttribute pci:InfieldFlowConstantk.

   ?subject pcs:actualRealFV ?FV.
   ?subject pcs:calculatedBlockValvePressure ?calPressure.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valueX.
   ?valueX as:attributionFactor ?factorX.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?valueK.
   ?valueK as:attributionFactor ?factorK.


   BIND(?factorK*ps:pow(?calPressure,?factorX)*(1-0.75*?FV) as ?actualRealAverageEmitterFlow)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealAverageLateralLength -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealAverageLateralLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">21c) Actual real average lateral length</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">122</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualRealAverageLateralLength 
WHERE {
      ?subject pcs:actualRealAverageLateralLengthCalculation ?val.
   
   OPTIONAL{
      ?da ps:isDynamicAttribute pci:InfieldRealAverageLengthLateral.
      ?subject ps:includesDynamicAttribute ?da.
      ?da ps:dynamicDataAttributeValue ?manualLateral.
   }
   
   BIND(IF(BOUND(?manualLateral) &amp;&amp; ?manualLateral!=&quot;-&quot;,?manualLateral,?val) as ?actualRealAverageLateralLength)
}</ps:sparql>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealAverageLateralLengthCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealAverageLateralLengthCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?actualRealAverageLateralLengthCalculation WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldSubmainLoc.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaParallel ?areaParallel.

   ?subject pcs:maxll ?lateralLength.
   optional
   {
   ?da ps:isDynamicAttribute pci:InfieldDirectionflowLateral.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?symVal.
   ?symVal ps:objectName ?directionName.
   }

   optional
   {
   ?daManual ps:isDynamicAttribute pci:InfieldRealAverageLengthLateral.
   ?subject ps:includesDynamicAttribute ?daManual.
   ?daManual ps:dynamicDataAttributeValue ?manualLateral.
   }

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?smcLoc.
   ?smcLoc ps:objectName ?locName.

   ?salesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   BIND(xsd:decimal(?areaParallel/?lateralLength)as ?X1)
   BIND(xsd:decimal(IF(?X1&gt;1,FLOOR(?X1),xsd:decimal(1))) as ?X2)
   BIND(xsd:decimal(CEIL(?X1)) as ?X3)
   BIND(xsd:decimal(?areaParallel/(?lateralLength*2))as ?X4)
   BIND(xsd:decimal(IF(FLOOR(?X4)&lt;1,xsd:decimal(1),FLOOR(?X4))) as ?X5)
   BIND(xsd:decimal(CEIL(?X4)) as ?X6)

   BIND(ROUND(IF(?locName=&quot;infield_submain_side&quot; &amp;&amp; BOUND(?directionName) &amp;&amp; ?directionName=&quot;directionflow_uniform&quot; &amp;&amp; ?areaParallel/?X2&lt;=?lateralLength*1.05,?areaParallel/?X2,
         IF(?locName=&quot;infield_submain_side&quot; &amp;&amp; BOUND(?directionName) &amp;&amp;?directionName=&quot;directionflow_uniform&quot; &amp;&amp; ?areaParallel/?X2&gt;?lateralLength*1.05,?areaParallel/?X3,
            IF((?locName=&quot;infield_submain_middle&quot; || (BOUND(?directionName) &amp;&amp; ?directionName=&quot;directionflow_dual&quot;))&amp;&amp; (?areaParallel/?X5&lt;=?lateralLength*2*1.05),0.5*?areaParallel/?X5,
               IF((?locName=&quot;infield_submain_middle&quot; || (BOUND(?directionName) &amp;&amp; ?directionName=&quot;directionflow_dual&quot;))&amp;&amp; (?areaParallel/?X5&gt;?lateralLength*2*1.05),0.5*?areaParallel/?X6,0
               )
            )
         )
      )
      )as ?actualRealAverageLateralLengthCalculation)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealAverageLateralLengthDisplay -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealAverageLateralLengthDisplay">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">21c) Actual real average lateral length</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">122</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?actualRealAverageLateralLengthDisplay WHERE {
  ?subject pcs:actualRealAverageLateralLength ?len.
   BIND(ROUND(?len) as ?actualRealAverageLateralLengthDisplay)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealCalculatedHL -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealCalculatedHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">##B38*(B56/C26)^B39*C34^-B40*Infield!F20^2.76/2.76+&apos;Lateral Data&apos;!B41*&apos;Lateral Data&apos;!B56^2*&apos;Lateral Data&apos;!C34^-4*(Infield!F20/Infield!F16)*(2*(Infield!F20/Infield!F16)+1)*((Infield!F20/Infield!F16)+1)/6*C33

#B38=coff. HL in lateral
#C26=Emitter spacing
#B39=coff. of flow EXP.
#C34=D(mm)-DIAMETER
#B40=coff. of Diameter EXP.
#B41=coff. of  Kd part
#C33=Kd
SELECT  ?subject  ?actualRealCalculatedHL
WHERE {
   ai:InfieldMasterData pcs:coffFlowEXP ?coffFlowEXP.
   ai:InfieldMasterData pcs:coffKdpart ?coffKdpart.
   ai:InfieldMasterData pcs:coffDiameterEXP ?coffDia.
   ai:InfieldMasterData pcs:coffHLinLateral ?coffHL.
   ?subject pcs:kdforCalculation ?factorKd.

   ?subject pcs:actualRealAverageLateralLength ?avgLateral.
   ?subject pcs:fixedQflow ?Qflow.
   ?subject pcs:temp ?temp.
   ?subject pcs:emitterSpacingforCalculation ?factorEmitterspacing.
   ?subject pcs:internalDmmforCalculation ?factorDmm

   BIND(?coffHL*?temp*ps:pow(?factorDmm,(-?coffDia))*(ps:pow(?avgLateral,2.76)/2.76)+?coffKdpart*ps:pow(?Qflow,2)*ps:pow(?factorDmm,(-4))*(?avgLateral/?factorEmitterspacing)*(2*(?avgLateral/?factorEmitterspacing)+1)* (((?avgLateral/?factorEmitterspacing)+1)/6)*?factorKd as ?actualRealCalculatedHL)
}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">5</as:precision>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealFV -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealFV">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">#1-(1-(B57/C28))^C31
SELECT  ?subject ?actualRealFV  WHERE {

   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?subject pcs:actualRealCalculatedHL ?calHL.
   ?subject pcs:calculatedBlockValvePressure ?calPressure.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valueX.
   ?valueX as:attributionFactor ?factorX.

   BIND(xsd:decimal(1-(?calHL/?calPressure)) AS ?interim)

   BIND( IF(?interim &lt; 0, xsd:decimal(0),
        xsd:decimal(1-ps:pow(?interim,?factorX))) AS ?actualRealFV )
}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealFlowVariation -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealFlowVariation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">21d) Actual real flow variation (FV)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">133</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?actualRealFlowVariation)   WHERE {
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.

   ?subject pcs:actualRealFV ?realFV.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?emitter.
   ?emitter ps:objectName ?obj.
   BIND( xsd:string(ROUND(?realFV*100)) as ?value)
   BIND(IF(?obj=&quot;PC&quot;,&quot;0%&quot;,concat(?value,&quot;%&quot;))as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualRealFlowVariationDecimal -->

    <owl:DatatypeProperty rdf:about="&pcs;actualRealFlowVariationDecimal">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?actualRealFlowVariationDecimal  WHERE {
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.

   ?subject pcs:actualRealFV ?realFV.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?emitter.
   ?emitter ps:objectName ?obj.
   BIND(IF(?obj=&quot;PC&quot;|| ?realFV=&quot;-&quot;,0,ROUND(?realFV*100))as ?actualRealFlowVariationDecimal)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#actualTheoFlowVariation -->

    <owl:DatatypeProperty rdf:about="&pcs;actualTheoFlowVariation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">20a.1) Actual theoretical flow variation (FV)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">18</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?actualTheoFlowVariation)   WHERE {
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:realFV ?realFV.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?emitter.
   ?emitter ps:objectName ?obj.
   BIND( xsd:string(ROUND(?realFV*100)) as ?value)
   BIND(IF(?obj=&quot;PC&quot;,&quot;0%&quot;,concat(?value,&quot;%&quot;))as ?val)
}</ps:sparql>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateClass -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateClass">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-3</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">DMM:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-4</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantRatioLong -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantRatioLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Ratio for Long Hydrant Sections:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-2</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantRatioLong
WHERE {
   ?mlSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mlSi .
   ?mlSi as:includesConfigItem ?mlConfig .

   ?mlConfig pcs:hydrantClassUp1 ?class1 .
   ?mlConfig pcs:hydrantClassUp2 ?class2 .
   ?mlConfig pcs:hydrantClassUp3 ?class3 .
   ?mlConfig pcs:hydrantClassUpRatio1 ?ratio1 .
   ?mlConfig pcs:hydrantClassUpRatio2 ?ratio2 .
   ?mlConfig pcs:hydrantClassUpRatio3 ?ratio3 .

   ?subject pcs:aggregateClass ?class.

   BIND(IF(?class = ?class1, ?ratio1, xsd:decimal(0)) AS ?addend1)
   BIND(IF(?class = ?class2, ?ratio2, xsd:decimal(0)) AS ?addend2)
   BIND(IF(?class = ?class3, ?ratio3, xsd:decimal(0)) AS ?addend3)

   BIND(xsd:decimal(?addend1 + ?addend2 + ?addend3)
      AS ?aggregateHydrantRatioLong)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantRatioShort -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantRatioShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Ratio for Short Hydrant Sections:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantRatioShort
WHERE {
   ?mlSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mlSi .
   ?mlSi as:includesConfigItem ?mlConfig .

   ?mlConfig pcs:hydrantClassDown1 ?class1 .
   ?mlConfig pcs:hydrantClassDown2 ?class2 .
   ?mlConfig pcs:hydrantClassDown3 ?class3 .
   ?mlConfig pcs:hydrantClassDownRatio1 ?ratio1 .
   ?mlConfig pcs:hydrantClassDownRatio2 ?ratio2 .
   ?mlConfig pcs:hydrantClassDownRatio3 ?ratio3 .

   ?subject pcs:aggregateClass ?class.

   BIND(IF(?class = ?class1, ?ratio1, xsd:decimal(0)) AS ?addend1)
   BIND(IF(?class = ?class2, ?ratio2, xsd:decimal(0)) AS ?addend2)
   BIND(IF(?class = ?class3, ?ratio3, xsd:decimal(0)) AS ?addend3)

   BIND(xsd:decimal(?addend1 + ?addend2 + ?addend3)
      AS ?aggregateHydrantRatioShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantShortLen1C -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantShortLen1C">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantShortLen1C WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineE25 ?e25.
   ?subject pcs:aggregateHydrantShortSection ?sec.
   BIND(?e25*?sec as ?aggregateHydrantShortLen1C)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantShortSection -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantShortSection">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (COUNT(?hydScatteredConfig) AS ?aggregateHydrantShortSection)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydrantScatteredSi.
   ?hydrantScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionShort ?dmm.
   ?hydScatteredConfig pcs:hydrantClassShort ?class.

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.
}GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantShortSumC -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantShortSumC">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantShortSumC WHERE {

   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineNumberCell ?e28.
   ?subject pcs:aggregateHydrantShortLen1C ?len.
   BIND(?e28*?len as ?aggregateHydrantShortSumC)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantTotalSumLen -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantTotalSumLen">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">12</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantTotalSumLen
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:maxDmmHydrantLong ?maxLong.
   ?mlConfig pcs:maxDmmHydrantShort ?maxShort.
   ?mlConfig pcs:mainLineAU24 ?au24.
   ?mlConfig pcs:mainLineAZ24 ?az24.
   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateHydrantsLongSumC ?longSum.
   ?subject pcs:aggregateHydrantShortSumC ?shortSum.
   ?subject pcs:aggregateHydrantShortLen1C ?DownLen.
   ?subject pcs:aggregateHydrantsLongLen1C ?UpLen.
   ?subject pcs:aggregateHydrantRatioLong ?ratioLong .
   ?subject pcs:aggregateHydrantRatioShort ?ratioShort .

   BIND(?longSum + ?shortSum +
      IF(?dmm = ?maxLong &amp;&amp; ?UpLen!=0, ?au24, 0) +
      IF(?dmm = ?maxShort &amp;&amp; ?DownLen!=0, ?az24, 0)
      AS ?aggregateHydrantTotalSumLen)
}  </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantsLongLen1C -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantsLongLen1C">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantsLongLen1C WHERE {

   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineE25 ?e25.
   ?subject pcs:aggregateHydrantsLongSection ?sec.
   BIND(?e25*?sec as ?aggregateHydrantsLongLen1C)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantsLongSection -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantsLongSection">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (COUNT(?hydScatteredConfig) as ?aggregateHydrantsLongSection)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydrantScatteredSi.
   ?hydrantScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionLong ?dmm.
   ?hydScatteredConfig pcs:hydrantClassLong ?class.

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.
}GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateHydrantsLongSumC -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateHydrantsLongSumC">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateHydrantsLongSumC WHERE {

   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineNumberCell ?e28.
   ?subject pcs:aggregateHydrantsLongLen1C ?len.
   BIND(?e28*?len as ?aggregateHydrantsLongSumC)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineDownLen -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineDownLen">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">11</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateMainlineDownLen
WHERE {
   ?mlSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineE20 ?size.
   ?mlConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:aggregateMainlineDownSection ?sections.
   ?subject pcs:aggregateMainlineDownSectionReduced ?reduced_sections.

   BIND(IF(?ep_x = 1, 5, 3) AS ?reduced_size)

   BIND(?size * (?sections - ?reduced_sections) + ?reduced_sections * ?reduced_size
      AS ?aggregateMainlineDownLen)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineDownSection -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineDownSection">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?aggregateMainlineDownSection)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainlineSectionSi.
   ?mainlineSectionSi as:includesConfigItem ?mainlineSectionConfig.
   ?mainlineSectionConfig pcs:sectionShort ?short.
   ?mainlineSectionConfig pcs:mainlineSectionClassDown ?down .
   BIND(IF(?short=?dmm &amp;&amp; ?class =?down,1,0) as ?val)

}GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineDownSectionReduced -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineDownSectionReduced">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?aggregateMainlineDownSectionReduced)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainlineSectionSi.
   ?mainlineSectionSi as:includesConfigItem ?mainlineSectionConfig.

   ?mainlineSectionConfig pcs:sectionShort ?short.
   ?mainlineSectionConfig pcs:mainlineSectionActualClassDown ?down .
   ?mainlineSectionConfig pcs:mainlineShortReduced ?reduced.

   BIND(IF(?short = ?dmm
         &amp;&amp; ?class = ?down
         &amp;&amp; ?reduced = 1, 1, 0) AS ?val)

} GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineTotalSumLO -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineTotalSumLO">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">14</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?length) as ?aggregateMainlineTotalSumLO)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?lOSi as:isProduct pci:LOSection.

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?lOSi.
   ?lOSi as:includesConfigItem ?config.
   ?config pcs:loClass ?class.
   ?config pcs:loDmm ?dmm.
   ?config pcs:loSectionLength ?length.
} GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineTotalSumLen -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineTotalSumLen">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">13</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateMainlineTotalSumLen
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:maxDmmMainLineDown ?maxDown.
   ?mlConfig pcs:maxDmmMainLineUp ?maxUp.
   ?mlConfig pcs:mainLineBD24 ?bd24.
   ?mlConfig pcs:mainLineBH24 ?bh24.
   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateMainlineDownLen ?DownLen.
   ?subject pcs:aggregateMainlineUpLen ?UpLen.

   BIND(?DownLen+?UpLen+
      IF(?dmm=?maxUp&amp;&amp;?UpLen!=0,?bd24,0)+
      IF(?dmm=?maxDown&amp;&amp;?DownLen!=0,?bh24,0)
      AS ?aggregateMainlineTotalSumLen)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineUpLen -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineUpLen">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">9</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateMainlineUpLen
WHERE {
   ?mlSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.
   ?mlConfig pcs:mainLineE20 ?size.
   ?mlConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:aggregateMainlineUpSection ?sections.
   ?subject pcs:aggregateMainlineUpSectionReduced ?reduced_sections.

   BIND(IF(?ep_x = 0, 5, 3) AS ?reduced_size)

   BIND(?size * (?sections - ?reduced_sections)
      + ?reduced_sections * ?reduced_size
      AS ?aggregateMainlineUpLen)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineUpSection -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineUpSection">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?aggregateMainlineUpSection)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainlineSectionSi.
   ?mainlineSectionSi as:includesConfigItem ?mainlineSectionConfig.
   ?mainlineSectionConfig pcs:sectionLong ?long.
   ?mainlineSectionConfig pcs:mainlineSectionClassUp ?up.

   BIND(IF(?long=?dmm &amp;&amp; ?class=?up,1,0) as ?val)

} GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateMainlineUpSectionReduced -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateMainlineUpSectionReduced">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?aggregateMainlineUpSectionReduced)
WHERE {
   ?mlSi as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainlineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject pcs:aggregateDmm ?dmm.
   ?subject pcs:aggregateClass ?class.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlSi.
   ?mlSi as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainlineSectionSi.
   ?mainlineSectionSi as:includesConfigItem ?mainlineSectionConfig.

   ?mainlineSectionConfig pcs:sectionLong ?long.
   ?mainlineSectionConfig pcs:mainlineSectionActualClassUp ?up.
   ?mainlineSectionConfig pcs:mainlineLongReduced ?reduced.

   BIND(IF(?long=?dmm
         &amp;&amp; ?class=?up
         &amp;&amp; ?reduced = 1,1,0) as ?val)

} GROUP BY ?subject</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateRod -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateRod">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Rod Length :</rdfs:label>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateTotal -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateTotal">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">16</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateTotal
WHERE {
   ?project as:isProduct pci:OpenFieldProject .
   ?submain as:isProduct pci:Submain .
   ?mainline as:isProduct pci:MainLine .
   ?da ps:isDynamicAttribute pci:SubmainInsertManually .

   ?subject as:configItemIncludedBy ?aggregate .
   ?aggregate as:salesItemIncludedBy ?mainline .
   ?mainline as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?submain_config .
   ?submain_config pcs:numberOfValvesPerProject ?valves .
   ?submain_config pcs:submainDmmLength1 ?autolength1 .
   ?submain_config pcs:submainDmmLength1 ?autolength2 .
   ?submain_config pcs:submainDmmLength1 ?autolength3 .
   ?submain_config pcs:submainManualDmm1 ?manualLength1 .
   ?submain_config pcs:submainManualDmm1 ?manualLength2 .
   ?submain_config pcs:submainManualDmm1 ?manualLength3 .
   
   ?submain_config pcs:quantitySubmainLengthMeter1 ?submain_total_meter1 .
   ?submain_config pcs:quantitySubmainLengthMeter2 ?submain_total_meter2 .
   ?submain_config pcs:quantitySubmainLengthMeter3 ?submain_total_meter3 .
   ?submain_config pcs:quantitySubmainLength1 ?submain_total1 .
   ?submain_config pcs:quantitySubmainLength2 ?submain_total2 .
   ?submain_config pcs:quantitySubmainLength3 ?submain_total3 .

   ?submain_config ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   
   OPTIONAL{
      ?submain as:includesSalesItem ?material .
      ?material as:isProduct/^(as:isProduct) ?aggregate .
      ?material as:includesItemHeaderPriceItem ?price .
      ?price as:itemHeaderQuantity ?quantity .
   }
   
   BIND(IF(?quantity = ?submain_total1 || ?quantity = ?submain_total_meter1, ?submain_total_meter1,
         IF(?quantity = ?submain_total2 || ?quantity = ?submain_total_meter2, ?submain_total_meter2,
            IF(?quantity = ?submain_total3 || ?quantity = ?submain_total_meter3, ?submain_total_meter3, 0)))
      AS ?submain_total)      
   
   BIND(IF(?quantity = ?submain_total1 || ?quantity = ?submain_total_meter1, 
         ?valves * IF(?manual=pci:SubmainManual, ?manualLength1, ?autolength1),
         IF(?quantity = ?submain_total2 || ?quantity = ?submain_total_meter2, 
            ?valves * IF(?manual=pci:SubmainManual, ?manualLength2, ?autolength2),
            IF(?quantity = ?submain_total3 || ?quantity = ?submain_total_meter3, 
               ?valves * IF(?manual=pci:SubmainManual, ?manualLength3, ?autolength3), 0)))
      AS ?submain_length)          

   ?subject pcs:aggregateHydrantTotalSumLen ?hydrant_length .
   ?subject pcs:aggregateMainlineTotalSumLen ?mainline_length .
   ?subject pcs:aggregateMainlineTotalSumLO ?lo_length .
   ?subject pcs:aggregateRod ?rod_length .
   ?subject pcs:aggregateTotalRaw ?aggregate_total_raw .
   
   BIND(?hydrant_length + ?mainline_length + ?lo_length AS ?aggregate_length)
   
   BIND(CEIL((?submain_length + ?aggregate_length) / ?rod_length) * ?rod_length AS ?combined_total)
   
   BIND(IF(?combined_total &lt; (?submain_total + ?aggregate_total_raw),
      ?combined_total - ?submain_total, ?aggregate_total_raw) AS ?val)
   #sebastion to check later
   BIND(IF(?val!=&quot;-&quot; &amp;&amp; BOUND(?val),?val,?aggregate_total_raw )as ?aggregateTotal )
   
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#aggregateTotalRaw -->

    <owl:DatatypeProperty rdf:about="&pcs;aggregateTotalRaw">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?aggregateTotalRaw
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:hasUnitofMeasure ?uom .

   ?subject pcs:aggregateMainlineTotalSumLen ?lenMainline.
   ?subject pcs:aggregateHydrantTotalSumLen ?lenHydrant.
   ?subject pcs:aggregateRod ?rod .
   ?subject pcs:aggregateMainlineTotalSumLO ?lo.

   BIND(CEIL((?lenMainline+?lenHydrant+?lo)/?rod)*IF(?uom IN (ai:Each, &lt;http://testit/400/UnitofMeasurement#EA&gt;,&lt;http://eccprdu/400/UnitofMeasurement#EA&gt;) , xsd:decimal(1),?rod)
      AS ?aggregateTotalRaw)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Aggregate-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#applicationRate -->

    <owl:DatatypeProperty rdf:about="&pcs;applicationRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">22) Application rate (mm/hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">200</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?applicationRate  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:averageLateralSpacing ?lateralspace.
   ?subject pcs:actualRealAverageEmitterFlow ?avgFlow.
   ?subject pcs:emitterSpacingforCalculation ?emitterspacevalue.
   BIND(  xsd:decimal(?avgFlow/ (?emitterspacevalue * ?lateralspace ) )AS ?applicationRate) .
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#areaTotalFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;areaTotalFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">23) Full Area total flow (m3/hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">210</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">ROUND(Application rate*Net Area HA * 10,0)
</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?areaTotalFlow  WHERE {

   ?subject as:configItemIncludedBy ?salesItem .
   ?subject pcs:applicationRate ?applicationRating .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfigItem .
   ?mainConfigItem pcs:actualNetArea  ?netArea .
   BIND(xsd:decimal(round(?applicationRating * ?netArea*10)) AS ?areaTotalFlow)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#autoFiltrationFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;autoFiltrationFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?autoFiltrationFlow WHERE {
   ?da ps:isDynamicAttribute pci:FtBackupFilterRequired.
   ?da1 ps:isDynamicAttribute pci:FtLocationBackupfilter.
   ?da2 ps:isDynamicAttribute pci:FtSecondaryfilterSelection.
   ?subject ps:includesDynamicAttribute ?da, ?da1,?da2.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?sym.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?sym1.
   ?da2 ps:usesSymbolicValue/ps:isSymbolicValue pci:FtSecondaryAuto .

   ?subject pcs:filterMaxShiftFlowRate ?flowRate.
   optional
   {
      ?subject pcs:secFilterLocation1 ?l1.
   }
   optional
   {
      ?subject pcs:secFilterLocation2 ?l2.
   }
   optional
   {
      ?subject pcs:secFilterLocation3 ?l3.
   }

   BIND(IF(?sym=pci:SecNone,0,
        IF(?sym1=pci:FtLocationDownstream,?l1,
            IF(?sym1=pci:FtLocationMainline,?l2,?l3))) AS ?autoFiltrationFlow)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#automationLengthofHydraulicTube -->

    <owl:DatatypeProperty rdf:about="&pcs;automationLengthofHydraulicTube">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total length of required hydraulic tube(including 2 spare tubes) (m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAutomation"/>
        <rdfs:domain rdf:resource="&pcs;Automation-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#automationSelectedControlUnit -->

    <owl:DatatypeProperty rdf:about="&pcs;automationSelectedControlUnit">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Type of control unit selected:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?automationSelectedControlUnit) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?da ps:isDynamicAttribute pci:AutoModel.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?sym.
   ?sym rdfs:label ?label.
   BIND(xsd:string(?label) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAutomation"/>
        <rdfs:domain rdf:resource="&pcs;Automation-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#averageLateralSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;averageLateralSpacing">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">19) Average lateral spacing (m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">151</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?averageLateralSpacing WHERE {
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da1 ps:isDynamicAttribute pci:InfieldNumberoflateralPerbedrow.
   ?da ps:isDynamicAttribute pci:InputRowbedspacing.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?bedspacing.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?numberOflateral.
   BIND( xsd:decimal(?bedspacing/?numberOflateral) AS ?averageLateralSpacing) .


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#averageLengthOfSubmainPerBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;averageLengthOfSubmainPerBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total average length of submains per block (m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">12</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;decimal">36</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?averageLengthOfSubmainPerBlock WHERE {
   ?otherSalesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Submain.
   ?daSubmainLoc ps:isDynamicAttribute pci:InfieldSubmainLoc.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:actualRealAverageLateralLength ?maxll.
   ?otherConfigItem ps:includesDynamicAttribute ?daSubmainLoc.
   ?daSubmainLoc ps:usesSymbolicValue/ps:isSymbolicValue ?sym.

   ?subject pcs:sizeOfAverageBlock ?sizeOfAvgBlock .
   BIND(IF(?sym=pci:InfieldSubmainSide, round((?sizeOfAvgBlock*10000/?maxll)*1.1), round(((?sizeOfAvgBlock*10000/?maxll)*1.1)/2)) as ?averageLengthOfSubmainPerBlock).

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#avgFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;avgFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">20.1) Average theoretical Emitter flow (l/h): </rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">17</ps:sequenceID>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?avgFlow  WHERE {

   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?da1 ps:isDynamicAttribute pci:InfieldFlowConstantk.
    ?da2 ps:isDynamicAttribute pci:InfieldRequiredFlowVariation.
   ?subject as:configItemIncludedBy ?salesItem.

   ?subject pcs:calculatedBlockValvePressure ?calPressure.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valueX.
   ?valueX as:attributionFactor ?factorX.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?valueK.
   ?valueK as:attributionFactor ?factorK.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:usesSymbolicValue/as:attributionFactor ?requiredFV.

   BIND(?factorK*ps:pow(?calPressure,?factorX)*(1-0.75*(?requiredFV+0.03)) as ?avgFlow)

}</ps:sparql>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#calculateSpecifiedHLperValve -->

    <owl:DatatypeProperty rdf:about="&pcs;calculateSpecifiedHLperValve">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Calculate for specified HL per valve fig.(m3/hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">121</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?calculateSpecifiedHLperValve) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainSpecifiedHl.
   ?da1 ps:isDynamicAttribute pci:HeadworksKv.
   ?da2 ps:isDynamicAttribute pci:SubmainHlCheck.
   ?da3 ps:isDynamicAttribute pci:HeadworksIdpd.
   ?subject as:configItemIncludedBy ?salesItem.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?specifiedHL.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?kv.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?checkCalculate.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:usesSymbolicValue/as:attributionFactor ?idpd.
   BIND (IF(?checkCalculate,ps:vtf(?specifiedHL,?kv,?idpd),0)AS ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#calculatedBlockValvePressure -->

    <owl:DatatypeProperty rdf:about="&pcs;calculatedBlockValvePressure">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Calculated Dripline / Lateral inlet Pressure:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">92</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?result AS ?calculatedBlockValvePressure) WHERE {

   ?dachoice ps:isDynamicAttribute pci:InfieldBlockValvePressure.
   ?da ps:isDynamicAttribute pci:InfieldDefaultinletPressure.
   ?da1 ps:isDynamicAttribute pci:InfieldMaximumPressure.
   ?da2 ps:isDynamicAttribute pci:InfieldMinimumPressure.
   ?da3 ps:isDynamicAttribute pci:InfieldBlockValvepressureManual.

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?dachoice.
   ?dachoice ps:usesSymbolicValue ?choicepressure.
   ?choicepressure as:attributionFactor ?choicefactor.
    ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?defaultPressure.
   ?defaultPressure as:attributionFactor ?defaultfactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?maxPressure.
   ?maxPressure as:attributionFactor ?maxfactor.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:usesSymbolicValue ?minPressure.
   ?minPressure as:attributionFactor ?minfactor.

   optional{
      ?subject ps:includesDynamicAttribute ?da3.
      ?da3 ps:dynamicDataAttributeValue ?manualInput.

   }


   BIND (
  IF(?choicefactor= 1, ?defaultfactor,
    IF(?choicefactor= 2, ?maxfactor,
       IF(?choicefactor= 3, (?defaultfactor*1.2),
        IF(?choicefactor= 4, (?defaultfactor+?minfactor)/2,
           IF(?choicefactor= 5, (?defaultfactor*0.8),
              IF(?choicefactor= 6, (?defaultfactor*0.6),
                 IF(?choicefactor= 7,  IF (BOUND (?manualInput), ?manualInput, 0 ),0)
             )
           )
        )
      )
    )
  ) AS ?result
)


}



</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#calculatedHL -->

    <owl:DatatypeProperty rdf:about="&pcs;calculatedHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">##B38*(B56/C26)^B39*C34^-B40*Infield!F20^2.76/2.76+&apos;Lateral Data&apos;!B41*&apos;Lateral Data&apos;!B56^2*&apos;Lateral Data&apos;!C34^-4*(Infield!F20/Infield!F16)*(2*(Infield!F20/Infield!F16)+1)*((Infield!F20/Infield!F16)+1)/6*C33

#B38=coff. HL in lateral
#C26=Emitter spacing
#B39=coff. of flow EXP.
#C34=D(mm)-DIAMETER
#B40=coff. of Diameter EXP.
#B41=coff. of  Kd part
#C33=Kd

SELECT ?subject ?calculatedHL WHERE {

   ?da1 ps:isDynamicAttribute pci:InfieldAverageLengthLateral;
      ps:dynamicDataAttributeValue ?avgLateral.

   ai:InfieldMasterData pcs:coffFlowEXP ?coffFlowEXP.
   ai:InfieldMasterData pcs:coffKdpart ?coffKdpart.
   ai:InfieldMasterData pcs:coffDiameterEXP ?coffDia.
   ai:InfieldMasterData pcs:coffHLinLateral ?coffHL.

   ?subject pcs:fixedQflow ?Qflow.
   ?subject pcs:temp ?temp.
   ?subject pcs:emitterSpacingforCalculation ?factorEmitterspacing.
   ?subject pcs:kdforCalculation ?factorKd.
   ?subject pcs:internalDmmforCalculation ?factorDmm.
   ?subject ps:includesDynamicAttribute ?da1.

   BIND(?coffHL*?temp*ps:pow(?factorDmm,(-?coffDia))*(ps:pow(?avgLateral,2.76)/2.76)+?coffKdpart*ps:pow(?Qflow,2)*ps:pow(?factorDmm,(-4))*(?avgLateral/?factorEmitterspacing)*(2*(?avgLateral/?factorEmitterspacing)+1)* (((?avgLateral/?factorEmitterspacing)+1)/6)*?factorKd as ?calculatedHL)
}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">5</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">52</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#coffDiameterEXP -->

    <owl:DatatypeProperty rdf:about="&pcs;coffDiameterEXP">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#coffFlowEXP -->

    <owl:DatatypeProperty rdf:about="&pcs;coffFlowEXP">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#coffHLinLateral -->

    <owl:DatatypeProperty rdf:about="&pcs;coffHLinLateral">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#coffKdpart -->

    <owl:DatatypeProperty rdf:about="&pcs;coffKdpart">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#concentratedValvesCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;concentratedValvesCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?concentratedValvesCalculation
where {
   ?salesItem as:isProduct pci:Submain.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InfieldDirectionflowLateral.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.


   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?sym.
   ?infieldConfig pcs:maxShiftFlowRate ?maxShiftFlowRate.
   ?infieldConfig pcs:numberOfShift ?noShift.
   ?infieldConfig pcs:areaTotalFlow ?areaTotalflow.

   ?subject pcs:numberOfCell ?cell.
   ?subject pcs:numberOfValvesPerShift ?numberOfValves.
   ?subject pcs:hwMaxFlow ?maxFlow.

   BIND(ps:gcd(?cell,?noShift) as ?gcd)
   BIND(?cell*?noShift/?gcd as ?lcm)
   BIND(?areaTotalflow*1.08/?maxFlow as ?condition)

   BIND(IF(?areaTotalflow*1.08/?maxFlow&lt;=?lcm,?lcm/?noShift,CEIL((?areaTotalflow*1.08/?maxFlow)/?lcm)*?lcm/?noShift) as ?concentratedValvesCalculation)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#cropFactor -->

    <owl:DatatypeProperty rdf:about="&pcs;cropFactor">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">5b) Crop Factor:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">25</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?cropFactor  WHERE {

   ?da ps:isDynamicAttribute pci:InputCropname.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?crop.
   ?crop as:attributionFactor ?cropF.
   BIND(xsd:decimal(?cropF) AS ?cropFactor) .


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupCropdata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#dailyIrrigationTime -->

    <owl:DatatypeProperty rdf:about="&pcs;dailyIrrigationTime">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">26) Total actual daily irrigation time (hr):
</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">240</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?dailyIrrigationTime WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:durationOfShift ?durationShift.
   ?subject pcs:numberOfShift ?noShift.

   BIND(xsd:decimal(?durationShift * ?noShift)as ?dailyIrrigationTime)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#dripnetMinPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;dripnetMinPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#durationOfShift -->

    <owl:DatatypeProperty rdf:about="&pcs;durationOfShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">24) Duration of one shift per daily water return (hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">220</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?durationOfShift  WHERE {
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InputMaxIrrigationdays.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:applicationRate ?applicationRating.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:maxWaterRequirement ?calcMaxWater.
   ?mainConfigItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?maxDays.
   ?maxDays as:attributionFactor ?maxDaysValue.
   optional{
      ?da1 ps:isDynamicAttribute pci:InputMaxwaterrequirement.
      ?mainConfigItem ps:includesDynamicAttribute ?da1.
      ?da1 ps:dynamicDataAttributeValue ?manualMaxWater.
   }
   BIND (IF(BOUND(?manualMaxWater),?manualMaxWater,?calcMaxWater) as ?maxWaterReq)
   BIND(IF(?maxDaysValue=7, xsd:decimal(?maxWaterReq/?applicationRating), xsd:decimal(7*?maxWaterReq/(?maxDaysValue * ?applicationRating))) as ?durationOfShift)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#emitterDMM -->

    <owl:DatatypeProperty rdf:about="&pcs;emitterDMM">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#emitterK -->

    <owl:DatatypeProperty rdf:about="&pcs;emitterK">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#emitterKD -->

    <owl:DatatypeProperty rdf:about="&pcs;emitterKD">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#emitterSpacingforCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;emitterSpacingforCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?emitterSpacingforCalculation  WHERE {
 ?da1 ps:isDynamicAttribute pci:InfieldEmitterSpacing.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?em.
   ?em as:attributionFactor ?emFactor .
   optional{
   ?da2 ps:isDynamicAttribute pci:InfieldEmitterSpacingManual.
   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?emManual.
   }
   BIND(IF(BOUND(?emManual) &amp;&amp; ?emManual !=&quot;-&quot;,xsd:decimal(?emManual),xsd:decimal(?emFactor))as ?emitterSpacingforCalculation)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#emitterX -->

    <owl:DatatypeProperty rdf:about="&pcs;emitterX">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#filterMaxShiftFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;filterMaxShiftFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?filterMaxShiftFlowRate WHERE {
   ?salesItem as:isProduct pci:Filtration .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?infieldSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesSalesItem ?infieldSi .
   ?infieldSi as:includesConfigItem ?config .
   ?config pcs:maxShiftFlowRate ?filterMaxShiftFlowRate
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupFiltration"/>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#fixedQflow -->

    <owl:DatatypeProperty rdf:about="&pcs;fixedQflow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string"># =ROUND(C32*C28^C31*(1-0.75*0.1),3)
SELECT  ?subject ?fixedQflow WHERE {

   ?daPc ps:isDynamicAttribute pci:InfieldLateralDescription .
   ?da ps:isDynamicAttribute pci:InfieldFlowConstantk.
   ?da1 ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?da2 ps:isDynamicAttribute pci:InfieldRequiredFlowVariation.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?factorK.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?factorX.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:usesSymbolicValue/as:attributionFactor ?requiredFV.

   ?subject ps:includesDynamicAttribute ?daPc.
   ?daPc ps:usesSymbolicValue/ps:isSymbolicValue ?pcNpc .

   ?subject pcs:calculatedBlockValvePressure ?inlet.

   BIND(IF(?pcNpc=pci:Pc,?factorK,xsd:decimal(?factorK*ps:pow(?inlet,?factorX)*(1-0.75*(?requiredFV+0.03)))) as ?fixedQflow)
}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">51</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#flushingManifoldDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;flushingManifoldDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Flushing manifolds diameter:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">#IF(G23&lt;=7,IF(Infield!Q10&lt;=17,32,40),IF(G23&lt;=15,IF(Infield!Q10&lt;=17,40,50),IF(G23&lt;=30,IF(Infield!Q10&lt;=17,50,63))))

SELECT ?subject (?val as ?flushingManifoldDiameter) WHERE {


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:internalDmmforCalculation ?dmmfactor.

   ?subject pcs:noLateralManifold ?G23.

   BIND(
      IF(?G23&lt;=7 &amp;&amp; ?dmmfactor&lt;=17, 32,
         IF(?G23&lt;=7 &amp;&amp; ?dmmfactor&gt;17,40,
            IF(?G23&lt;=15 &amp;&amp; ?dmmfactor&lt;=17,40,
               IF(?G23&lt;=15 &amp;&amp; ?dmmfactor&gt;17,50,
                  IF(?G23&lt;=30 &amp;&amp; ?dmmfactor&lt;=17,50,
                     IF(?G23&lt;=30 &amp;&amp; ?dmmfactor&gt;17,63,
                        0)
                  )
               )
            )
         )
      )
      as ?val)

}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">32</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#fvNPCPercentage -->

    <owl:DatatypeProperty rdf:about="&pcs;fvNPCPercentage">
        <rdfs:comment xml:lang="en">Infield Percentage MasterData</rdfs:comment>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#fxnClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;fxnClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?fxnClass3
WHERE{

   ?subject pcs:loClass3 ?loClass3.
   ?subject pcs:hydClass3 ?hydClass3.
   ?subject pcs:mlClass3 ?mlClass3.
   BIND( ?loClass3+?hydClass3+?mlClass3 as ?fxnClass3)


}</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#fxnClass3Error -->

    <owl:DatatypeProperty rdf:about="&pcs;fxnClass3Error">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?fxnClass3Error  WHERE {
   ?subject pcs:fxnClass3 ?class3
   BIND(IF(?class3&gt;0,xsd:boolean(true),xsd:boolean(false)) AS ?fxnClass3Error)

}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#fxnClass3ErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;fxnClass3ErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?fxnClass3ErrorText  WHERE {

   ?subject pcs:fxnClass3Error ?error .
   BIND(IF(?error,&quot;model.flexnet.class3&quot;,&quot; &quot;) as ?fxnClass3ErrorText)


}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#grossAreaError -->

    <owl:DatatypeProperty rdf:about="&pcs;grossAreaError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?grossAreaError  WHERE {
   ?da ps:isDynamicAttribute pci:InputNetarea .

   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:dynamicDataAttributeValue ?area.
   BIND(IF(?area&gt;400,xsd:boolean(true),xsd:boolean(false)) AS ?grossAreaError)

}
</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#grossAreaErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;grossAreaErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?grossAreaErrorText  WHERE {

   ?subject pcs:grossAreaError ?error .
   BIND(IF(?error,&quot;model.grossarea&quot;,&quot; &quot;) as ?grossAreaErrorText)


}
</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#headControlDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;headControlDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Head Control Diameter</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?headControlDiameter
WHERE
{
   ?hcSi as:isProduct pci:HeadControl.
   ?openfieldSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.

   ?da1 ps:isDynamicAttribute pci:HcDiameter.
   ?da2 ps:isDynamicAttribute pci:HcManualDiameter.

   ?subject as:configItemIncludedBy ?hcSi.
   ?hcSi as:salesItemIncludedBy ?openfieldSi.
   ?openfieldSi as:includesSalesItem ?infieldSi.

   ?subject ps:includesDynamicAttribute ?da1,?da2.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?mORa.

   ?infieldSi as:includesConfigItem ?config.
   ?config pcs:maxShiftFlowRate ?flowRate.

   OPTIONAL {?da2 ps:usesSymbolicValue ?manualValue.
    ?manualValue rdfs:label ?mVal}

   BIND(IF(?flowRate &gt;= 1 &amp;&amp; ?flowRate &lt;= 21, concat(&quot;2&quot;,&apos; &quot; &apos;),
         IF(?flowRate &gt;= 22 &amp;&amp; ?flowRate &lt;= 48,concat(&quot;3&quot;,&apos; &quot; &apos;),
           IF(?flowRate &gt;= 49 &amp;&amp; ?flowRate &lt;= 85,concat(&quot;4&quot;,&apos; &quot; &apos;),
               IF(?flowRate &gt;= 86 &amp;&amp; ?flowRate &lt;= 190,concat(&quot;6&quot;,&apos; &quot; &apos;),
                  IF(?flowRate &gt;= 191 &amp;&amp; ?flowRate &lt;= 340,concat(&quot;8&quot;,&apos; &quot; &apos;),
                     IF(?flowRate &gt;= 341 &amp;&amp; ?flowRate &lt;= 530,concat(&quot;10&quot;,&apos; &quot; &apos;),
                        IF(?flowRate &gt;= 531 &amp;&amp; ?flowRate &lt;= 750,concat(&quot;12&quot;,&apos; &quot; &apos;),
                           IF(?flowRate &gt;= 751 &amp;&amp; ?flowRate &lt;= 870,concat(&quot;8&quot;,&apos; &quot; &apos;,&quot;+&quot;,&quot;10&quot;,&apos; &quot; &apos;),
                              IF(?flowRate &gt;= 871 &amp;&amp; ?flowRate &lt;= 1060,concat(&quot;2&quot;,&quot;x&quot;,&quot;10&quot;,&apos; &quot; &apos;),
                                 IF(?flowRate &gt;= 1061 &amp;&amp; ?flowRate &lt;= 1280,concat(&quot;10&quot;,&apos; &quot; &apos;,&quot;+&quot;,&quot;12&quot;,&apos; &quot; &apos;),
                                    IF(?flowRate &gt;= 1281 &amp;&amp; ?flowRate &lt;= 1500,concat(&quot;2&quot;,&quot;x&quot;,&quot;12&quot;,&apos; &quot; &apos;),&quot;&quot;))))))))))) as ?aVal)

   BIND(IF(?mORa = pci:HcManual,?mVal,
         IF(?mORa = pci:HcAutomatic,?aVal,&quot;&quot;)) as ?headControlDiameter)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupHeadcontrol"/>
        <rdfs:domain rdf:resource="&pcs;HeadControl-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#heightEP -->

    <owl:DatatypeProperty rdf:about="&pcs;heightEP">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?heightEP WHERE {
   ?da ps:isDynamicAttribute pci:InputHighestpointLoc.
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?da2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?da3 ps:isDynamicAttribute pci:InputAltitudeThirdpoint.


   ?subject as:configItemIncludedBy ?salesItem.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?hpLoc.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?HP.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?LP.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?TP.
   BIND(IF(?hpLoc=pci:HighpointLoc1,?HP,
         IF(?hpLoc=pci:HighpointLoc2,?TP,
            IF(?hpLoc=pci:HighpointLoc3,?LP,
               ?LP))) as ?heightEP)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#heightX -->

    <owl:DatatypeProperty rdf:about="&pcs;heightX">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?heightX WHERE {
   ?da ps:isDynamicAttribute pci:InputHighestpointLoc.
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?da2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?da3 ps:isDynamicAttribute pci:InputAltitudeThirdpoint.


   ?subject as:configItemIncludedBy ?salesItem.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?hpLoc.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?HP.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?LP.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?TP.

   BIND(IF(?hpLoc=pci:HighpointLoc1,?LP-?TP,
         IF(?hpLoc=pci:HighpointLoc2,?HP-?TP,
            IF(?hpLoc=pci:HighpointLoc3,?TP-?LP,
               ?TP-?HP))) as ?heightX)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#heightY -->

    <owl:DatatypeProperty rdf:about="&pcs;heightY">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?heightY WHERE {
   ?da ps:isDynamicAttribute pci:InputHighestpointLoc.
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?da2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?da3 ps:isDynamicAttribute pci:InputAltitudeThirdpoint.


   ?subject as:configItemIncludedBy ?salesItem.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?hpLoc.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?HP.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?LP.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?TP.

   BIND(IF(?hpLoc=pci:HighpointLoc1,?TP-?HP,
         IF(?hpLoc=pci:HighpointLoc2,?LP-?TP,
            IF(?hpLoc=pci:HighpointLoc3,?HP-?TP,
               ?TP-?LP))) as ?heightY)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#highestPointError -->

    <owl:DatatypeProperty rdf:about="&pcs;highestPointError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?highestPointError
WHERE {
   ?daWaterSource ps:isDynamicAttribute pci:InputWaterSourceDistance .
   ?daGroundLevel ps:isDynamicAttribute pci:InputAltitudeWatersource .
   ?daHighestPoint ps:isDynamicAttribute pci:InputAltitudeHighestpoint .

   ?subject ps:includesDynamicAttribute ?daWaterSource, ?daGroundLevel , ?daHighestPoint .
   ?daWaterSource ps:dynamicDataAttributeValue ?ws .
   ?daWaterSource ps:dynamicAttributeHidden ?hidden .

   ?daGroundLevel ps:dynamicDataAttributeValue ?groundLevel .

   ?daHighestPoint ps:dynamicDataAttributeValue ?hightestPoint .

   BIND(IF(?hidden || ?ws=0,xsd:boolean(?hightestPoint&lt;?groundLevel),xsd:boolean(false))
      as ?highestPointError)
}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#highestPointErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;highestPointErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?highestPointErrorText  WHERE {
   ?subject pcs:highestPointError ?error .
   BIND(IF(?error,&quot;model.highestPoint&quot;,&quot; &quot;) as ?highestPointErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hl -->

    <owl:DatatypeProperty rdf:about="&pcs;hl">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">56</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hl WHERE {
   ?da ps:isDynamicAttribute pci:InfieldMinimumPressure;
      ps:usesSymbolicValue /as:attributionFactor ?minFactor.
   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ ps:objectName ?objPC.

   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ ps:objectName ?objPC.

   ?subject pcs:calculatedBlockValvePressure ?inlet.
   ?subject pcs:pressureVariation ?pressureVariation.

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da, ?da1.
   BIND(if(?objPC=&apos;NON-PC&apos;,(?pressureVariation*?inlet)/100,(?inlet-(?minFactor))) as ?hl)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hwMaxFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;hwMaxFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hwMaxFlow
WHERE {

?salesItem as:isProduct pci:Submain.
   ?valveAttribute ps:isDynamicAttribute pci:HeadworksType .
   ?materialAttribute ps:isDynamicAttribute pci:HeadworksTypeMaterial .
   ?diameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .
   ?flowAttribute ps:isDynamicAttribute pci:HeadworksMaxFlow .


?subject as:configItemIncludedBy ?salesItem .

   ?subject ps:includesDynamicAttribute ?materialAttribute, ?valveAttribute, ?diameterAttribute , ?flowAttribute.
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?valveAttribute ps:usesSymbolicValue ?ValveValue .
   ?ValveValue ps:isSymbolicValue/^ps:isSymbolicValue ?valve .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .




   ?entry ^as:usesBOMEntry ?valve, ?material, ?diameter ,?flow .
   FILTER EXISTS{
      ?flow ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?flowAttribute .
   }
   ?flow as:attributionFactor ?hwMaxFlow .

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (sum(?val2) as ?hydClass3)
WHERE{
   ?salesItem as:isProduct pci:MainLine.
   ?mainLineDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mainLineDimensionSi.
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
   ?mainLineSection as:includesConfigItem ?config.
   ?config pcs:hydrantFxnClass3 ?val2.
}group by ?subject</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydConcentratedfirstQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydConcentratedfirstQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydConcentratedfirstQ WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:HydrantSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConfig.
   ?hydConfig pcs:sectionIndex ?index.
   ?hydConfig pcs:hydrantConcentratedQ ?hydConcentratedfirstQ.

   FILTER(?index=1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydfirstQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydfirstQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydfirstQ WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   {
      ?hydConSi as:isProduct pci:HydrantSectionConcentrated.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydConSi.
      ?hydConSi as:includesConfigItem ?hydConfig.
      ?hydConfig pcs:sectionIndex ?index.
      ?hydConfig pcs:hydrantConcentratedQ ?hydfirstQ.
   }
   UNION
   {

      ?hydConSi as:isProduct pci:HydrantSectionScattered.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydConSi.
      ?hydConSi as:includesConfigItem ?hydConfig.
      ?hydConfig pcs:sectionIndex ?index.
      ?hydConfig pcs:hydrantScatteredQ ?hydfirstQ.
   }

   FILTER(?index=1)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDown1 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDown1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDown1 WHERE {
  #=IF(G6&gt;G4,MAX(BU7:BW7),IF(G9&lt;=20,E23,IF(E23=4,6,E23)))
   ?subject pcs:mainLineE23 ?e23 .
   ?subject pcs:mainLineG6 ?g6 .
   ?subject pcs:mainLineG4 ?g4 .
   ?subject pcs:mainLineG9 ?g9 .
   ?subject pcs:maxHydrantClassUp ?maxHC.
   BIND(IF(?g6&gt;?g4,?maxHC,IF(?g9&lt;=20,?e23,IF(?e23=4,6,?e23))) as ?hydrantClassDown1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDown2 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDown2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDown2 WHERE {
   #=IF(G9&lt;=20,0,IF(G9&lt;=40,IF(BX7=6,8,0),IF(G9&lt;=60,IF(BX7=6,8,IF(BX7=8,10,0)),IF(BX7=6,IF(E22=1,10,12.5),IF(BX7=8,10,IF(BX7=10,12.5,0))))))

   ?subject pcs:mainLineE22 ?e22 .
   ?subject pcs:mainLineG9 ?g9 .
   ?subject pcs:hydrantClassDown1 ?bx7.
   BIND(IF(?g9&lt;=20,0,IF(?g9&lt;=40,IF(?bx7=6,8,0),IF(?g9&lt;=60,IF(?bx7=6,8,IF(?bx7=8,10,0)),IF(?bx7=6,IF(?e22=1,10,12.5),IF(?bx7=8,10,IF(?bx7=10,12.5,0)))))) AS ?hydrantClassDown2)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDown3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDown3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDown3 WHERE {
   #=IF(G9&lt;=40,0,IF(G9&lt;=60,IF(BY7=8,10,0),IF(BY7=8,10,IF(BY7=10,12.5,0))))

   ?subject pcs:mainLineG9 ?g9 .
   ?subject pcs:hydrantClassDown2 ?by7.
   BIND(IF(?g9&lt;=40,0,IF(?g9&lt;=60,IF(?by7=8,10,0),IF(?by7=8,10,IF(?by7=10,12.5,0)))) AS ?hydrantClassDown3)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDownRatio1 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDownRatio1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDownRatio1 WHERE {
# =IF(BY7=0,BX4,IF(BZ7=0,INT(BX4/2),INT(BX4/3)))
   ?subject pcs:mainLineShortDownHill ?d46 .
   ?subject pcs:hydrantClassDown2 ?by7.
   ?subject pcs:hydrantClassDown3 ?bz7.
   BIND(IF(?d46=0,1,
         IF(?by7=0,?d46,IF(?bz7=0,FLOOR(?d46/2),FLOOR(?d46/3)))/?d46) AS ?hydrantClassDownRatio1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDownRatio2 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDownRatio2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDownRatio2 WHERE {
# =IF(BY7=0,0,IF(BZ7=0,BX4-BX8,BX4-BX8-BZ8))
   ?subject pcs:mainLineShortDownHill ?d46 .
   ?subject pcs:hydrantClassDown2 ?by7.
   ?subject pcs:hydrantClassDown3 ?bz7.
   ?subject pcs:hydrantClassDownRatio1 ?bx8 .
   ?subject pcs:hydrantClassDownRatio3 ?bz8 .
   BIND(IF(?d46=0,0,
         IF(?by7=0,0,IF(?bz7=0,?d46-?bx8*?d46,?d46-(?bx8+?bz8)*?d46))/?d46) AS ?hydrantClassDownRatio2)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassDownRatio3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassDownRatio3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassDownRatio3 WHERE {
# =IF(BZ7=0,0,ROUNDUP(BX4/3,0))
   ?subject pcs:mainLineShortDownHill ?d46 .
   ?subject pcs:hydrantClassDown3 ?bz7.

   BIND(IF(?d46=0,0,IF(?bz7=0,0,CEIL(?d46/3))/?d46) AS ?hydrantClassDownRatio3)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassLong WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?da1 ps:isDynamicAttribute pci:MainlineClass.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?mainLineConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?e23.
   ?subject pcs:hydrantFinalPressureLong ?k20.
   ?subject pcs:sectionLong ?k15.

   BIND(IF(?k15=0,xsd:decimal(0),ps:class(?k20, ?e22,?e23)) AS ?hydrantClassLong)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Short:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">20</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassShort WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?da1 ps:isDynamicAttribute pci:MainlineClass.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?mainLineConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?e23.
   ?subject pcs:sectionShort ?k15.
   ?subject pcs:hydrantFinalPressureShort ?k20.

   BIND(IF(?k15=0,xsd:decimal(0),ps:class(?k20, ?e22,?e23)) AS ?hydrantClassShort)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUp1 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUp1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUp1 WHERE {
  # =IF(E23&gt;IF(G6-G4&lt;=20,IF(G8&lt;=10,E23,IF(E23=4,6,E23)),IF(G6-G4&lt;=40,8,IF(G6-G4&lt;=70,10,IF(E22=1,12.5,10)))),E23,IF(G6-G4&lt;=20,IF(G8&lt;=10,E23,IF(E23=4,6,E23)),IF(G6-G4&lt;=40,8,IF(G6-G4&lt;=60,10,IF(E22=1,12.5,10)))))

   ?subject pcs:mainLineE23 ?e23 .
   ?subject pcs:mainLineE22 ?e22 .
   ?subject pcs:mainLineG6 ?g6 .
   ?subject pcs:mainLineG4 ?g4 .
   ?subject pcs:mainLineG8 ?g8 .
   BIND( IF(?e23&gt;IF(?g6-?g4&lt;=20,IF(?g8&lt;=10,?e23,IF(?e23=4,6,?e23)),IF(?g6-?g4&lt;=40,8,IF(?g6-?g4&lt;=70,10,IF(?e22=1,12.5,10)))),?e23,IF(?g6-?g4&lt;=20,IF(?g8&lt;=10,?e23,IF(?e23=4,6,?e23)),IF(?g6-?g4&lt;=40,8,IF(?g6-?g4&lt;=60,10,IF(?e22=1,12.5,10)))))as ?hydrantClassUp1 )


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUp2 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUp2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUp2 WHERE {
# =IF(G6-G4&lt;=20,IF(G8&lt;=10,0,IF(G8&lt;=30,IF(BU7=6,8,0),IF(G8&lt;=50,IF(BU7=6,8,IF(BU7=8,10,0)),IF(BU7=6,IF(E22=1,10,8),IF(BU7=8,10,IF(BX7=10,12.5,0)))))),0)

   ?subject pcs:mainLineE23 ?e23 .
   ?subject pcs:mainLineE22 ?e22 .
   ?subject pcs:mainLineG6 ?g6 .
   ?subject pcs:mainLineG4 ?g4 .
   ?subject pcs:mainLineG8 ?g8 .
   ?subject pcs:hydrantClassUp1 ?bu7 .

   BIND(IF(?g6-?g4&lt;=20,IF(?g8&lt;=10,0,IF(?g8&lt;=30,IF(?bu7=6,8,0),IF(?g8&lt;=50,IF(?bu7=6,8,IF(?bu7=8,10,0)),IF(?bu7=6,IF(?e22=1,10,8),IF(?bu7=8,10,IF(?bu7=10,12.5,0)))))),0) AS ?hydrantClassUp2)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUp3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUp3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUp3 WHERE {
#=IF(G8&lt;=30,0,IF(G8&lt;=50,IF(BV7=8,10,0),IF(BV7=8,10,IF(BV7=10,IF(E22=1,12.5,0),0))))

   ?subject pcs:mainLineE22 ?e22 .
   ?subject pcs:mainLineG8 ?g8 .
   ?subject pcs:hydrantClassUp2 ?bv7 .


   BIND(IF(?g8&lt;=30,0,IF(?g8&lt;=50,IF(?bv7=8,10,0),IF(?bv7=8,10,IF(?bv7=10,IF(?e22=1,12.5,0),0)))) AS ?hydrantClassUp3)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUpRatio1 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUpRatio1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUpRatio1 WHERE {
  #=IF(BV7=0,BU4,IF(BW7=0,INT(BU4/2),INT(BU4/3)))
   ?subject pcs:mainLineLongUpHill ?e46 .
   ?subject pcs:hydrantClassUp2 ?bv7.
   ?subject pcs:hydrantClassUp3 ?bw7.
   BIND(IF(?e46=0,1,
         IF(?bv7=0,?e46,IF(?bw7=0,FLOOR(?e46/2),FLOOR(?e46/3)))/?e46) AS ?hydrantClassUpRatio1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUpRatio2 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUpRatio2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUpRatio2 WHERE {
  #=IF(BV7=0,0,IF(BW7=0,BU4-BU8,BU4-BU8-BW8))
   ?subject pcs:mainLineLongUpHill ?e46 .
   ?subject pcs:hydrantClassUp2 ?bv7.
   ?subject pcs:hydrantClassUp3 ?bw7.
   ?subject pcs:hydrantClassUpRatio1 ?bu8 .
   ?subject pcs:hydrantClassUpRatio3 ?bw8 .
   BIND(IF(?e46=0,0,
         IF(?bv7=0,0,IF(?bw7=0,?e46-?bu8*?e46,?e46-(?bu8+?bw8)*?e46))/?e46) AS ?hydrantClassUpRatio2)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantClassUpRatio3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantClassUpRatio3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantClassUpRatio3 WHERE {
 #=IF(BW7=0,0,ROUNDUP(BU4/3,0))
   ?subject pcs:mainLineLongUpHill ?e46 .
   ?subject pcs:hydrantClassUp3 ?bw7.
   BIND(IF(?e46=0,0,IF(?bw7=0,0,CEIL(?e46/3))/?e46) AS ?hydrantClassUpRatio3)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantConcentratedNbscLastQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantConcentratedNbscLastQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Nbsc Last Q:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantConcentratedNbscLastQ WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?salesItem as:isProduct pci:HydrantSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineG27 ?g27.
   ?mainLineConfig pcs:mainLineE14 ?e14.
   ?mainLineConfig pcs:mainLineE54 ?e54.
   ?mainLineConfig pcs:hydConcentratedfirstQ ?firstQ.
   ?subject pcs:sectionIndex ?index.
   ?subject pcs:hydrantConcentratedQ ?q.
   BIND(ps:nbsc_last_q(?index, ?q, ?e14, ?e54, ?g27, ?firstQ) AS ?hydrantConcentratedNbscLastQ)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSectionConcentrated-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantConcentratedQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantConcentratedQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;integer">1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantConcentratedQ  WHERE {
   optional{

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineG27 ?G27.
      ?mainLineConfig pcs:mainLineE15 ?E15.
      ?mainLineConfig pcs:mainLineE14 ?E14.

      ?subject pcs:sectionIndex ?index.
    ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:HydrantSectionConcentrated.
      BIND(ps:q_hyd_conc(?index, ?E14, ?E15, ?G27) as ?val1)
   }

   optional{

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineG27 ?G27.
      ?mainLineConfig pcs:mainLineE15 ?E15.
      ?mainLineConfig pcs:mainLineE14 ?E14.
    ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:HydrantSectionConcentrated.
   }

   Optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:hydrantConcentratedQ ?lastQ.
      ?subject  pcs:sectionIndex ?indexStep.

   }
  BIND(ps:q_hyd_conc_step(?indexStep, ?lastQ, ?E14, ?E15, ?G27) as ?val2)
   BIND(IF(BOUND(?val2),?val2,?val1) as ?hydrantConcentratedQ)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSectionConcentrated-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantFinalPressureLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantFinalPressureLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure Long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">14</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?hydrantFinalPressureLong
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineAO04 ?ao04.
   ?mainLineConfig pcs:mainLineE13 ?y_ep.
   ?mainLineConfig pcs:mainLineG13 ?slope.

   ?subject pcs:hydrantInitPressureLong ?k19.
   ?subject pcs:sectionVirtualHeadlossLong ?l17.
   ?subject pcs:hydrantPrLong ?l18 .

   BIND(?k19 + IF(?l18 &lt; 0, ?ao04, 0) + ?l17 + ?l18
      AS ?hydrantFinalPressureLong)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantFinalPressureShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantFinalPressureShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure Short:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">19</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantFinalPressureShort
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineAO04 ?ao04.
   ?mainLineConfig pcs:mainLineE13 ?y_ep.
   ?mainLineConfig pcs:mainLineG13 ?slope.

   ?subject pcs:hydrantInitPressureShort ?k19.
   ?subject pcs:sectionVirtualHeadlossShort ?l17.
   ?subject pcs:hydrantPrShort ?l18 .
   ?subject pcs:sectionShort ?dmm .

   BIND(IF(?dmm = 0, 0,
         ?k19 + IF(?l18 &lt; 0, ?ao04, 0) + ?l17 + ?l18)
      AS ?hydrantFinalPressureShort)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantFxnClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantFxnClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?hydrantFxnClass3
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineClass.
   ?da1 ps:isDynamicAttribute pci:MainlineType.

   {
      ?salesItem as:isProduct pci:HydrantSectionScattered.

   }
   UNION
   {

      ?salesItem as:isProduct pci:HydrantSectionConcentrated.

   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?class.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?type.

   ?subject pcs:hydrantClassShort ?classDown.
   ?subject pcs:hydrantClassLong ?classUp.

   BIND(IF(?class=2.2 &amp;&amp; ?type=pci:MainlineFlexnethp,IF(?classDown=3 || ?classUp=3,xsd:decimal(1),xsd:decimal(0)),xsd:decimal(0)) as ?hydrantFxnClass3 )



}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantInitPressureLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantInitPressureLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Init Pressure Long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">13</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantInitPressureLong
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi .
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi .
   ?mainLineSi as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig pcs:mainLineG15 ?block_pressure .
   ?subject pcs:sectionLong ?dmm .

   BIND(IF(?dmm=0, xsd:decimal(0), ?block_pressure) AS ?initial)

   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:sectionLinkedBy ?lastSection .
      ?lastSection as:includesConfigItem ?lastSectionConfig .
      ?lastSectionConfig pcs:hydrantInitPressureLong ?pressure .
      ?lastSectionConfig pcs:hydrantPrLong ?topo .
      ?lastSectionConfig pcs:sectionVirtualHeadlossLong ?hl .
   }

   BIND(IF(?dmm=0, xsd:decimal(0),
         IF(BOUND(?pressure), ?pressure + ?topo + ?hl, ?initial))
      AS ?hydrantInitPressureLong)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantInitPressureShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantInitPressureShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Init Pressure Short:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">18</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantInitPressureShort
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi .
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi .
   ?mainLineSi as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig pcs:mainLineG15 ?g15 .
   ?subject pcs:sectionShort ?k14 .

   BIND(IF(?k14=0, xsd:decimal(0), ?g15) AS ?initial)

   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:sectionLinkedBy ?lastSection .
      ?lastSection as:includesConfigItem ?lastSectionConfig .
      ?lastSectionConfig pcs:hydrantInitPressureShort ?pressure .
      ?lastSectionConfig pcs:sectionVirtualHeadlossShort ?k17 .
      ?lastSectionConfig pcs:hydrantPrShort ?k18 .
   }

   BIND(IF(?k14=0, xsd:decimal(0),
         IF(BOUND(?pressure), ?pressure + ?k17 + ?k18, ?initial))
      AS ?hydrantInitPressureShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantLastQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantLastQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantLastQ
WHERE {
   OPTIONAL {
      ?subject pcs:hydrantLongLastQ ?qUp.
   }
   OPTIONAL {
      ?subject pcs:hydrantShortLastQ ?qDown.
   }

   BIND(IF(?qUp != &quot;-&quot; &amp;&amp; ?qDown != &quot;-&quot;,
         IF(?qUp &gt; ?qDown, ?qUp, ?qDown),
         IF(?qUp != &quot;-&quot;, ?qUp, ?qDown))
         AS ?hydrantLastQ)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantLongLastQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantLongLastQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantLongLastQ
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:hydrantScatteredQ ?hydrantLongLastQ .
      ?hydScatteredConfig pcs:sectionLong ?this.
      FILTER (?this != 0)
   }
   UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:hydrantConcentratedQ ?hydrantLongLastQ .
      ?hydScatteredConfig pcs:sectionLong ?this.
      FILTER (?this != 0)
   }



   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantMaxIndexLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantMaxIndexLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantMaxIndexLong WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   UNION
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionIndex ?hydrantMaxIndexLong.
   ?hydScatteredConfig pcs:sectionLong ?long.

   FILTER(?long != 0)

} ORDER BY DESC(?hydrantMaxIndexLong) LIMIT 1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantMaxIndexShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantMaxIndexShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantMaxIndexShort WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   UNION
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionIndex ?hydrantMaxIndexShort.
   ?hydScatteredConfig pcs:sectionShort ?short.

   FILTER(?short != 0)

} ORDER BY DESC(?hydrantMaxIndexShort) LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantPrLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantPrLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Pr Long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">12</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantPrLong WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE13 ?e13.
   ?mainLineConfig pcs:mainLineE25 ?e25.
   ?mainLineConfig pcs:mainLineG13 ?g13.
   ?mainLineConfig pcs:mainLineAT26 ?at26.
   ?subject pcs:sectionLong ?k14.
   optional
   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:linksSection ?nextSi.
      ?nextSi as:includesConfigItem ?nextConfig.
      ?nextConfig pcs:sectionRealDmm ?nextDmm.
   }
   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   }

   BIND(IF(BOUND(?nextDmm) &amp;&amp; ?nextDmm!=&quot;-&quot;,?nextDmm,0) as ?l14)
   BIND(IF(?e13&gt;0.5,-1,1) as ?factor)
   BIND(IF(?k14=0,0,ps:pr(?k14, ?l14, ?factor, ?e25,?g13,?at26) )as ?hydrantPrLong)

}


</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantPrShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantPrShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Pr Short:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">17</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantPrShort
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE13 ?e13.
   ?mainLineConfig pcs:mainLineE25 ?e25.
   ?mainLineConfig pcs:mainLineG13 ?g13.
   ?mainLineConfig pcs:mainLineAY26 ?at26.
   ?subject pcs:sectionShort ?k14.

   optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:linksSection ?nextSi.
      ?nextSi as:includesConfigItem ?nextConfig.
      ?nextConfig pcs:sectionShort ?nextDmm.
   }

   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   }

   BIND(IF(BOUND(?nextDmm), ?nextDmm, 0) as ?l14)

   BIND(IF(?e13 &gt; 0.5, 1, -1) as ?factor)

   BIND(IF(?k14=0,xsd:decimal(0),ps:pr(?k14, ?l14, ?factor, ?e25,?g13,?at26))
      as ?hydrantPrShort)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantScatteredQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantScatteredQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantScatteredQ  WHERE {
   optional{

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineG27 ?G27.
      ?mainLineConfig pcs:mainLineNbscScattered ?E49.
      ?mainLineConfig pcs:mainLineE14 ?E14.

      ?subject pcs:sectionIndex ?index.
    ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:HydrantSectionScattered.
      BIND(ps:q_hyd_sca(?G27,?E49,?index,?E14) as ?val1)
   }

   optional{

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineG27 ?G27.
      ?mainLineConfig pcs:mainLineNbscScattered ?E49.
      ?mainLineConfig pcs:mainLineE14 ?E14.
    ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:HydrantSectionScattered.
   }

   Optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:hydrantScatteredQ ?lastQ.
      ?subject  pcs:sectionIndex ?indexStep.

   }

   BIND(ps:q_hyd_sca_step(?indexStep,?lastQ, ?E49,?E14,?G27) as ?val2)
   BIND(IF(BOUND(?val2),?val2,?val1) as ?hydrantScatteredQ)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;HydrantSectionScattered-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantShortLastQ -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantShortLastQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantShortLastQ
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:hydrantScatteredQ ?hydrantShortLastQ .
      ?hydScatteredConfig pcs:sectionShort ?this.
      FILTER (?this != 0)
   }
   UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:hydrantConcentratedQ ?hydrantShortLastQ .
      ?hydScatteredConfig pcs:sectionShort ?this.
      FILTER (?this != 0)
   }



   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantVirtualHeadlossLong -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantVirtualHeadlossLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantVirtualHeadlossLong WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE25 ?blockWidth.
   ?mainLineConfig pcs:mainLineAT25 ?at25.

   ?subject pcs:sectionInnerDmm ?innerDmm.
   ?subject pcs:sectionLong ?k14.

   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   }

   BIND(IF(EXISTS {
            ?salesItem pcs:linksSection ?successor .
            ?successor as:includesConfigItem ?sucConfig .
            ?sucConfig pcs:sectionLong ?next.
            FILTER (?next != 0)
         }, xsd:decimal (0), ?at25) AS ?reduction)

   BIND(IF(?k14=0,0,
         ps:virtual_hl(?k6, ?blockWidth, ?innerDmm) + ?reduction)
      AS ?hydrantVirtualHeadlossLong)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#hydrantVirtualHeadlossShort -->

    <owl:DatatypeProperty rdf:about="&pcs;hydrantVirtualHeadlossShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?hydrantVirtualHeadlossShort
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE25 ?blockWidth.
   ?mainLineConfig pcs:mainLineAY25 ?ay25.

   ?subject pcs:sectionInnerDmm ?innerDmm.
   ?subject pcs:sectionShort ?k14.
   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   }

   BIND(IF(EXISTS {
            ?salesItem pcs:linksSection ?successor .
            ?successor as:includesConfigItem ?sucConfig .
            ?sucConfig pcs:sectionShort ?next.
            FILTER (?next != 0)
         }, xsd:decimal (0), ?ay25) AS ?reduction)

   BIND(IF(?k14=0,0,
         ps:virtual_hl(?k6, ?blockWidth, ?innerDmm) + ?reduction)
      AS ?hydrantVirtualHeadlossShort)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;HydrantSection-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#infieldOutput -->

    <owl:DatatypeProperty rdf:about="&pcs;infieldOutput">
        <rdfs:label xml:lang="en">Infield Design Data - OUTPUT</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">195</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#infieldRealAverageLengthLateralError -->

    <owl:DatatypeProperty rdf:about="&pcs;infieldRealAverageLengthLateralError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?infieldRealAverageLengthLateralError
WHERE {
   ?InputSi as:isProduct pci:OpenFieldProject.
   ?da ps:isDynamicAttribute pci:InfieldRealAverageLengthLateral.
   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription .
   ?da2 ps:isDynamicAttribute pci:InputNetarea.

   ai:InfieldMasterData pcs:fvNPCPercentage ?fvPercentage.
   ai:InfieldMasterData pcs:lengthPCPercentage ?lengthPercentage.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?InputSi.
   ?InputSi as:includesConfigItem ?config.
   ?config ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?areaData.

   ?subject ps:includesDynamicAttribute ?da, ?da1.
   ?da ps:dynamicDataAttributeValue ?manualInput.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?desc.
   ?subject pcs:actualRealFlowVariationDecimal ?fv.
   ?subject pcs:actualRealAverageLateralLengthCalculation ?actual.

   BIND(xsd:decimal(?actual * ?lengthPercentage/100) as ?length)
   BIND(xsd:decimal( ?manualInput - ?areaData * floor(?manualInput / ?areaData)) as ?mod)


   BIND(xsd:boolean(?fv &gt; ?fvPercentage) as ?nonPcError)
   BIND(xsd:boolean(?manualInput &gt; ?length) as ?pcError)
   BIND(xsd:boolean(?mod&gt;1) as ?modError)

   BIND(IF(?modError,?modError,
      IF(?desc = pci:Non-Pc,?nonPcError,
         IF(?desc= pci:Pc,  ?pcError,
               false))) as ?infieldRealAverageLengthLateralError)
}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#infieldRealAverageLengthLateralErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;infieldRealAverageLengthLateralErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?infieldRealAverageLengthLateralErrorText
WHERE {
   ?InputSi as:isProduct pci:OpenFieldProject.
   ?da ps:isDynamicAttribute pci:InfieldRealAverageLengthLateral.
   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription .
   ?da2 ps:isDynamicAttribute pci:InputNetarea.

   ai:InfieldMasterData pcs:fvNPCPercentage ?fvPercentage.
   ai:InfieldMasterData pcs:lengthPCPercentage ?lengthPercentage.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?InputSi.
   ?InputSi as:includesConfigItem ?config.
   ?config ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?areaData.

   ?subject ps:includesDynamicAttribute ?da, ?da1.
   ?da ps:dynamicDataAttributeValue ?manualInput.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?desc.
   ?subject pcs:actualRealFlowVariationDecimal ?fv.
   ?subject pcs:actualRealAverageLateralLengthCalculation ?actual.

   BIND(xsd:decimal(?actual * ?lengthPercentage/100) as ?length)
   BIND(xsd:decimal( ?manualInput - ?areaData * floor(?manualInput / ?areaData)) as ?mod)


   BIND(xsd:boolean(?fv &gt; ?fvPercentage) as ?nonPcError)
   BIND(xsd:boolean(?manualInput &gt; ?length) as ?pcError)
   BIND(xsd:boolean(?mod&gt;1) as ?modError)

   BIND(&quot;model.modError&quot; as ?modErrorMsg)
   BIND(CONCAT(&quot;model.pcError&quot;, CONCAT (&quot;,&quot;, STR(?lengthPercentage)) ) as ?pcErrorMsg)
   BIND(CONCAT(&quot;model.NonpcError&quot;, CONCAT (&quot;,&quot;, STR(?fvPercentage)) ) as ?nonPcErrorMsg)

   BIND(IF(?modError,?modErrorMsg,
         IF(?pcError,?pcErrorMsg,
            IF(?nonPcError,?nonPcErrorMsg,
               &quot;&quot;))) as ?infieldRealAverageLengthLateralErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#inputAreaParallel -->

    <owl:DatatypeProperty rdf:about="&pcs;inputAreaParallel">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Length of area parallel to row direction (m): </rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?inputAreaParallel) WHERE {
   ?da ps:isDynamicAttribute pci:InputNetarea.
   ?da1 ps:isDynamicAttribute pci:InputRelativeDimension.


   ?subject as:configItemIncludedBy ?salesItem.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?inputNetArea.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?dimension.
   optional{
      ?da2 ps:isDynamicAttribute pci:InputDimension.
      ?subject ps:includesDynamicAttribute ?da2.
      ?da2 ps:dynamicDataAttributeValue ?dimensionNumber.
   }
   optional{
   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?manualRowParallel.
   ?da3 ps:isDynamicAttribute pci:InputRowparallel.
   }
   optional{
   ?subject pcs:inputAreaPerpendicular ?areaPerpendicular.
   }

   BIND(IF(?dimension=pci:RelativeTrue,xsd:decimal(?areaPerpendicular*?dimensionNumber),?manualRowParallel) as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAreadata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#inputAreaPerpendicular -->

    <owl:DatatypeProperty rdf:about="&pcs;inputAreaPerpendicular">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Width of area perpendicular to row direction (m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?inputAreaPerpendicular) WHERE {
   ?da ps:isDynamicAttribute pci:InputNetarea.
   ?da1 ps:isDynamicAttribute pci:InputRelativeDimension.

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?inputNetArea.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?dimension.
   optional{

      ?da2 ps:isDynamicAttribute pci:InputDimension.
      ?subject ps:includesDynamicAttribute ?da2.
      ?da2 ps:dynamicDataAttributeValue ?dimensionNumber.
   }
   optional{
      ?subject ps:includesDynamicAttribute ?da3.
      ?da3 ps:dynamicDataAttributeValue ?manualRowParallel.
      ?da3 ps:isDynamicAttribute pci:InputRowparallel.
   }

   BIND(IF(?dimension=pci:RelativeTrue,ROUND(ps:pow((ps:pow(10,4)*?inputNetArea/?dimensionNumber),0.5)),ROUND(?inputNetArea*10000/?manualRowParallel)) as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAreadata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#inputLocationThirdPoint -->

    <owl:DatatypeProperty rdf:about="&pcs;inputLocationThirdPoint">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Location of &apos;Third Point&apos; (TP) at the perimeter of the irrigated area at X,Y format</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?result as ?inputLocationThirdPoint) WHERE {
   ?da1 ps:isDynamicAttribute pci:InputHighestpointLoc.
   ?da2 ps:isDynamicAttribute pci:InputSlopeUniform.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da1,?da2.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?hp.
   ?da2 ps:usesSymbolicValue/ps:isSymbolicValue ?uniform
   BIND(IF(?hp=1,&quot;(0,1)&quot;,
         IF(?hp=2,&quot;(0,0)&quot;,
            IF(?hp=3,&quot;(1,0)&quot;,&quot;(1,1)&quot;
            ))) as ?val)
   BIND(IF(?uniform=pci:SlopeUniformNo,&quot;-&quot;,?val) as ?result)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAreadata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#inputSlopeX -->

    <owl:DatatypeProperty rdf:about="&pcs;inputSlopeX">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Slopes calculated values (%) and directions X</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">18</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?inputSlopeX) WHERE {
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?da2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?da3 ps:isDynamicAttribute pci:InputAltitudeThirdpoint.


   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:inputAreaParallel ?L.
   ?subject pcs:inputLocationThirdPoint ?TPLOC.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?HP.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?LP.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?TP.
   BIND(IF(?TPLOC=&quot;(0,1)&quot;,((?LP-?TP)/?L)*100,
         IF(?TPLOC=&quot;(1,1)&quot;,((?TP-?HP)/?L)*100,
            IF(?TPLOC=&quot;(1,0)&quot;,((?TP-?LP)/?L)*100,
               ((?HP-?TP)/?L)*100))) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAreadata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#inputSlopeY -->

    <owl:DatatypeProperty rdf:about="&pcs;inputSlopeY">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Slopes calculated values (%) and directions Y</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">19</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?inputSlopeY) WHERE {
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?da2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?da3 ps:isDynamicAttribute pci:InputAltitudeThirdpoint.


   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:inputAreaPerpendicular ?W.
   ?subject pcs:inputLocationThirdPoint ?TPLOC.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?HP.

   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?LP.

   ?subject ps:includesDynamicAttribute ?da3.
   ?da3 ps:dynamicDataAttributeValue ?TP.
   BIND(IF(?TPLOC=&quot;(0,1)&quot;,((?TP-?HP)/?W)*100,
         IF(?TPLOC=&quot;(1,1)&quot;,((?TP-?LP)/?W)*100,
            IF(?TPLOC=&quot;(1,0)&quot;,((?HP-?TP)/?W)*100,
               ((?LP-?TP)/?W)*100))) as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupAreadata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#internalDmmforCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;internalDmmforCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?internalDmmforCalculation) WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldInternalDiameter;
      ps:usesSymbolicValue/as:attributionFactor ?dmmFactor.
   ?da2 ps:isDynamicAttribute pci:InfieldLateralType;
      ps:usesSymbolicValue/ps:isSymbolicValue ?emtype.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da1,?da2.

   optional{
   ?da3 ps:isDynamicAttribute pci:InfieldSprinklerDmm;
      ps:usesSymbolicValue/ps:objectName ?pipeDmm.
   }
   BIND(IF (?emtype =pci:In-lineDrippers,xsd:decimal(?dmmFactor),xsd:decimal(?pipeDmm))as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#irrigationTimeError -->

    <owl:DatatypeProperty rdf:about="&pcs;irrigationTimeError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?irrigationTimeError WHERE {
   ?subject as:configItemIncludedBy ?si.
   ?si as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:dailyIrrigationTime ?daily.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?maxtime.
   ?da ps:isDynamicAttribute pci:InputMaxIrrigationtime.
   BIND(IF(?daily&gt;?maxtime,xsd:boolean(true),xsd:boolean(false)) as ?irrigationTimeError)

}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#irrigationTimeErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;irrigationTimeErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?irrigationTimeErrorText  WHERE {

   ?subject pcs:irrigationTimeError ?error .
   BIND(IF(?error,&quot;model.max.irrigationtime&quot;,&quot; &quot;) as ?irrigationTimeErrorText)


}
</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#kdforCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;kdforCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?kdforCalculation WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldFlowConstantkd;
      ps:usesSymbolicValue/as:attributionFactor ?constantKd.
   ?da2 ps:isDynamicAttribute pci:InfieldLateralType;
      ps:usesSymbolicValue/ps:isSymbolicValue ?emtype.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da1,?da2.

   optional{
   ?da3 ps:isDynamicAttribute pci:InfieldPipeKd;
      ps:usesSymbolicValue/as:attributionFactor ?pipeKd.
   }
   BIND(IF (?emtype =pci:In-lineDrippers,xsd:decimal(?constantKd),xsd:decimal(?pipeKd))as ?kdforCalculation)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#lastMainLineInnerDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;lastMainLineInnerDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?lastMainLineInnerDmm
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }


  OPTIONAL
   {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:sectionInnerDmm ?lastMainLineInnerDmm.
   }

   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#lengthPCPercentage -->

    <owl:DatatypeProperty rdf:about="&pcs;lengthPCPercentage">
        <rdfs:comment xml:lang="en">Infield Percentage MasterData</rdfs:comment>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loClass -->

    <owl:DatatypeProperty rdf:about="&pcs;loClass">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Class:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loClass  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?salesItem as:isProduct pci:LOSection.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE22 ?e22.
   ?mainLineConfig pcs:mainLineE23 ?e23.

   ?subject pcs:pcln ?finalPressure.
   BIND(ps:class(?finalPressure, ?e22,?e23) as ?loClass)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;loClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (sum(?val2) as ?loClass3)
WHERE{
   ?salesItem as:isProduct pci:MainLine.
   ?mainLineDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mainLineDimensionSi.
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
   ?mainLineSection as:includesConfigItem ?config.
   ?config pcs:loFxnClass3 ?val2.
}group by ?subject</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loClassCalc1 -->

    <owl:DatatypeProperty rdf:about="&pcs;loClassCalc1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Class calculation 1:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loClassCalc1 WHERE {

   ?subject pcs:mainLineE22 ?e22.
   ?subject pcs:mainLineE23 ?e23.
   ?subject pcs:mainLineG10 ?g10.
   ?subject pcs:mainLineG11 ?g11.
  BIND(IF(?e23&gt;IF(?g11=&quot;down&quot;,IF(?g10&lt;=20,?e23,IF(?g10&lt;=40,8,IF(?g10&lt;=60,10,IF(?e22=1,12.5,10)))),IF(?g10&lt;=10,?e23,IF(?g10&lt;=30,8,IF(?g10&lt;=50,10,IF(?e22=1,12.5,10))))),
?e23,IF(?g11=&quot;down&quot;,IF(?g10&lt;=20,?e23,IF(?g10&lt;=40,8,IF(?g10&lt;=60,10,IF(?e22=1,12.5,10)))),IF(?g10&lt;=10,?e23,IF(?g10&lt;=30,8,IF(?g10&lt;=50,10,IF(?e22=1,12.5,10)))))) AS ?loClassCalc1)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loClassCalc2 -->

    <owl:DatatypeProperty rdf:about="&pcs;loClassCalc2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Class Calculation 2:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loClassCalc2 WHERE {

   ?subject pcs:mainlineWSDistance ?dws.
   ?subject pcs:mainLineE23 ?e23.
   ?subject pcs:mainLineG10 ?g10.
   ?subject pcs:mainLineG11 ?g11.
   ?subject pcs:mainLineG4 ?g4.
   ?subject pcs:mainLineG6 ?g6.
  BIND(IF((?dws&gt;500 &amp;&amp; ?g6&gt;?g4),IF(?e23&gt;IF(?g11=&quot;down&quot;,IF(?g10&lt;=20,?e23,IF(?g10&lt;=40,6,IF(?g10&lt;=60,8,10))),IF(?g10&lt;=30,?e23,IF(?g10&lt;=50,8,10))),?e23,IF(?g11=&quot;down&quot;,IF(?g10&lt;=20,?e23,IF(?g10&lt;=40,6,IF(?g10&lt;=60,8,10))),IF(?g10&lt;=30,?e23,IF(?g10&lt;=50,8,10)))),0) AS ?loClassCalc2)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loDec -->

    <owl:DatatypeProperty rdf:about="&pcs;loDec">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loDec  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineT ?e3.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?subject pcs:loWaterflow ?q.
   BIND(ps:dec(?q,?e3,?e22) as ?loDec)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loDecidedDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;loDecidedDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loDecidedDmm  WHERE {

   ?subject pcs:loDec ?dec.
   ?subject pcs:loDvel ?dvel.
   ?subject pcs:loDhlinex ?dhlinex.

   BIND(ps:decided_dmm(?dec, ?dvel, ?dhlinex) as ?loDecidedDmm)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loDhlinex -->

    <owl:DatatypeProperty rdf:about="&pcs;loDhlinex">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loDhlinex  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineJreq ?e26.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?subject pcs:loWaterflow ?q.

   BIND(ps:dhlinex(?q, ?e22, ?e26) as ?loDhlinex)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;loDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Dmm:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loDmm  WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?diameterAttribute ps:isDynamicAttribute pci:MainlineInternalDiameter .
   ?nominalAttribute ps:isDynamicAttribute pci:MainlineNominalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .

   ?subject pcs:loInnerDiameter ?innerDiameter .
   ?mainLine as:includesSalesItem/as:includesSalesItem/as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material, ?diameterValue, ?nominalValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   }

   ?diameterValue as:attributionFactor ?innerDiameter .
   ?nominalValue as:attributionFactor ?loDmm .

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loDvel -->

    <owl:DatatypeProperty rdf:about="&pcs;loDvel">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?loDvel  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?subject pcs:loWaterflow ?q.
   BIND(ps:dvel(?q,?e22) as ?loDvel)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loFxnClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;loFxnClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?loFxnClass3
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineClass.
   ?da1 ps:isDynamicAttribute pci:MainlineType.
   {

      ?salesItem as:isProduct pci:LOSection.

   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?class.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?type.

   ?subject pcs:loClass ?loClass.


   BIND(IF(?class=2.2 &amp;&amp; ?type=pci:MainlineFlexnethp,IF(?loClass=3 ,xsd:decimal(1),xsd:decimal(0)),xsd:decimal(0)) as ?loFxnClass3 )



}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loInnerDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;loInnerDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO InnerDiameter:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (MIN(?possibleDiameter) AS ?loInnerDiameter)
WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?diameterAttribute ps:isDynamicAttribute pci:MainlineInternalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .

   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?subject pcs:loDecidedDmm ?leastDiameter .
   ?mainLine as:includesSalesItem/as:includesSalesItem/as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material, ?diameter .
   FILTER EXISTS{
      ?diameter ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   }
   ?diameter as:attributionFactor ?possibleDiameter .

   FILTER(?leastDiameter &lt;= ?possibleDiameter)
} GROUP BY ?subject
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loSectionElevation -->

    <owl:DatatypeProperty rdf:about="&pcs;loSectionElevation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Section Elevation:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loSectionElevation WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?salesItem as:isProduct pci:LOSection.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineLOSlope ?slope.
   ?subject pcs:loSectionLength ?sectionLength.
   BIND(?slope*?sectionLength AS ?loSectionElevation)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loSectionHeadLoss -->

    <owl:DatatypeProperty rdf:about="&pcs;loSectionHeadLoss">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO section head loss</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loSectionHeadLoss  WHERE {
   ?subject pcs:loSectionLength ?length .
   ?subject pcs:loInnerDiameter ?dmm .
   ?subject pcs:loWaterflow ?q .

   BIND(ps:virtual_hl(?q,?length,?dmm) AS ?loSectionHeadLoss)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loSectionLength -->

    <owl:DatatypeProperty rdf:about="&pcs;loSectionLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Section Length:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loSectionLength  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?salesItem as:isProduct pci:LOSection.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainlineWSDistance ?dws.
   BIND(IF(?dws&lt;500,?dws,
         IF(?dws&gt;=500 &amp;&amp; ?dws&lt;1000,?dws/2,?dws/3)) AS ?loSectionLength)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loSectionRodLength -->

    <owl:DatatypeProperty rdf:about="&pcs;loSectionRodLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO Section Rod Length:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">20</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?loSectionRodLength WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?rodAttribute ps:isDynamicAttribute pci:MainlineRodroll .
   ?nominalAttribute ps:isDynamicAttribute pci:MainlineNominalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?subject pcs:loClass ?loClass.
   ?subject pcs:loDmm ?realDiameter .
   ?class as:attributionFactor ?loClass.
   ?nominalValue as:attributionFactor ?realDiameter .

   ?entry ^as:usesBOMEntry ?class, ?material,  ?nominalValue, ?rodValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?rodValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?rodAttribute .
    ?class ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?classAttribute
   }

   ?rodValue as:attributionFactor ?loSectionRodLength .
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loStd -->

    <owl:DatatypeProperty rdf:about="&pcs;loStd">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">LO section topo difference (positive or negative)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">100</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?loStd
WHERE {
   ?subject pcs:mlTopoDifference ?topo .
   ?subject pcs:mainlineWSDistance ?dws .

   BIND(IF(?dws&lt;500,?topo,
            IF(?dws&lt;1000,?topo/2,?topo/3)) AS ?loStd)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#loWaterflow -->

    <owl:DatatypeProperty rdf:about="&pcs;loWaterflow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?loWaterflow
WHERE {
   ?salesItem as:isProduct pci:LOSection .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?da ps:isDynamicAttribute pci:MainlineHydrantBlocks.


      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mlDimensionSi.
      ?mlDimensionSi as:salesItemIncludedBy ?mainlineSi.
   ?mainlineSi as:includesConfigItem ?mainlineConfig.
   ?mainlineConfig pcs:mainlineAvgFlowRate ?flow.
   ?mainlineConfig pcs:mainlineNumberofValvesPerShift ?nbs.
   BIND(?flow*?nbs as ?loWaterflow)


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#lowestPointError -->

    <owl:DatatypeProperty rdf:about="&pcs;lowestPointError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?lowestPointError  WHERE {
   ?daWaterSource ps:isDynamicAttribute pci:InputWaterSourceDistance .
   ?daGroundLevel ps:isDynamicAttribute pci:InputAltitudeWatersource .
   ?daLowestPoint ps:isDynamicAttribute pci:InputAltitudeLowestpoint .

   ?subject ps:includesDynamicAttribute ?daWaterSource, ?daGroundLevel , ?daLowestPoint .
   ?daWaterSource ps:dynamicDataAttributeValue ?ws .
   ?daWaterSource ps:dynamicAttributeHidden ?hidden .

   ?daGroundLevel ps:dynamicDataAttributeValue ?groundLevel .

   ?daLowestPoint ps:dynamicDataAttributeValue ?lowestPoint .

   BIND(IF(!(?hidden) &amp;&amp; ?ws=0 , xsd:boolean(?lowestPoint&gt;?groundLevel),xsd:boolean(false))
      AS ?lowestPointError)
}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#lowestPointErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;lowestPointErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?lowestPointErrorText  WHERE {
   ?subject pcs:lowestPointError ?error .
   BIND(IF(?error,&quot;model.lowestPoint&quot;,&quot; &quot;) as ?lowestPointErrorText)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO04 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO04">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO04
WHERE {
   ?subject pcs:mainLineG15 ?g15.

   OPTIONAL{
      ?subject pcs:mainLineLastInitPressureHydrantLong ?lastPressureLong .
   }
   OPTIONAL{
      ?subject pcs:mainLineLastInitPressureHydrantShort ?lastPressureShort .
   }

   BIND(IF(?lastPressureLong != &quot;-&quot; &amp;&amp; ?lastPressureShort != &quot;-&quot;,
         IF(?lastPressureLong &lt; ?lastPressureShort,
            ?lastPressureShort - ?lastPressureLong, ?lastPressureLong - ?lastPressureShort),
         IF(?lastPressureLong != &quot;-&quot;,
            IF(?lastPressureLong &lt; ?g15, ?g15 -  ?lastPressureLong, 0),
            IF(?lastPressureShort &lt; ?g15, ?g15 - ?lastPressureShort, 0)))
      AS ?mainLineAO04)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO122 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO122">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO122  WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?mainConSi as:isProduct pci:MainlineSectionConcentrated.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainConSi.
   ?mainConSi as:includesConfigItem ?mainConConfig.
   ?mainConConfig pcs:sectionShort ?short.
   ?subject pcs:mainLineMinAO122 ?min.
   ?subject pcs:mainLineK109 ?k109
   BIND(IF(?k109=0,xsd:decimal(0),?min) AS ?mainLineAO122)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO19 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO19">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT?subject ?mainLineAO19
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .
   ?salesItem as:isProduct pci:MainLine .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:sectionIndex ?index.
   ?hydScatteredConfig pcs:sectionLong ?realDmm.
   ?hydScatteredConfig pcs:hydrantInitPressureLong ?mainLineAO19 .
   FILTER(?realDmm != 0)

} ORDER BY ?mainLineAO19 LIMIT 1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO20 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO20">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO20
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantFinalPressureLong ?mainLineAO20 .
   ?hydScatteredConfig pcs:sectionLong ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO25
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .
   ?salesItem as:isProduct pci:MainLine .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:sectionIndex ?index.
   ?hydScatteredConfig pcs:sectionShort ?realDmm.
   ?hydScatteredConfig pcs:hydrantInitPressureShort ?mainLineAO25 .
   FILTER(?realDmm != 0)

} ORDER BY ?mainLineAO25 LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO26 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO26">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO26
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .
   ?salesItem as:isProduct pci:MainLine .

   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantFinalPressureShort ?mainLineAO26 .
   ?hydScatteredConfig pcs:sectionShort ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO29 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO29">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO29
WHERE {
   ?subject pcs:pcln0Hydrant ?finalHydrantPressure.

   OPTIONAL{
      ?subject pcs:mainLineLastInitPressureLong ?lastPressureLong .
   }
   OPTIONAL{
      ?subject pcs:mainLineLastInitPressureShort ?lastPressureShort .
   }

   BIND(IF(?lastPressureLong != &quot;-&quot; &amp;&amp; ?lastPressureShort != &quot;-&quot;,
         IF(?lastPressureLong &lt; ?lastPressureShort,
            ?lastPressureShort - ?lastPressureLong,
            ?lastPressureLong - ?lastPressureShort),
         IF(?lastPressureLong != &quot;-&quot;,
            IF(?lastPressureLong &lt; ?finalHydrantPressure,
               ?finalHydrantPressure - ?lastPressureLong, 0),
            IF(?lastPressureShort &lt; ?finalHydrantPressure,
               ?finalHydrantPressure - ?lastPressureShort, 0)))
      AS ?mainLineAO29)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO44 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO44">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (ps:hl_hydrant(?mainLineAR25,?inner,?mainLineAT24) AS ?mainLineAO44)
        WHERE {
   ?subject pcs:mainLineAR25 ?mainLineAR25.
   ?subject pcs:maxInnerDmmHydrantLong ?inner.
   ?subject pcs:mainLineAT24 ?mainLineAT24.
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO45 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO45">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO45
        WHERE {
   ?subject pcs:mainLineShortDownHill ?d46 .
   ?subject pcs:mainLineLongUpHill ?e46 .
   ?subject pcs:mainLineBD24 ?bd24.
   ?subject pcs:mainLineBH24 ?bh24.
   ?subject pcs:maxInnerDmmMainLineLong ?innerD.
   ?subject pcs:mainlineLastQLong ?q.
   BIND(IF(?e46&gt;?d46,ps:virtual_hl(?q, ?bd24,?innerD),ps:virtual_hl(?q, ?bh24,?innerD) )as ?mainLineAO45)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO48 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO48">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO48
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .
   ?salesItem as:isProduct pci:MainLine .

   {
      ?hydScatteredSi as:isProduct pci:MainlineSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:MainlineSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.

   ?mlConfig pcs:sectionLong ?realDmm.
   ?mlConfig pcs:mainlineSectionInitialPressureUp ?mainLineAO48 .
   FILTER(?realDmm != 0)

} ORDER BY ?mainLineAO48 LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO54 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO54">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO54
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?salesItem as:isProduct pci:MainLine.

   {
      ?hydScatteredSi as:isProduct pci:MainlineSectionScattered .
   } UNION {
      ?hydScatteredSi as:isProduct pci:MainlineSectionConcentrated .
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSi.
   ?mlSi as:includesConfigItem ?mlConfig.

   ?mlConfig pcs:sectionShort ?realDmm.
   ?mlConfig pcs:mainlineSectionInitialPressureDown ?mainLineAO54 .
   FILTER(?realDmm != 0)

} ORDER BY ?mainLineAO54 LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO87 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO87">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO87 WHERE {
   ?subject pcs:mainLineG29 ?g29.
   ?subject pcs:mainLineMinAO87 ?min.
   BIND(IF(?g29=&quot;UP&quot;,xsd:decimal(0),?min) AS ?mainLineAO87)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO88 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO88">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO88 WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:hydrantFinalPressureLong ?mainLineAO88.
   ?hydScatteredConfig pcs:sectionIndex ?index.
   ?subject pcs:mainLineHydrantLongPart ?maxIndex.
   ?salesItem as:isProduct pci:MainLine.

   FILTER(?index=?maxIndex)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO93 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO93">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO93 WHERE {
   ?subject pcs:mainLineG29 ?g29.
   ?subject pcs:mainLineMinAO93 ?min.
   ?subject pcs:mainLineK82 ?k82.
   BIND(IF(?k82=0 || ?g29=&quot;DOWN&quot;,xsd:decimal(0),?min) AS ?mainLineAO93)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO94 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO94">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO94 WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:HydrantSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConfig.
   ?hydConfig pcs:sectionIndex ?index.
   ?hydConfig pcs:hydrantFinalPressureShort ?mainLineAO94.
   ?subject pcs:mainLineHydrantShortPart ?maxIndex.

   FILTER( ?index=?maxIndex)

} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAO97 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAO97">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAO97  WHERE {
   ?subject pcs:mainLineG15 ?g15.
   ?subject pcs:mainLineMinAO97 ?min.
   BIND(IF(?min&gt;=?g15 || ?min=0, xsd:decimal(0),?g15-?min) AS ?mainLineAO97)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAP44 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAP44">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?sum44+?ao44 as ?mainLineAP44) WHERE{
   ?subject pcs:mainLineAO44 ?ao44.

   {
      SELECT ?subject (SUM(?val) as ?sum44)
      WHERE {
         ?salesItem as:isProduct pci:MainLine.
         ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

         {
            ?mlSectionSi as:isProduct pci:HydrantSectionConcentrated.
         }
         UNION
         {
            ?mlSectionSi as:isProduct pci:HydrantSectionScattered.
         }

         ?subject as:configItemIncludedBy ?salesItem.
         ?salesItem as:includesSalesItem ?mlDimensionSi.
         ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
         ?mlSectionSi as:includesConfigItem ?mlSectionConfig.

         ?mlSectionConfig pcs:sectionVirtualHeadlossLong ?hlLong.
         ?mlSectionConfig pcs:sectionVirtualHeadlossShort ?hlShort.

         BIND(?hlLong+?hlShort as ?val)
      }GROUP BY ?subject
   }
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAP45 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAP45">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?ao45+?sum45 AS ?mainLineAP45) WHERE{
   ?subject pcs:mainLineAO45 ?ao45
            {
      SELECT ?subject (SUM(?val) as ?sum45)
      WHERE
      {
         ?salesItem as:isProduct pci:MainLine.
         ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

         {
            ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
         }
         UNION
         {
            ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
         }

         ?subject as:configItemIncludedBy ?salesItem.
         ?salesItem as:includesSalesItem ?mlDimensionSi.
         ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
         ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
         ?mlSectionConfig pcs:mainlineSectionCalcHlMainline ?calcHl.

         BIND(IF(?calcHl != &quot;-&quot;, ?calcHl,xsd:decimal(0)) as ?val)
      }GROUP BY ?subject
   }
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAR25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAR25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAR25
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:hydrantScatteredQ ?mainLineAR25.
   } UNION {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:hydrantConcentratedQ ?mainLineAR25.
   }

   ?subject pcs:mainLineHydrantLongPart ?maxIndex.

   FILTER(?index=?maxIndex)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAT24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAT24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAT24
WHERE {
   ?project as:isProduct pci:OpenFieldProject .
   ?salesItem as:isProduct pci:MainLine .
   ?submain as:isProduct pci:Infield .
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue ?description .

   BIND(IF(EXISTS{
            ?description ps:isSymbolicValue pci:Pc
         }, 0.05, 0.01) AS ?slope_max)

   ?subject pcs:mainLineValveLoc ?E31.
   ?subject pcs:mainLineE25 ?E25.
   ?subject pcs:mainLineE13 ?y_ep.
   ?subject pcs:mainLineG13 ?slope.

   BIND(IF(?E31=1,-?E25/2,0) AS ?full_length)

   BIND(IF(?y_ep &gt; 0.5,
         IF(?slope &lt; (-?slope_max), ?full_length, 5-?E25),
         IF(?slope &gt; ?slope_max, ?full_length, 5-?E25))
      AS ?mainLineAT24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAT25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAT25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAT25 WHERE {
   ?subject pcs:mainLineAR25 ?waterflow .
   ?subject pcs:maxInnerDmmHydrantLong ?dmm .
   ?subject pcs:mainLineAT24 ?length .
   BIND (ps:virtual_hl(?waterflow, ?length, ?dmm) AS ?mainLineAT25)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAT26 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAT26">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineAT26) WHERE {
   ?subject pcs:mainLineG13 ?G13.
   ?subject pcs:mainLineG29 ?G29.
   ?subject pcs:mainLineAT24 ?AT24.
   BIND(IF(?G29=&quot;UP&quot;,1,-1)*?AT24*?G13 AS ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAU24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAU24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainLineAU24 WHERE {
   ?subject pcs:mainLineNumberCell ?e28.
   ?subject pcs:mainLineAT24 ?at24.
   BIND(?e28 * ?at24 as ?mainLineAU24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAW25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAW25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAW25
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.


   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:hydrantScatteredQ ?mainLineAW25.
   } UNION {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:hydrantConcentratedQ ?mainLineAW25.
   }

   ?subject pcs:mainLineHydrantShortPart ?maxIndex.

   FILTER(?index=?maxIndex)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAY24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAY24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAY24
WHERE {
   ?project as:isProduct pci:OpenFieldProject .
   ?salesItem as:isProduct pci:MainLine .
   ?submain as:isProduct pci:Infield .
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue ?description .

   BIND(IF(EXISTS{
            ?description ps:isSymbolicValue pci:Pc
         }, 0.05, 0.01) AS ?slope_max)

   ?subject pcs:mainLineValveLoc ?E31.
   ?subject pcs:mainLineE25 ?E25.
   ?subject pcs:mainLineHydrantShortPart ?D40.
   ?subject pcs:mainLineE13 ?y_ep.
   ?subject pcs:mainLineG13 ?slope.

   BIND(IF(?E31=1, -?E25/2, 0) AS ?full)

   BIND(IF(?D40=0, 0, IF(?y_ep &lt;= 0.5,
               IF(?slope &lt; (-?slope_max), ?full, 5-?E25),
               IF(?slope &gt; ?slope_max, ?full, 5-?E25)))
      AS ?mainLineAY24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAY25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAY25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAY25
WHERE {
   ?subject pcs:mainLineAW25 ?waterflow .
   ?subject pcs:maxInnerDmmHydrantShort ?dmm .
   ?subject pcs:mainLineAY24 ?length .
   BIND (ps:virtual_hl(?waterflow, ?length, ?dmm) AS ?mainLineAY25)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAY26 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAY26">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineAY26 WHERE {
   ?subject pcs:mainLineG13 ?G13.
   ?subject pcs:mainLineG29 ?G29.
   ?subject pcs:mainLineAY24 ?AY24.
   BIND(IF(?G29=&quot;UP&quot;,-1,1)*?AY24*?G13 AS ?mainLineAY26)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineAZ24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineAZ24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainLineAZ24 WHERE {
   ?subject pcs:mainLineNumberCell ?e28.
   ?subject pcs:mainLineAY24 ?ay24.
   BIND(?e28 * ?ay24 as ?mainLineAZ24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBB25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBB25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBB25
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.


   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:mainlineScatteredQ ?mainLineBB25.
   } UNION {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:mainlineConcentratedQ ?mainLineBB25.
   }

   ?subject pcs:mainLineLongUpHill ?maxIndex.

   FILTER(?index=?maxIndex)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBB30 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBB30">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainLineBB30
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   OPTIONAL
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
      ?mlSectionConfig pcs:mainlineScatteredQ ?sq.
   }

   OPTIONAL
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
      ?mlSectionConfig pcs:mainlineConcentratedQ ?cq.
   }

   BIND(IF(BOUND(?sq), ?sq, ?cq) as ?mainLineBB30)
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBC28 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBC28">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBC28
WHERE {
   ?subject pcs:mainlineWSDistance ?mainLineBC28.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBCSum -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBCSum">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?mainLineBCSum)
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   {
      ?mainLineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainLineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesSalesItem ?mainLineDimensionSi .
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSectionSi.
   ?mainLineSectionSi as:includesConfigItem ?config .
   ?config pcs:sectionLong ?up .

   BIND (IF (?up&gt;0, xsd:decimal(1),xsd:decimal(0)) AS ?val).
} GROUP BY ?subject
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBD24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBD24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBD24
WHERE{
   ?subject pcs:mainLineBCSum ?bcSum.
   ?subject pcs:mainLineE9 ?e9.
   ?subject pcs:mainLineE11 ?e11.
   ?subject pcs:mainLineNumberCell ?e28.
   ?subject pcs:mainLineLongUpHill ?e46.
   ?subject pcs:mainLineG27 ?g27.
   ?subject pcs:mainLineE11 ?x_ep .
   ?subject pcs:mainLineG12 ?slope_x .

   BIND (IF(?slope_x &lt; 0 &amp;&amp; (?g27 = 5 || ?g27 = 6),
         ps:length_up(?bcSum, ?e9, ?x_ep, ?e28, ?e46+1, ?g27),
            ps:length_up(?bcSum, ?e9, ?x_ep, ?e28, ?e46, ?g27))
      AS ?length)

   BIND(?length + IF(?x_ep = 1, -?length, 0)
      AS ?mainLineBD24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBD25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBD25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBD25 WHERE {
   ?subject pcs:mainLineBB25 ?waterflow .
   ?subject pcs:maxInnerDmmMainLineLong ?dmm .
   ?subject pcs:mainLineBD24 ?length .
   BIND (ps:virtual_hl(?waterflow, ?length, ?dmm) AS ?mainLineBD25)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBD26 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBD26">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBD26 WHERE {
   ?subject pcs:mainLineBD24 ?bd24.
   ?subject pcs:mainLineG12 ?g12.
   BIND(?bd24 * ?g12 as ?mainLineBD26)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBD30 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBD30">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (ps:hl_hydrant(?bb30,?innerDmm,?bc28) AS ?mainLineBD30)
WHERE {
   ?subject pcs:mainLineBB30 ?bb30.
   ?subject pcs:mainLineLOInnerDmm ?innerDmm.
   ?subject pcs:mainLineBC28 ?bc28.

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBF25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBF25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBF25
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.


   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:mainlineScatteredQ ?mainLineBF25.
   } UNION {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
      ?hydScatteredConfig pcs:sectionIndex ?index.
      ?hydScatteredConfig pcs:mainlineConcentratedQ ?mainLineBF25.
   }

   ?subject pcs:mainLineShortDownHill ?maxIndex.

   FILTER(?index=?maxIndex)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBF28 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBF28">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBF28
WHERE{
   ?subject pcs:mainLineE13 ?e13 .
   ?subject pcs:mainLineE12 ?e12.
   ?subject pcs:mainLineE10 ?e10.
   BIND(ABS(?e13-?e12)*?e10 as ?mainLineBF28)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBGSum -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBGSum">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?mainLineBGSum)
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   {
      ?mainLineSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?mainLineSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesSalesItem ?mainLineDimensionSi .
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSectionSi.
   ?mainLineSectionSi as:includesConfigItem ?config .
   ?config pcs:sectionShort ?down .

   BIND (IF (?down&gt;0, xsd:decimal(1),xsd:decimal(0)) AS ?val).
} GROUP BY ?subject
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBH24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBH24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBH24
WHERE{
   ?subject pcs:mainLineBGSum ?bgSum .
   ?subject pcs:mainLineE9 ?e9 .
   ?subject pcs:mainLineNumberCell ?e28 .
   ?subject pcs:mainLineShortDownHill ?e46 .
   ?subject pcs:mainLineG27 ?g27 .
   ?subject pcs:mainLineE20 ?width .
   ?subject pcs:mainLineE11 ?x_ep .
   ?subject pcs:mainLineG12 ?slope_x .

   BIND (IF(?slope_x &lt; 0 &amp;&amp; (?g27 = 5 || ?g27 = 6),
         (?x_ep - (?e46) / (?e28)) * ?e9,
            ps:length_down(?bgSum, ?e9, ?x_ep, ?e28, ?e46, ?g27))
      AS ?length)

   BIND(?length + IF(?x_ep = 0 || ?x_ep = 1, -?length, 0)
      AS ?mainLineBH24)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBH25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBH25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBH25 WHERE {
   ?subject pcs:mainLineBF25 ?waterflow .
   ?subject pcs:maxInnerDmmMainLineShort ?dmm .
   ?subject pcs:mainLineBH24 ?length .
   BIND (ps:virtual_hl(?waterflow, ?length, ?dmm) AS ?mainLineBH25)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBH26 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBH26">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBH26 WHERE {
   ?subject pcs:mainLineBH24 ?bh24.
   ?subject pcs:mainLineG12 ?g12.
   BIND(?bh24 * ?g12 * -1 as ?mainLineBH26)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBlockLength -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBlockLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Block length (parallel to laterals):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">22</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineBlockLength) WHERE {
   ?subject pcs:mainLineE19 ?E19.
   ?subject pcs:mainLineG27 ?G27.

   BIND( IF((?G27=1 || ?G27=2),xsd:decimal(?E19*2),xsd:decimal(?E19))as ?val)


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBlockWidth -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBlockWidth">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Block width (perpendicular to laterals):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">23</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineBlockWidth) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.

   ?mainConfigItem pcs:inputAreaPerpendicular ?areaPerpendicular.

   ?subject pcs:mainLineE29 ?E29.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   BIND(ROUND(?areaPerpendicular/?E29) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineBooster -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineBooster">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineBooster WHERE {
   ?subject pcs:mainLineInletPressure ?iP.
   BIND(IF(?iP&gt;110,&quot;YES&quot;,&quot;NO&quot;) as ?mainLineBooster )
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineDownHill -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineDownHill">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">23</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineDownHill
WHERE {
   ?subject pcs:mainLineNumberCell ?cells .
   ?subject pcs:mainLineUpHill ?uphill .

   BIND(?cells - ?uphill
      AS ?mainLineDownHill)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE10 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE10">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE10
WHERE
{
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaPerpendicular ?mainLineE10.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE11 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE11">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE11
WHERE
{
  ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.

   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?mainLineE11.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE12 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE12">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE12 WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?mainLineE12.

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE13 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE13">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE13
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?project as:isProduct pci:OpenFieldProject .
   ?submain as:isProduct pci:Submain .
   ?attribute ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks .
   
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?config .
   ?config ps:includesDynamicAttribute ?attribute .
   ?attribute ps:usesSymbolicValue ?chosen .
   ?chosen ps:isSymbolicValue ?value .
      
   ?subject pcs:mainLineE29 ?e29 .
   ?subject pcs:mainLineE10 ?e10.
   ?subject pcs:mainLineE12 ?e12.
   ?subject pcs:mainLineE25 ?e25.

   BIND(xsd:string(ROUND(?e12*?e10*10/?e25)/10) as ?con1)
   BIND( xsd:decimal(strafter(?con1,&quot;.&quot;)) as ?afterRight)
   
   BIND(ROUND(1000*(ROUND(10000*1/?e29)/10000 * 
            IF(?afterRight&gt;4,CEIL(?e12*?e10/?e25),ROUND(?e12*?e10/?e25))))/1000 AS ?result)
            
   BIND(IF(?e29 = 1 &amp;&amp; ?value = pci:ValvesMiddle, 0.5, ?result) AS ?mainLineE13)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE14 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE14">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE14) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSalesItem.
   ?infieldSalesItem as:includesConfigItem ?infieldConfigItem.
   ?infieldConfigItem pcs:areaTotalFlow ?areaTotalFlow.
   ?subject pcs:mainLineNumberBlock ?E17.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?submainSalesItem as:isProduct pci:Infield.
   ?salesItem as:isProduct pci:MainLine.
   BIND(xsd:decimal(ROUND(10*?areaTotalFlow/?E17)/10) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE15 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE15">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE15)  WHERE {
   ?subject pcs:mainLineNoOfShift ?E34.
   ?subject pcs:mainLineF17 ?F17.
   BIND(?F17 /?E34 as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE16 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE16">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">E16 (Submain!G40)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?numberValves as ?mainLineE16) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.


   ?mainSalesItem as:includesSalesItem ?submainSalesItem.
   ?submainSalesItem as:includesConfigItem ?submainConfigItem.

   ?submainConfigItem pcs:numberOfValvesPerProject ?numberValves.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?submainSalesItem as:isProduct pci:Submain.
   ?salesItem as:isProduct pci:MainLine
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE19 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE19">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Virtual Lateral Length:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE19) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaParallel ?areaParallel.

   ?subject pcs:mainLineNumberCell ?numberofCell.
   ?subject pcs:mainLineG27 ?G27.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   BIND(ROUND(?areaParallel/(?numberofCell*IF((?G27=5 || ?G27=6),1,2))) as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE20 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE20">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE20 WHERE {
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaParallel ?areaParallel.
   ?subject pcs:mainLineNumberCell ?numberofCell.
   BIND(?areaParallel/?numberofCell as ?mainLineE20)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE22 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE22">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE22 WHERE {
   ?da ps:isDynamicAttribute pci:MainlineType .
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?mainLineE22

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE23 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE23">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE23 WHERE {
   ?da ps:isDynamicAttribute pci:MainlineClass .
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?mainLineE23

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE24 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE24">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE24) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.

   ?mainConfigItem pcs:inputAreaParallel ?areaParallel.
   ?mainConfigItem pcs:inputAreaPerpendicular ?areaPerpendicular.

   ?subject pcs:mainLineNumberBlock ?numberOfBlock.
   ?subject pcs:mainLineE19 ?vLateralLength.
   ?subject pcs:mainLineSMLoc ?smLoc.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   BIND(ROUND(IF(?smLoc=1,(?areaPerpendicular*?areaParallel)/?numberOfBlock/(?vLateralLength*2),(?areaPerpendicular*?areaParallel)/?numberOfBlock/?vLateralLength)) as ?val)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE25 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE25">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE25) WHERE {


   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.

   ?mainConfig pcs:inputAreaPerpendicular ?width.
   ?subject pcs:mainLineE29 ?E29.

   BIND(ROUND(?width/?E29) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE27 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE27">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE27) WHERE {
   ?subject pcs:mainLineSMLoc ?E32.
   ?subject pcs:mainLineE15 ?E15.
   ?subject pcs:mainLineNumberCell ?E28.
   BIND(IF(?E32=1,CEIL(?E15/?E28),IF((FLOOR(?E15/2/?E28)+1)*2*?E28-?E15=?E28*2-1,FLOOR(?E15/2/?E28)*2+1,IF((FLOOR(?E15/2/?E28)+1)*2*?E28-?E15=?E28*2,(FLOOR(?E15/2/?E28)-1)*2+2,FLOOR(?E15/2/?E28)*2+2)))as ?val)
}
</ps:sparql>
        <ps:readOnly xml:lang="en">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE29 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE29">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Nbinc - number of blocks in 1 cell</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE29) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.

   ?mainConfigItem pcs:inputAreaPerpendicular ?areaPerpendicular.

   ?subject pcs:mainLineE24 ?E24.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   BIND(ROUND(?areaPerpendicular/?E24) as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE30 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE30">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineE30) WHERE {

   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineG27 ?G27.
   BIND(IF(?G27=3 || ?G27=4 ,?E29*2,?E29 )as ?val)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE33 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE33">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">hydrant(MainLine E33):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE33
WHERE {
   ?da ps:isDynamicAttribute pci:MainlineHydrantBlocks.

   ?subject pcs:mainLineSMLoc ?smLoc.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?hydrantFactor.

   #=IF(Submain!O12=1,1,Mainline!M17)
   BIND (IF(?smLoc=1,1,?hydrantFactor) as ?mainLineE33)
} </ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE53 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE53">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE53 WHERE {
   ?subject pcs:mainLineG27 ?g27.
   ?subject pcs:mainLineE15 ?e15.
   ?subject pcs:mainLineE30 ?e30.
   ?subject pcs:mainLineE29 ?e29.

   BIND(IF(?g27=5 || ?g27=6,IF(FLOOR(?e15/?e29)&lt;1,xsd:decimal(1),FLOOR(?e15/?e29)),IF(FLOOR(?e15/?e30)&lt;1,xsd:decimal(1),FLOOR(?e15/?e30))) AS ?mainLineE53)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE54 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE54">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE54 WHERE {
   ?subject pcs:mainLineG27 ?g27.
   ?subject pcs:mainLineE15 ?e15.
   ?subject pcs:mainLineE30 ?e30.
   ?subject pcs:mainLineE29 ?e29.

   BIND(IF(?g27=3 || ?g27=4,IF(FLOOR(?e15/?e30&gt;0),ps:mod(?e15,?e30),xsd:decimal(0)),IF(FLOOR(?e15/?e29)&gt;0,ps:mod(?e15,?e29),xsd:decimal(0))) AS ?mainLineE54)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE8 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE8">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val AS ?mainLineE8) WHERE {
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.
   ?daClass ps:isDynamicAttribute pci:MainlineClass.
   ?daHeadWorkType ps:isDynamicAttribute pci:HeadworksType.
   ?daCheckHl ps:isDynamicAttribute pci:SubmainHlCheck.
   ?daSpecifiedHl ps:isDynamicAttribute pci:SubmainSpecifiedHl.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.
   ?submainSi as:isProduct pci:Submain.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:calculatedBlockValvePressure ?infieldF14.

   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?pcNpc.

   ?mainSalesItem as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig ps:includesDynamicAttribute ?daHeadWorkType.
   ?daHeadWorkType ps:usesSymbolicValue/as:attributionFactor ?hwFactor.
   ?submainConfig ps:includesDynamicAttribute ?daCheckHl.
   ?daCheckHl ps:dynamicDataAttributeValue ?calculateHl.
   optional
   {
      ?submainConfig ps:includesDynamicAttribute ?daSpecifiedHl.
      ?daSpecifiedHl ps:dynamicDataAttributeValue ?Hl.
   }

   ?subject ps:includesDynamicAttribute ?daClass.
   ?daClass ps:usesSymbolicValue/as:attributionFactor ?class.
   BIND(IF(?class=4,35,50)-(IF(BOUND(?calculateHl) &amp;&amp; ?calculateHl=&quot;true&quot;,?Hl,3)+?infieldF14+(IF(?pcNpc=pci:Pc,0,IF(?hwFactor=2,4,0))))AS ?val)


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineE9 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineE9">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineE9
WHERE
{
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaParallel ?mainLineE9.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineF17 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineF17">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineF17)  WHERE {

   ?subject pcs:mainLineNumberCell ?numberCell.
   ?subject pcs:mainLineE30 ?E30.
   BIND(?E30 *?numberCell as ?val)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineFinalHL -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineFinalHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineFinalHL
WHERE {
   #the calculation only applicable for class 6,8,10,16 to do for class 12.5
   ?subject pcs:mainLineHLTotal ?totalHl.
   ?subject pcs:mainLineBD30 ?bd30.
   BIND(?totalHl + ?bd30 as ?mainLineFinalHL)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG10 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG10">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG10  WHERE {
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?mlType.
   ?subject pcs:mainlineWSDistance ?dws.
   ?subject pcs:mainLineG4 ?g4.
   ?subject pcs:mainLineG6 ?g6.
   ?subject pcs:mainLineG7 ?g7.
   #=IF(ML_Type=3,0,IF(Input!F41=0,0,IF(G6&gt;G4,G6-G7,G4-G6)))
   BIND(IF(?mlType=3 || ?mlType=4 ,0,IF(?dws=0,0,IF(?g6&gt;?g4,?g6-?g7,?g4-?g6))) AS ?mainLineG10)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG11 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG11">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG11  WHERE {

   ?subject pcs:mainlineWSDistance ?dws.
   ?subject pcs:mainLineG4 ?g4.
   ?subject pcs:mainLineG6 ?g6.

  #=IF(Input!F41=0,0,IF(G6&gt;G4,&quot;Down&quot;,&quot;Up&quot;))
   BIND(IF(?dws=0,&quot;&quot;,IF(?g6&gt;?g4,&quot;Down&quot;,&quot;Up&quot;)) AS ?mainLineG11)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG12 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG12">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG12 WHERE {
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.

   optional{
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputSlopeX ?x.
   }

   BIND(IF(BOUND(?x) &amp;&amp; ?x !=&quot;-&quot;,xsd:decimal(?x/100),0) as  ?mainLineG12)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG13 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG13">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG13 WHERE {
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.

   optional{
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputSlopeY ?y.
   }

   BIND(IF(BOUND(?y) &amp;&amp; ?y !=&quot;-&quot;,xsd:decimal(?y/100),0) as ?mainLineG13)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG15 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG15">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG15 WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.
   ?submainSi as:isProduct pci:Submain.
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:calculatedBlockValvePressure ?pressure.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?pCNpc.

   optional
   {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:submainCalcNPCHL ?npcHl.
   }
   BIND(IF(BOUND(?npcHl) &amp;&amp; ?npcHl !=&quot;-&quot;,?npcHl,xsd:decimal(0))as ?valNpcHL)
   BIND((IF(?pCNpc=pci:Pc,3,?valNpcHL)+?pressure) as ?mainLineG15)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG27 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG27">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">G27</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineG27) WHERE {
   ?da ps:isDynamicAttribute pci:InputShiftsBlock.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.

   ?mainConfigItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?shiftBlock.
   ?shiftBlock ps:objectName ?objName.

   ?subject pcs:mainLineNoOfShift ?noShift.
   ?subject pcs:mainLineValveLoc ?valveLoc.
   ?subject pcs:mainLineSMLoc ?smLoc.
   ?subject pcs:mainLineE33 ?hydrant.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
  #=IF(OR(Input!$F$50=&quot;concentrated&quot;,E34=1),IF(E32=1,2,IF(E33=1,4,6)),IF(E32=1,1,IF(E33=1,3,5)))
   BIND(IF((?objName=&quot;Concentrated&quot; || ?noShift=1),
         IF(?smLoc=1,2,IF(?hydrant=1,4,6)),
         IF(?smLoc=1,1,IF(?hydrant=1,3,5))) as ?val)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG29 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG29">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG29 WHERE {
   ?subject pcs:mainLineE13 ?E13.
   BIND(IF(?E13&gt;0.5,&quot;DOWN&quot;,&quot;UP&quot;) AS ?mainLineG29)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG30 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG30">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineG30) WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?E9.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?E11.

BIND(IF(?E11&gt;0.5,&quot;DOWN&quot;,&quot;UP&quot;) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG4 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG4">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG4 WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?da ps:isDynamicAttribute pci:InputAltitudeHighestpoint .
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?da .
   ?da ps:dynamicDataAttributeValue ?mainLineG4
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG5 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG5">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG5 WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?da ps:isDynamicAttribute pci:InputAltitudeLowestpoint .
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?da .
   ?da ps:dynamicDataAttributeValue ?mainLineG5
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG6 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG6">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG6
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?da1 ps:isDynamicAttribute pci:InputAltitudeWatersource .
   ?da2 ps:isDynamicAttribute pci:InputWaterSourceDistance .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfig .

   ?mainConfig pcs:inputAreaParallel ?length_x .
   ?mainConfig pcs:inputAreaPerpendicular ?length_y .

   ?mainConfig ps:includesDynamicAttribute ?da1 .
   ?mainConfig ps:includesDynamicAttribute ?da2 .

   OPTIONAL{
      ?da1 ps:dynamicDataAttributeValue ?outerAltitude .
   }

   ?da2 ps:dynamicAttributeHidden ?hidden .

   ?subject pcs:mainLineG12 ?slope_x .
   ?subject pcs:mainLineG13 ?slope_y .
   ?subject pcs:mainLineE11 ?position_x .
   ?subject pcs:mainLineE12 ?position_y .

   BIND(?length_x * ?slope_x * ?position_x + ?length_y * ?slope_y * ?position_y
      AS ?innerAltitude)

   BIND(IF(?hidden, ?innerAltitude, ?outerAltitude)
      AS ?mainLineG6)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG7 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG7">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainLineG7
WHERE {
   ?subject pcs:mainLineG4 ?G4 .
   ?subject pcs:mainLineG5 ?G5 .
   ?subject pcs:mainLineG6 ?G6 .
   ?subject pcs:mainLineE11 ?E11 .
   ?subject pcs:mainlineWSDistance ?distance .

   BIND(IF(?distance=0, ?G6,
         IF(?E11=0,?G5,IF(?E11=1,?G4,?G5+(?G4-?G5)*?E11)))
      AS ?mainLineG7)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG8 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG8">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineG8 WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?da ps:isDynamicAttribute pci:MainlineType .
   ?daUniform ps:isDynamicAttribute pci:InputSlopeUniform .

   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?mlType .
   ?subject pcs:mainLineG4 ?g4 .
   ?subject pcs:mainLineG6 ?g6 .
   ?subject pcs:mainLineG7 ?g7 .


   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?daUniform.
   ?daUniform ps:usesSymbolicValue/ps:isSymbolicValue ?slopeUniform.

   #=IF(ML_Type=3,0,IF(Mainline!M19=2,&apos;Mainline Pipes&apos;!G4-&apos;Mainline Pipes&apos;!G6,IF(G6&gt;G4,IF(G6-G4&lt;=30,G6-G7,G6-G4),G4-G7)))
   BIND(IF(?mlType=3,0,IF(?slopeUniform=pci:SlopeUniformNo,?g4-?g6,IF(?g6&gt;?g4,IF(?g6-?g4&lt;=30,?g6-?g7,?g6-?g4),?g4-?g7))) AS ?mainLineG8)


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineG9 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineG9">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainLineG9 WHERE {
   ?daMain ps:isDynamicAttribute pci:InputSlopeUniform .
   ?da ps:isDynamicAttribute pci:MainlineType .
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?type .

   ?salesItem as:isProduct pci:MainLine .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem .
   ?mainSalesItem as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?daMain.
   ?daMain ps:usesSymbolicValue/ps:isSymbolicValue ?symUniform .
   BIND(IF(?symUniform=pci:SlopeUniformYes,1,2) as ?uniform)

   ?subject pcs:mainLineG4 ?G4 .
   ?subject pcs:mainLineG5 ?G5 .
   ?subject pcs:mainLineG6 ?G6 .

   #=IF(ML_Type=3,0,IF(Mainline!M19=2,IF(G6&gt;G4,G6,G4)-G5,IF(G6&gt;G4,G6-G5,G4-G5)))
   BIND(IF(?type=3,0,IF(?uniform=2,IF(?G6&gt;?G4,?G6,?G4)-?G5,IF(?G6&gt;?G4,?G6-?G5,?G4-?G5))) AS ?mainLineG9)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHLTotal -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHLTotal">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineHLTotal
WHERE
{
   ?subject pcs:mainLineAP44 ?ap44.
   ?subject pcs:mainLineAP45 ?ap45.
   BIND(xsd:decimal(?ap44 + ?ap45) as ?mainLineHLTotal)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHyScaMinInitPressureLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHyScaMinInitPressureLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineHyScaMinInitPressureLong WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScaConfig.
   ?hydScaConfig pcs:hydrantInitPressureLong ?mainLineHyScaMinInitPressureLong.
   FILTER(?mainLineHyScaMinInitPressureLong !=0 )
}ORDER BY (?mainLineHyScaMinInitPressureLong)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHyScaMinInitPressureShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHyScaMinInitPressureShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineHyScaMinInitPressureShort WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScaConfig.
   ?hydScaConfig pcs:hydrantInitPressureShort ?mainLineHyScaMinInitPressureShort.
   FILTER(?mainLineHyScaMinInitPressureShort!=0)
}ORDER BY (?mainLineHyScaMinInitPressureShort)
LIMIT 1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHydrantLongPart -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHydrantLongPart">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">21</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineHydrantLongPart) WHERE {

   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineHydrantPart ?E35.
   BIND(IF(?E29-?E35&gt;?E35,?E29-?E35,?E35) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHydrantPart -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHydrantPart">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?value as ?mainLineHydrantPart) WHERE {

   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.

   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?locY.

   ?mainConfig pcs:inputAreaPerpendicular ?width.
   ?subject pcs:mainLineE25 ?E25.
   BIND(ROUND( ?locY*?width/?E25)as ?condition)
   BIND(xsd:string(?condition) as ?stringCon)
   BIND(SUBSTR(?stringCon,Strlen(?stringCon),1) as ?afterRight)
   BIND(IF(xsd:decimal(?afterRight)&gt;4,CEIL( ?locY*?width/?E25),?condition) as ?value)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineHydrantShortPart -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineHydrantShortPart">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">22</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineHydrantShortPart) WHERE {

   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineHydrantLongPart ?E39.
   BIND(?E29-?E39 as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineInletPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineInletPressure">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Main line inlet pressure:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">25</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineInletPressure
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject pcs:mlSecondaryFilterHl ?filterHl .
   ?subject pcs:mlValveHl ?valveHl .
   ?subject pcs:mlSubmainHl ?submainHl .
   ?subject pcs:pcln0 ?pressureML .
   ?subject pcs:pcln0Hydrant ?pressureHyd .

   OPTIONAL {
      ?loSectionSi as:isProduct pci:LOSection .
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:includesSalesItem ?mlDimensionSi .
      ?mlDimensionSi as:includesSalesItem ?loSectionSi .
      ?loSectionSi as:includesConfigItem ?loSectionConfig .
      ?loSectionConfig pcs:pcln ?pressureLO .

      FILTER NOT EXISTS {
         ?loSectionSi pcs:linksSection ?anySi.
      }
   }

   BIND(IF(BOUND(?pressureLO), ?pressureLO,
         IF(?pressureML != 0, ?pressureML, ?pressureHyd))
      AS ?pressure)

   BIND(?filterHl+?valveHl+?submainHl+?pressure AS
      ?mainLineInletPressure)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupMainline"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineJreq -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineJreq">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val AS ?mainLineJreq )WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?da2 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?E9.
   ?mainConfig pcs:inputAreaPerpendicular ?E10.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?E13.

   ?mainConfig ps:includesDynamicAttribute ?da2.
   ?da2 ps:dynamicDataAttributeValue ?E11.

   ?subject pcs:mainLineNumberCell ?E28.
   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineE8 ?E8.

   #BIND(?E8/(?E9*(0.5+ABS(?E11-0.5)-1/(2*?E28))+?E10*(0.5+ABS(?E13-0.5)-1/(2*?E29))) AS ?val)
   BIND((?E9*(0.5+ABS(?E11-0.5)-1/(2*?E28))+?E10*(0.5+ABS(?E13-0.5)-1/(2*?E29))) as ?divisor)
   BIND(IF(?divisor=0,xsd:decimal(0),?E8/?divisor) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineK109 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineK109">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineK109 WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:MainlineSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConfig.
   ?hydConfig pcs:sectionIndex ?index.
   ?hydConfig pcs:sectionShort ?mainLineK109.

   FILTER(?index=1)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineK82 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineK82">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineK82 WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:HydrantSectionConcentrated.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConfig.
   ?hydConfig pcs:sectionIndex ?index.
   ?hydConfig pcs:sectionShort ?mainLineK82.

   FILTER(?index=1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLO -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLO">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainLineLO
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:sectionRealDmm ?mainLineLO.
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLOClassDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLOClassDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainLineLOClassDown
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:mainlineSectionActualClassDown ?mainLineLOClassDown.
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLOClassUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLOClassUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainLineLOClassUp
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:mainlineSectionActualClassUp ?mainLineLOClassUp
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLOInnerDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLOInnerDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainLineLOInnerDmm
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:sectionInnerDmm ?mainLineLOInnerDmm.
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLOSlope -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLOSlope">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLOSlope
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?daUniform ps:isDynamicAttribute pci:InputSlopeUniform.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?daX ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?daY ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?daWS ps:isDynamicAttribute pci:InputAltitudeWatersource.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?mainConfig.

   ?mainConfig pcs:heightEP ?EP.
   ?mainConfig pcs:heightX ?diffX.
   ?mainConfig pcs:heightY ?diffY.

   ?mainConfig ps:includesDynamicAttribute  ?daUniform.
   ?daUniform ps:usesSymbolicValue/ps:isSymbolicValue ?symUniform.

   ?mainConfig ps:includesDynamicAttribute ?daX.
   ?daX ps:dynamicDataAttributeValue ?entryX.

   ?mainConfig ps:includesDynamicAttribute ?daY.
   ?daY ps:dynamicDataAttributeValue ?entryY_1.

   ?mainConfig ps:includesDynamicAttribute ?daWS.
   ?daWS ps:dynamicAttributeHidden ?hidden.

   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?mlType.

   ?subject pcs:mainlineWSDistance ?dws.
   ?subject pcs:mainLineG6 ?ws.
   ?subject pcs:mainlineLastY ?last_y.

   BIND(IF(?hidden, ?last_y, ?entryY_1) AS ?entryY)

   BIND(IF(?hidden, 0, ?EP) + (?entryX*?diffX) + (?entryY*?diffY) AS ?height_ep)

   BIND(IF(?dws=0,0,IF(?symUniform=pci:SlopeUniformYes,(?height_ep-?ws)/?dws,0))
      AS ?mainLineLOSlope)
}
</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastHeadlossHydrantLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastHeadlossHydrantLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastHeadlossHydrantLong
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantVirtualHeadlossLong ?headloss.
   ?hydScatteredConfig pcs:sectionLong ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }

   BIND(?headloss AS ?mainLineLastHeadlossHydrantLong)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastHeadlossHydrantShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastHeadlossHydrantShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastHeadlossHydrantShort
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantVirtualHeadlossShort ?headloss.
   ?hydScatteredConfig pcs:sectionShort ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }

   BIND(?headloss AS ?mainLineLastHeadlossHydrantShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastInitPressureHydrantLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastInitPressureHydrantLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastInitPressureHydrantLong
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantInitPressureLong ?pressure .
   ?hydScatteredConfig pcs:hydrantVirtualHeadlossLong ?headloss.
   ?hydScatteredConfig pcs:hydrantPrLong ?topo.
   ?hydScatteredConfig pcs:sectionLong ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }

   BIND(?pressure + ?headloss + ?topo AS ?mainLineLastInitPressureHydrantLong)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastInitPressureHydrantShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastInitPressureHydrantShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastInitPressureHydrantShort
WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .
   ?salesItem as:isProduct pci:MainLine .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantInitPressureShort ?pressure .
   ?hydScatteredConfig pcs:hydrantVirtualHeadlossShort ?headloss.
   ?hydScatteredConfig pcs:hydrantPrShort ?topo.
   ?hydScatteredConfig pcs:sectionShort ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }

   BIND(?pressure + ?headloss + ?topo AS ?mainLineLastInitPressureHydrantShort)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastInitPressureLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastInitPressureLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastInitPressureLong
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:mainlineSectionInitialPressureUp ?pressure.
   ?hydScatteredConfig pcs:mainlineVirtualHeadlossLong ?headloss.
   ?hydScatteredConfig pcs:mainlineSectionMlUp ?topo.
   ?hydScatteredConfig pcs:sectionLong ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }

   BIND(?pressure + ?headloss + ?topo AS ?mainLineLastInitPressureLong)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastInitPressureShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastInitPressureShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastInitPressureShort
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:mainlineSectionInitialPressureDown ?pressure .
   ?hydScatteredConfig pcs:mainlineVirtualHeadlossShort ?headloss.
   ?hydScatteredConfig pcs:mainlineSectionMlDown ?topo.
   ?hydScatteredConfig pcs:sectionShort ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }

   BIND(?pressure + ?headloss + ?topo AS ?mainLineLastInitPressureShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastTopographyHydrantLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastTopographyHydrantLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastTopographyHydrantLong
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantPrLong ?topo.
   ?hydScatteredConfig pcs:sectionLong ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }

   BIND(?topo AS ?mainLineLastTopographyHydrantLong)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLastTopographyHydrantShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLastTopographyHydrantShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLastTopographyHydrantShort
WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.

   ?hydScatteredConfig pcs:hydrantPrShort ?topo.
   ?hydScatteredConfig pcs:sectionShort ?this.
   FILTER (?this != 0)

   FILTER NOT EXISTS{
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
      ?hydScatteredSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }

   BIND(?topo AS ?mainLineLastTopographyHydrantShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">26</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineLong) WHERE {

   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?E9.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?E11.

   ?subject pcs:mainLineNumberCell ?E28.

   BIND( ROUND(10*?E9*(0.5+ABS(?E11-0.5))/(?E9/?E28))/10 as ?condition)
   BIND(xsd:string(?condition) as ?conString)
   BIND(IF(SUBSTR(?conString,Strlen(?conString),1)=&quot;5&quot;,FLOOR(?condition),ROUND(?condition) )as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineLongUpHill -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineLongUpHill">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">28</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineLongUpHill WHERE {

   ?subject pcs:mainLineG27 ?G27.
   ?subject pcs:mainLineShort ?D45.
   ?subject pcs:mainLineLong ?E45.
   ?subject pcs:mainLineUpHill ?E43.
   ?subject pcs:mainLineG30 ?G30.
   BIND(IF((?G27 =5 || ?G27=6),?E43,
         IF(?G30=&quot;UP&quot;,?E45,?D45)
      ) as ?mainLineLongUpHill)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMainMinInitPressureDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMainMinInitPressureDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMainMinInitPressureDown WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?mainScatteredSi as:isProduct pci:MainlineSectionScattered.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainScatteredSi.
   ?mainScatteredSi as:includesConfigItem ?mainScaConfig.
   ?mainScaConfig pcs:mainlineSectionInitialPressureDown ?mainLineMainMinInitPressureDown.
   FILTER(?mainLineMainMinInitPressureDown != 0)
}ORDER BY (?mainLineMainMinInitPressureDown)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMax84 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMax84">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMax84 WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydrantSi as:isProduct pci:HydrantSectionConcentrated.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydrantSi.
   ?hydrantSi as:includesConfigItem ?hydrantConfig.
   ?hydrantConfig pcs:hydrantConcentratedNbscLastQ ?mainLineMax84.

}ORDER BY DESC (?mainLineMax84)
LIMIT 1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMaxll -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMaxll">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Average length of lateral:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?maxll as ?mainLineMaxll)  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSalesItem.
   ?infieldSalesItem as:includesConfigItem ?ifConfigItem.

   ?ifConfigItem pcs:actualRealAverageLateralLength ?maxll.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSalesItem as:isProduct pci:Infield.
   ?salesItem as:isProduct pci:MainLine.

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMinAO122 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMinAO122">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMinAO122 WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?mainConSi as:isProduct pci:MainlineSectionConcentrated.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mainConSi.
   ?mainConSi as:includesConfigItem ?mainConConfig.
   ?mainConConfig pcs:mainlineSectionInitialPressureDown ?mainLineMinAO122.

}ORDER BY (?mainLineMinAO122)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMinAO29 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMinAO29">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMinAO29  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   {
      ?subject pcs:mainLineAO19 ?mainLineMinAO29.
   }
   UNION{
      ?subject pcs:mainLineAO25 ?mainLineMinAO29.
   }
  UNION{
      ?subject pcs:mainLineAO54 ?mainLineMinAO29.
   }
}ORDER BY ?mainLineMinAO29
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMinAO87 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMinAO87">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMinAO87 WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:HydrantSectionConcentrated.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConConfig.
   ?hydConConfig pcs:hydrantInitPressureLong ?mainLineMinAO87.

}ORDER BY (?mainLineMinAO87)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMinAO93 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMinAO93">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMinAO93 WHERE {
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   ?hydConSi as:isProduct pci:HydrantSectionConcentrated.
   ?salesItem as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydConSi.
   ?hydConSi as:includesConfigItem ?hydConConfig.
   ?hydConConfig pcs:hydrantInitPressureShort ?mainLineMinAO93.

}ORDER BY (?mainLineMinAO93)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineMinAO97 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineMinAO97">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineMinAO97  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   {
      ?subject pcs:mainLineAO87 ?mainLineMinAO97.
   }
   UNION{
      ?subject pcs:mainLineAO93 ?mainLineMinAO97.
   }
  UNION{
      ?subject pcs:mainLineAO122 ?mainLineMinAO97.
   }
}ORDER BY ?mainLineMinAO97
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineNbscConcerntrated -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineNbscConcerntrated">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Nbsc Concerntrated</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineNbscConcerntrated) WHERE {
   ?da ps:isDynamicAttribute pci:InputShiftsBlock.
   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineE15 ?E15.
   ?subject pcs:mainLineE30 ?E30.
   ?subject pcs:mainLineG27 ?G27.
   BIND(IF(?G27=3 ||?G27=4,CEIL(IF(?E15&gt;?E30,?E30,?E15)/2),IF(?E15&gt;?E29,?E29,?E15)) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineNbscScattered -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineNbscScattered">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Nbsc Scattered</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineNbscScattered) WHERE {
   ?da ps:isDynamicAttribute pci:InputShiftsBlock.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?configItem.
   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:objectName ?sym.
   ?subject pcs:mainLineNoOfShift ?E34.
   ?subject pcs:mainLineSMLoc ?E32.
   ?subject pcs:mainLineE29 ?E29.
   ?subject pcs:mainLineE15 ?E15.
   ?subject pcs:mainLineNumberCell ?E28.
   ?subject pcs:mainLineE30 ?E30.
   ?subject pcs:mainLineE33 ?E33.
   ?subject pcs:mainLineE27 ?E27.
   BIND(IF(?sym=&quot;Concentrated&quot; || ?E34=1,IF(?E32=1,IF(?E32=1,IF(?E15&gt;?E29,?E29,?E15),IF(?E15&gt;?E30,?E30,?E15)),IF(?E33=1,IF(?E32=1,IF(?E15&gt;?E29,?E29,?E15),IF(?E15&gt;?E30,?E30,?E15))/2,IF(?E15&gt;?E29,?E29,?E15))),
         IF(?E32=1,?E27,IF(?E33=1,CEIL(?E30/?E34),CEIL(?E15/?E28))))as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineNoOfShift -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineNoOfShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of Shift:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?noShift as ?mainLineNoOfShift)  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSalesItem.
   ?infieldSalesItem as:includesConfigItem ?ifConfigItem.

   ?ifConfigItem pcs:numberOfShift ?noShift.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSalesItem as:isProduct pci:Infield.
   ?salesItem as:isProduct pci:MainLine.

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineNumberBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineNumberBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of blocks:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">20</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineNumberBlock) WHERE {
   ?subject pcs:mainLineE16 ?E16.
   ?subject pcs:mainLineNumberCell ?E28.
   ?subject pcs:mainLineNoOfShift ?E34.
   BIND( xsd:string(ROUND(10*?E16/?E28)/10) as ?con1)
   BIND( xsd:decimal(strafter(?con1,&quot;.&quot;)) as ?afterRight)
   BIND( IF(?afterRight&gt;=4,xsd:decimal(?E28*ceil(?E16/?E28)),xsd:decimal(?E28*floor(?E16/?E28)))as ?con2)
   BIND(xsd:decimal(?E34*?E28) as ?significant)
   BIND(IF(ps:mod(?con2,?E34)=0,?con2, ?significant*ceil(?con2/?significant)) as ?val)


}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineNumberCell -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineNumberCell">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of cells (Ncell):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">21</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineNumberCell WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:inputAreaParallel ?areaParallel.

   ?mainSalesItem as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:numberOfCell ?cells.


   ?subject pcs:mainLineMaxll ?maxll.


   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:MainLine.
   BIND(IF(?maxll&gt;?areaParallel,xsd:decimal(1),?cells) as ?mainLineNumberCell)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLinePEvMax -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLinePEvMax">
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLinePR1 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLinePR1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainLinePR1 WHERE {
   #=IF(BX4=0,&quot;NO&quot;,IF(G9&gt;40,&quot;YES&quot;,&quot;NO&quot;))
   ?subject pcs:mainLineShortDownHill ?D46.
   ?subject pcs:mainLineG9 ?G9 .
   BIND(IF(?D46=0,&quot;NO&quot;,IF(?G9&gt;40,&quot;YES&quot;,&quot;NO&quot;)) AS ?mainLinePR1)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLinePVCvMax -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLinePVCvMax">
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineSMLoc -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineSMLoc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Submain Location</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?smFactor as ?mainLineSMLoc) WHERE {
   ?da1 ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?smSalesItem.
   ?smSalesItem as:includesConfigItem ?smConfigItem.

   ?smConfigItem ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?smLoc.
   ?smLoc as:attributionFactor ?smFactor.



   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?smSalesItem as:isProduct pci:Submain.
   ?salesItem as:isProduct pci:MainLine.

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">25</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineShort) WHERE {

   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?E9.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?E11.

   ?subject pcs:mainLineNumberCell ?E28.

   BIND( ROUND(10*?E9*(0.5-ABS(?E11-0.5))/(?E9/?E28))/10 as ?condition)
   BIND(xsd:string(?condition) as ?conString)
  #(ROUND(E9*(0.5-ABS(E11-0.5))/(E9/E28),1),1)
   BIND(IF(SUBSTR(?conString,Strlen(?conString),1)=&quot;5&quot;,FLOOR(?condition),ROUND(?condition) )as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineShortDownHill -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineShortDownHill">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">27</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainLineShortDownHill) WHERE {

   ?subject pcs:mainLineG27 ?G27.
   ?subject pcs:mainLineShort ?D45.
   ?subject pcs:mainLineLong ?E45.
   ?subject pcs:mainLineDownHill ?D43.
   ?subject pcs:mainLineG30 ?G30.
   BIND(IF((?G27 =5 || ?G27=6),?D43,
         IF(?G30=&quot;UP&quot;,?D45,?E45)
      ) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineT -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineT">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">T:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?mainLineT WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSalesItem as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSalesItem.
   ?infieldSalesItem as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:applicationRate ?appRate.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   optional
   {
      ?da ps:isDynamicAttribute pci:InputAnnualwaterreq.
      ?mainConfig ps:includesDynamicAttribute ?da.
      ?da ps:usesSymbolicValue/as:attributionFactor ?annWater.
   }

   BIND(IF(BOUND(?annWater) &amp;&amp; ?annWater != &quot;-&quot;,?annWater,1000) as ?calcAnnWater)
   BIND(ROUND(?calcAnnWater/?appRate/100)*100 as ?mainLineT)
}

</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineUpDownQ -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineUpDownQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineUpDownQ
WHERE{
   ?salesItem as:isProduct pci:MainLine.
   ?mainLineDimensionSi as:isProduct pci:MainlineDimensioning.
   OPTIONAL {?mainLineSection as:isProduct pci:MainlineSectionConcentrated.}
   OPTIONAL {?mainLineSection as:isProduct pci:pci:MainlineSectionScattered.}
   ?subject pcs:mainLineLongUpHill ?long.
   ?subject pcs:mainLineShortDownHill ?short.
   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mainLineDimensionSi.
      ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
      ?mainLineSection as:includesConfigItem ?config.
      ?config pcs:mainlineScatteredQ ?sq.
      ?config pcs:sectionIndex ?sectionIndex1
   }
   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mainLineDimensionSi.
      ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
      ?mainLineSection as:includesConfigItem ?config.
      ?config pcs:mainlineConcentratedQ ?cq.
      ?config pcs:sectionIndex ?sectionIndex2
   }
   BIND(IF(BOUND(?sectionIndex1),?sectionIndex1,?sectionIndex2) as ?sectionIndex)
   BIND(IF(BOUND(?sq),?sq,?cq) as ?q)
   BIND(IF(?long&gt;?short, ?long,?short) as ?index)
   BIND(IF(?sectionIndex =?index , ?q,xsd:decimal(0)) as ?mainLineUpDownQ)

}
ORDER BY DESC (?sectionIndex)
LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineUpHill -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineUpHill">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">24</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineUpHill
WHERE {

   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?salesItem as:isProduct pci:MainLine.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?E9.
   ?mainConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?E11.

   ?subject pcs:mainLineNumberCell ?E28.
   ?subject pcs:mainLineE19 ?E19.
   ?subject pcs:mainLineG12 ?slope_x.

   BIND(CEIL((?E9*(0.5+(0.5-?E11))/?E19)) as ?condition)


   BIND(IF(?condition&gt;?E28,?E28,?condition) as ?value)

   BIND(IF(?slope_x &lt; 0 &amp;&amp; !(?value &lt;= 0), ?value - 1, ?value)
      AS ?mainLineUpHill)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineValveLoc -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineValveLoc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Valve Location</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?valveFactor as ?mainLineValveLoc) WHERE {
   ?da ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?smSalesItem.
   ?smSalesItem as:includesConfigItem ?smConfigItem.

   ?smConfigItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valveLoc.
   ?valveLoc as:attributionFactor ?valveFactor.


   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?smSalesItem as:isProduct pci:Submain.
   ?salesItem as:isProduct pci:MainLine.

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainLineVirtualInnerDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;mainLineVirtualInnerDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Virtual Inner Diameter</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainLineVirtualInnerDiameter WHERE {
   ?mainLine as:isProduct pci:MainLine .
    {
      ?salesItem as:isProduct pci:MainlineSectionConcentrated .
   }
   UNION
   {
      ?salesItem as:isProduct pci:MainlineSectionScattered .
   }


   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?diameterAttribute ps:isDynamicAttribute pci:MainlineInternalDiameter .
   ?nominalAttribute ps:isDynamicAttribute pci:MainlineNominalDiameter .
   ?subject pcs:mainlineSectionClassUp ?classUp.
   ?subject pcs:mainlineSectionClassDown ?classDown.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mlDiemnsion.
   ?mlDiemnsion as:salesItemIncludedBy ?mainLine .
   ?mainLine as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig pcs:mainLineLongUpHill ?long.
   ?mainLineConfig pcs:mainLineShortDownHill ?short.

   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .



   BIND(IF(?long&gt;?short,?classUp,?classDown) AS ?class1)
   BIND(uri(CONCAT(&quot;http://www.inmindcomputing.com/application/products/products-implementation.owl#MainlineClass_&quot;,STR(?class1))) AS ?classUri)
   ?classUri ^ps:isSymbolicValue ?class1Sym .

   ?subject pcs:sectionRealDmm ?realDiameter .

   ?entry ^as:usesBOMEntry ?class1Sym, ?material, ?diameterValue, ?nominalValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   }
   ?nominalValue as:attributionFactor ?realDiameter .
   ?diameterValue as:attributionFactor ?mainLineVirtualInnerDiameter .

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineAvgFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineAvgFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Average flow rate per block:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">24</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?mainlineAvgFlowRate) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?infieldSalesItem.
   ?infieldSalesItem as:includesConfigItem ?infieldConfigItem.

   ?infieldConfigItem pcs:areaTotalFlow ?areaTotalFlow.
   ?subject pcs:mainLineNumberBlock ?numberOfBlock.

   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?infieldSalesItem as:isProduct pci:Infield.
   ?salesItem as:isProduct pci:MainLine.
   BIND(ROUND(?areaTotalFlow/?numberOfBlock*10)/10 as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineConcentratedQ -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineConcentratedQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineConcentratedQ WHERE {
   optional{
      ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:MainlineSectionConcentrated.

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineG27 ?g27.
      ?mainLineConfig pcs:mainLineE14 ?e14.
      ?mainLineConfig pcs:mainLineE15 ?e15.
      ?mainLineConfig pcs:mainLineE30 ?e30.
      ?mainLineConfig pcs:mainLineNbscConcerntrated ?e52.

      BIND(ps:q_main_conc(?e14, ?e15, ?e30, ?e52, ?g27) as ?val1)
   }
   optional{
      ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:MainlineSectionConcentrated.

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineE53 ?e53.
      ?mainLineConfig pcs:mainLineMax84 ?max84.

   }



   Optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:mainlineConcentratedQ ?lastQ.
      ?subject  pcs:sectionIndex ?indexStep.

   }
   BIND(ps:q_main_conc_step(?e53, ?indexStep, ?lastQ, ?max84) as ?val2)

   BIND(IF(BOUND(?val2),?val2,?val1) as ?mainlineConcentratedQ)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSectionConcentrated-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineFxnClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineFxnClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainlineFxnClass3
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineClass.
   ?da1 ps:isDynamicAttribute pci:MainlineType.

   {
      ?salesItem as:isProduct pci:MainlineSectionScattered.

   }
   UNION
   {

      ?salesItem as:isProduct pci:MainlineSectionConcentrated.

   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?class.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?type.

   ?subject pcs:mainlineSectionActualClassDown ?classDown.
   ?subject pcs:mainlineSectionActualClassUp ?classUp.

   BIND(IF(?class=2.2 &amp;&amp; ?type=pci:MainlineFlexnethp,IF(?classDown=3 || ?classUp=3,xsd:decimal(1),xsd:decimal(0)),xsd:decimal(0)) as ?mainlineFxnClass3 )



}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineLastQLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineLastQLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject (?q as ?mainlineLastQLong)
WHERE {

   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }


  OPTIONAL
   {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:mainlineScatteredQ ?q.
   }
   OPTIONAL
   {
      ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
      ?mlSectionConfig pcs:mainlineConcentratedQ ?q.
   }
   FILTER NOT EXISTS
   {
      ?mlSectionSi pcs:linksSection ?anySi.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineLastY -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineLastY">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineLastY
WHERE {
   ?subject pcs:mainLineE12 ?y_ep .
   ?subject pcs:mainLineE29 ?blocks .

   BIND(1 / ?blocks AS ?first_block)
   BIND(?y_ep / ?first_block AS ?blocks_per_ep)

   BIND(CEIL(?blocks_per_ep) AS ?next)
   BIND(FLOOR(?blocks_per_ep) AS ?last)

   BIND(?next * ?first_block - ?y_ep AS ?distance_to_next)
   BIND(?y_ep - ?last * ?first_block AS ?distance_to_last)

   BIND(IF(?distance_to_last &lt; ?distance_to_next,
        ?last, ?next)
      AS ?shortest_distance)

   BIND(IF(?first_block - ?y_ep = ?shortest_distance,
         ?first_block, ?first_block * ?shortest_distance)
      AS ?mainlineLastY)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineLongReduced -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineLongReduced">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Long Reduced:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">9</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineLongReduced
WHERE {
   ?project as:isProduct pci:OpenFieldProject .
   ?mainLineSi as:isProduct pci:MainLine .
   ?submain as:isProduct pci:Infield .
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi .
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi .
   ?mainLineSi as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig pcs:mainLineE11 ?ep_x .
   ?mainLineConfig pcs:mainLineG12 ?slope_x .
   ?mainLineConfig pcs:mainLineG27 ?scenario .
   ?mainLineConfig pcs:mainLineNumberCell ?no_cells .

   ?mainLineSi as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue ?description .

   ?subject pcs:sectionLong ?dmm .

   BIND(IF(EXISTS{
            ?description ps:isSymbolicValue pci:Pc
         }, 0.05, 0.01) AS ?slope_max)

   BIND(IF(?ep_x = 0, 1,
         IF(?ep_x = 1, 2,
            IF(?ep_x &lt; (1-(1/?no_cells)), 3, 0))) AS ?ep_situation)

   OPTIONAL{
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   } 
   
   OPTIONAL{
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:linksSection ?successor .
      ?successor pcs:linksSection ?next_successor .
      ?next_successor as:includesConfigItem ?next_sucConfig .
      ?next_sucConfig pcs:sectionLong ?next_but_one.
      FILTER (?next_but_one != 0)
   }

   BIND(IF(!BOUND(?next), true, false) AS ?is_last)
   
   BIND(IF(!?is_last &amp;&amp; !BOUND(?next_but_one), true, false) AS ?is_2nd_last)


   BIND(IF(?dmm != 0
         &amp;&amp; (?scenario = 5 || ?scenario = 6)
         &amp;&amp; ((?ep_situation = 2 &amp;&amp; ?is_last)
            || (?ep_situation = 1 &amp;&amp; ?is_last &amp;&amp; ?slope_x &gt;= 0 &amp;&amp; ?slope_x &lt; ?slope_max)
            || (?ep_situation = 2 &amp;&amp; ?is_2nd_last &amp;&amp; ?slope_x &gt;= 0 &amp;&amp; ?slope_x &lt; ?slope_max))
         , 1, 0)  AS ?mainlineLongReduced)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineNumberofValvesPerShift -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineNumberofValvesPerShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?mainlineNumberofValvesPerShift
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?submainSi as:isProduct pci:Submain.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:actualNumberOfValvesPerShift ?mainlineNumberofValvesPerShift.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlinePRV -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlinePRV">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?mainlinePRV
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineClass.

   {
      ?salesItem as:isProduct pci:MainlineSectionScattered.

   }
   UNION
   {

      ?salesItem as:isProduct pci:MainlineSectionConcentrated.

   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?class.
   ?mainLineConfig pcs:mainLineAO04 ?AO04.

   ?subject pcs:mainlineScatteredFinalPressureDown ?pFinalDown.#same variable for both scattered and concentrated
   ?subject pcs:mainlineScatteredFinalPressureUp ?pFinalUp.#same variable for both scattered and concentrated
   ?subject pcs:mainlineSectionInitialPressureUp ?pInitUp.
   ?subject pcs:mainlineSectionInitialPressureDown ?pInitDown.

   ?subject pcs:mainlineSectionMlUp ?mlUp.
   ?subject pcs:mainlineSectionMlDown ?mlDown.


   BIND(9.5*?class as ?classP)

   BIND(IF(?mlUp&gt;=0,IF(?pInitUp&gt;?classP,xsd:decimal(1),0),
         IF((?pFinalUp+?AO04)&gt;?classP,xsd:decimal(1),xsd:decimal(0)  )
      ) as ?prvUp)

   BIND(IF(?mlDown&gt;=0,IF(?pInitDown&gt;?classP,xsd:decimal(1),0),
         IF((?pFinalDown+?AO04)&gt;?classP,xsd:decimal(1),xsd:decimal(0)  )
      ) as ?prvDown)

   BIND(?prvUp+?prvDown as ?mainlinePRV)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineScatteredFinalPressureDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineScatteredFinalPressureDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure Down:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">32</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineScatteredFinalPressureDown
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineAO29 ?ao29.
   ?mainLineConfig pcs:mainLineG12 ?slope .

   ?subject  pcs:mainlineSectionMlDown ?topo.
   ?subject  pcs:mainlineSectionInitialPressureDown ?pressure.
   ?subject pcs:sectionVirtualHeadlossShort ?vhl.
   ?subject pcs:sectionShort ?short.

   BIND(IF(?short = xsd:decimal(0), xsd:decimal(0),
         ?pressure + IF(?topo &lt; 0, ?ao29, 0) + ?vhl + ?topo)
          AS ?mainlineScatteredFinalPressureDown)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineScatteredFinalPressureUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineScatteredFinalPressureUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure Up:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">22</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineScatteredFinalPressureUp
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineAO29 ?ao29.
   ?mainLineConfig pcs:mainLineG12 ?slope .

   ?subject  pcs:mainlineSectionMlUp ?topo.
   ?subject  pcs:mainlineSectionInitialPressureUp ?pressure.
   ?subject pcs:sectionVirtualHeadlossLong ?vhl.
   ?subject pcs:sectionLong ?short.

   BIND(IF(?short = xsd:decimal(0), xsd:decimal(0),
         ?pressure + IF(?topo &lt; 0, ?ao29, 0) + ?vhl + ?topo)
          AS ?mainlineScatteredFinalPressureUp)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineScatteredQ -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineScatteredQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val AS ?mainlineScatteredQ) WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?salesItem as:isProduct pci:MainlineSectionScattered.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE14 ?e14.
   ?mainLineConfig pcs:mainLineE15 ?e15.
   ?mainLineConfig pcs:mainLineG27 ?g27.
   ?mainLineConfig pcs:mainLineAR25 ?ar25.

   ?subject pcs:sectionIndex ?k30.
   BIND(ps:q_main_sca(?k30, ?e14, ?e15, ?g27, ?ar25)  as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSectionScattered-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionActualClassDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionActualClassDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Down for BOM</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionActualClassDown
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   {
      ?salesItem as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?salesItem as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineShortDownHill ?count.
   ?mainLineConfig pcs:hydrantClassDown1 ?class1.
   ?mainLineConfig pcs:hydrantClassDown2 ?class2.
   ?mainLineConfig pcs:hydrantClassDown3 ?class3.
   ?mainLineConfig pcs:hydrantClassDownRatio1 ?ratio1.
   ?mainLineConfig pcs:hydrantClassDownRatio2 ?ratio2.

   ?subject pcs:sectionIndex ?index.
   ?subject pcs:sectionShort ?dmm.

   BIND(IF(?dmm=xsd:decimal(0),xsd:decimal(0),
         ps:ml_class(?index,?count,?class1,?class2,?class3,?ratio1,?ratio1))
      AS ?mainlineSectionActualClassDown)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionActualClassUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionActualClassUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Up for BOM</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">9</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionActualClassUp
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   {
      ?salesItem as:isProduct pci:MainlineSectionScattered.
   }
   UNION
   {
      ?salesItem as:isProduct pci:MainlineSectionConcentrated.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineLongUpHill ?count.
   ?mainLineConfig pcs:hydrantClassUp1 ?class1.
   ?mainLineConfig pcs:hydrantClassUp2 ?class2.
   ?mainLineConfig pcs:hydrantClassUp3 ?class3.
   ?mainLineConfig pcs:hydrantClassUpRatio1 ?ratio1.
   ?mainLineConfig pcs:hydrantClassUpRatio2 ?ratio2.

   ?subject pcs:sectionIndex ?index.
   ?subject pcs:sectionLong ?dmm.

   BIND(IF(?dmm=xsd:decimal(0),xsd:decimal(0),
         ps:ml_class(?index,?count,?class1,?class2,?class3,?ratio1,?ratio1))
      AS ?mainlineSectionActualClassUp)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionCalcHlHydrant -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionCalcHlHydrant">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">CalcHlHydrant</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionCalcHlHydrant
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   {
      ?salesItem as:isProduct pci:MainlineSectionScattered
   } UNION {
      ?salesItem as:isProduct pci:MainlineSectionConcentrated
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE25 ?blockWidth.
   ?subject pcs:sectionIndex ?mIndex.

   OPTIONAL
   {
      {
         ?hydSi as:isProduct pci:HydrantSectionConcentrated
      } UNION {
         ?hydSi as:isProduct pci:HydrantSectionScattered
      }

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:includesSalesItem ?hydSi.
      ?hydSi as:includesConfigItem ?hydConfig.
      ?hydConfig pcs:sectionIndex ?hIndex .
      ?hydConfig pcs:sectionInnerDmm ?innerDmm .
      ?hydConfig pcs:sectionLong ?secLong .

      {
         ?subject as:configItemIncludedBy ?salesItem.
         ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
         ?mainLineDimensionSi as:includesSalesItem ?hydSi.
         ?hydSi as:includesConfigItem ?hydConfig.
         ?hydConfig pcs:hydrantScatteredQ ?k6.
      } UNION {
         ?subject as:configItemIncludedBy ?salesItem.
         ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
         ?mainLineDimensionSi as:includesSalesItem ?hydSi.
         ?hydSi as:includesConfigItem ?hydConfig.
         ?hydConfig pcs:hydrantConcentratedQ ?k6.
      }

   }FILTER(?hIndex=?mIndex)

   BIND(IF(?secLong=0,xsd:decimal(0),
         ps:hl_hydrant(?k6,?innerDmm,?blockWidth))
      AS ?mainlineSectionCalcHlHydrant)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionCalcHlMainline -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionCalcHlMainline">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">CalcHLMainline</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionCalcHlMainline WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   {
      ?salesItem as:isProduct pci:MainlineSectionScattered
   }
   UNION
   {
      ?salesItem as:isProduct pci:MainlineSectionConcentrated
   }
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineE20 ?e20.
   ?subject pcs:mainLineVirtualInnerDiameter ?innerDmm .
   ?subject pcs:sectionLong ?secLong.

        {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }
   BIND(ps:hl_hydrant(?k6,?innerDmm,?e20) AS ?mainlineSectionCalcHlMainline)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionClassDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionClassDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Down:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">33</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionClassDown WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?da1 ps:isDynamicAttribute pci:MainlineClass.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?mainLineConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?e23.
   ?subject pcs:sectionShort ?k15.
   ?subject pcs:mainlineScatteredFinalPressureDown ?k20.


   BIND(IF(?k15=0,xsd:decimal(0),ps:class(?k20, ?e22,?e23)) AS ?mainlineSectionClassDown)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionClassUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionClassUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Class Up:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">23</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionClassUp WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?da1 ps:isDynamicAttribute pci:MainlineClass.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   ?mainLineConfig ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?e23.
   ?subject pcs:sectionLong ?k15.
   ?subject pcs:mainlineScatteredFinalPressureUp ?k20.


   BIND(IF(?k15=0,xsd:decimal(0),ps:class(?k20, ?e22,?e23)) AS ?mainlineSectionClassUp)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionInitialPressureDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionInitialPressureDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Initial Pressure Down:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionInitialPressureDown
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:pcln0Hydrant ?initial.

   ?subject pcs:sectionShort ?secLong.

   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:mainlineSectionInitialPressureDown ?lastPressure.
      ?lastSectionConfig pcs:sectionVirtualHeadlossShort ?vhl.
      ?lastSectionConfig pcs:mainlineSectionMlDown ?up.
   }

   BIND(IF(?secLong=xsd:decimal(0),xsd:decimal(0),
         IF(BOUND(?lastSection), ?lastPressure + ?vhl + ?up, ?initial))
          AS ?mainlineSectionInitialPressureDown)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionInitialPressureUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionInitialPressureUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Init Pressure Up:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">21</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionInitialPressureUp
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:pcln0Hydrant ?initial.

   ?subject pcs:sectionLong ?secLong.

   OPTIONAL {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:mainlineSectionInitialPressureUp ?lastPressure.
      ?lastSectionConfig pcs:sectionVirtualHeadlossLong ?vhl.
      ?lastSectionConfig pcs:mainlineSectionMlUp ?up.
   }

   BIND(IF(?secLong=xsd:decimal(0),xsd:decimal(0),
         IF(BOUND(?lastSection), ?lastPressure + ?vhl + ?up, ?initial))
          AS ?mainlineSectionInitialPressureUp)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionMlDown -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionMlDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">ML_Down:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionMlDown
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:mainLineG12 ?g12.
   ?mainLineConfig pcs:mainLineE20 ?blockWidth.
   ?mainLineConfig pcs:mainLineBH26 ?bh26.
   ?mainLineConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:sectionShort ?short.
   ?subject pcs:mainlineShortReduced ?reduced.

   OPTIONAL
   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:linksSection ?nextSi.
      ?nextSi as:includesConfigItem ?nextConfig.
      ?nextConfig pcs:sectionShort ?l39.
   }

   BIND(IF(?reduced = 1, IF(?ep_x = 1, 5, 3), ?blockWidth) AS ?size)

   BIND(IF(?short=xsd:decimal(0),xsd:decimal(0),
         IF(!BOUND(?nextSi) || ?l39=xsd:decimal(0),
            ps:ml_down(?g12,  ?size, ?bh26),
            ps:ml_down(?g12,  ?size)))
      AS ?mainlineSectionMlDown)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineSectionMlUp -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineSectionMlUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">ML_UP:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">20</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineSectionMlUp
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:mainLineG12 ?g12.
   ?mainLineConfig pcs:mainLineE20 ?blockWidth.
   ?mainLineConfig pcs:mainLineBD26 ?bd26.
   ?mainLineConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:sectionLong ?long .
   ?subject pcs:mainlineLongReduced ?reduced.

   OPTIONAL
   {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:linksSection ?nextSi.
      ?nextSi as:includesConfigItem ?nextConfig.
      ?nextConfig pcs:sectionLong ?l39.
   }

   BIND(IF(?reduced = 1, IF(?ep_x = 0, 5, 3), ?blockWidth) AS ?size)

   BIND(IF(?long=xsd:decimal(0),xsd:decimal(0),
         IF(!BOUND(?nextSi) || ?l39=xsd:decimal(0),
            ps:ml_up(?g12,  ?size, ?bd26),
            ps:ml_up(?g12,  ?size)))
      AS ?mainlineSectionMlUp)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineShortReduced -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineShortReduced">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Short Reduced:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineShortReduced
WHERE {
   ?project as:isProduct pci:OpenFieldProject .
   ?mainLineSi as:isProduct pci:MainLine .
   ?submain as:isProduct pci:Infield .
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi .
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi .
   ?mainLineSi as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig pcs:mainLineE11 ?ep_x .
   ?mainLineConfig pcs:mainLineG12 ?slope_x .
   ?mainLineConfig pcs:mainLineG27 ?scenario .
   ?mainLineConfig pcs:mainLineNumberCell ?no_cells .

   ?mainLineSi as:salesItemIncludedBy ?project .
   ?project as:includesSalesItem ?submain .
   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue ?description .

   ?subject pcs:sectionShort ?dmm .

   BIND(IF(EXISTS{
            ?description ps:isSymbolicValue pci:Pc
         }, -0.05, -0.01) AS ?slope_max)

   BIND(IF(?ep_x = 0, 1,
         IF(?ep_x = 1, 2,
            IF((1/?no_cells) &lt; ?ep_x, 3, 0))) AS ?ep_situation)

   OPTIONAL{
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionShort ?next.
      FILTER (?next != 0)
   }
   
   OPTIONAL{
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem pcs:linksSection ?successor .
      ?successor pcs:linksSection ?next_successor .
      ?next_successor as:includesConfigItem ?next_sucConfig .
      ?next_sucConfig pcs:sectionShort ?next_but_one.
      FILTER (?next_but_one != 0)
   }

   BIND(IF(!BOUND(?next), true, false) AS ?is_last)
   
   BIND(IF(!?is_last &amp;&amp; !BOUND(?next_but_one), true, false) AS ?is_2nd_last)

   BIND(IF(?dmm != 0
         &amp;&amp; (?scenario = 5 || ?scenario = 6)
         &amp;&amp; ((?ep_situation = 1 &amp;&amp; ?is_last)
            || (?ep_situation = 2 &amp;&amp; ?is_last &amp;&amp; ?slope_x &gt; ?slope_max)
            || (?ep_situation = 3 &amp;&amp; ?is_2nd_last &amp;&amp; ?slope_x &lt; 0 &amp;&amp; ?slope_x &gt; ?slope_max))
         , 1, 0)  AS ?mainlineShortReduced)  
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineVirtualHeadlossLong -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineVirtualHeadlossLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineVirtualHeadlossLong
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:mainLineE20 ?blockWidth.
   ?mainLineConfig pcs:mainLineBD25 ?bd25.
   ?mainLineConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:sectionInnerDmm ?innerDmm.
   ?subject pcs:sectionLong ?k14.
   ?subject pcs:mainlineLongReduced ?reduced.

   {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }

   BIND(IF(?reduced = 1, IF(?ep_x = 0, 5, 3), ?blockWidth) AS ?size)

   BIND(IF(EXISTS {
            ?salesItem pcs:linksSection ?successor .
            ?successor as:includesConfigItem ?sucConfig .
            ?sucConfig pcs:sectionLong ?next.
            FILTER (?next != 0)
         }, xsd:decimal (0), ?bd25) AS ?reduction)

   BIND(IF(?k14=0,0,ps:virtual_hl(?k6, ?size, ?innerDmm)+ ?reduction)
      AS ?mainlineVirtualHeadlossLong)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineVirtualHeadlossShort -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineVirtualHeadlossShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineVirtualHeadlossShort
WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.

   ?mainLineConfig pcs:mainLineE20 ?blockWidth.
   ?mainLineConfig pcs:mainLineBH25 ?bh25.
   ?mainLineConfig pcs:mainLineE11 ?ep_x .

   ?subject pcs:sectionInnerDmm ?innerDmm.
   ?subject pcs:sectionShort ?k14.
   ?subject pcs:mainlineShortReduced ?reduced.

   {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }

   BIND(IF(?reduced = 1, IF(?ep_x = 1, 5, 3), ?blockWidth) AS ?size)

   BIND(IF(EXISTS {
            ?salesItem pcs:linksSection ?successor .
            ?successor as:includesConfigItem ?sucConfig .
            ?sucConfig pcs:sectionShort ?next.
            FILTER (?next != 0)
         }, xsd:decimal (0), ?bh25) AS ?reduction)

   BIND(IF(?k14=0,0,ps:virtual_hl(?k6, ?size, ?innerDmm)+?reduction)
      AS ?mainlineVirtualHeadlossShort)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;MainlineSection-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mainlineWSDistance -->

    <owl:DatatypeProperty rdf:about="&pcs;mainlineWSDistance">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mainlineWSDistance
WHERE {
   ?da ps:isDynamicAttribute pci:InputWaterSourceDistance .
   ?salesItem as:isProduct pci:MainLine .
   ?mainSi as:isProduct pci:OpenFieldProject .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?da .
   ?da ps:dynamicAttributeHidden ?hidden .

   OPTIONAL {
      ?da ps:dynamicDataAttributeValue ?dws1 .
   }

   ?subject pcs:mainLineBF28 ?dws2 .

   BIND(IF(?hidden, ?dws2, ?dws1)
      AS ?mainlineWSDistance)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#manualPressureMaxError -->

    <owl:DatatypeProperty rdf:about="&pcs;manualPressureMaxError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?manualPressureMaxError
WHERE {
   ?da ps:isDynamicAttribute pci:InfieldBlockValvepressureManual.
   ?da1 ps:isDynamicAttribute pci:InfieldMaximumPressure .

   ?subject ps:includesDynamicAttribute ?da, ?da1.
   ?da ps:dynamicDataAttributeValue ?manualPressure.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?maxPressure.
   BIND(xsd:boolean(?manualPressure &gt; ?maxPressure) as ?manualPressureMaxError)
}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#manualPressureMaxErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;manualPressureMaxErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?manualPressureMaxErrorText
WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldMaximumPressure .
   ?subject pcs:manualPressureMaxError ?manualPressureMaxError.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?maxPressure.
   BIND(CONCAT(&quot;model.manualPressureMaxError&quot;, CONCAT (&quot;,&quot;, STR(?maxPressure)) ) as ?modelMsg)
   BIND(IF(?manualPressureMaxError,?modelMsg,&quot;&quot;) as ?manualPressureMaxErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#manualPressureMinError -->

    <owl:DatatypeProperty rdf:about="&pcs;manualPressureMinError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?manualPressureMinError
WHERE {
   ?da ps:isDynamicAttribute pci:InfieldBlockValvepressureManual.
   ?da1 ps:isDynamicAttribute pci:InfieldMinimumPressure .

   ?subject ps:includesDynamicAttribute ?da, ?da1.
   ?da ps:dynamicDataAttributeValue ?manualPressure.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?minPressure.
   BIND(xsd:boolean(?manualPressure &lt; ?minPressure) as ?manualPressureMinError)

}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#manualPressureMinErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;manualPressureMinErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?manualPressureMinErrorText
WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldMinimumPressure .
   ?subject pcs:manualPressureMinError ?manualPressureMinError.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?minPressure.
   BIND(CONCAT(&quot;model.manualPressureMinError&quot;, CONCAT (&quot;,&quot;, STR(?minPressure)) ) as ?modelMsg)
   BIND(IF(?manualPressureMinError,?modelMsg,&quot;&quot;) as ?manualPressureMinErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxDmmHydrantLong -->

    <owl:DatatypeProperty rdf:about="&pcs;maxDmmHydrantLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxDmmHydrantLong WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionLong ?maxDmmHydrantLong.


} ORDERBY DESC(?maxDmmHydrantLong) LIMIT1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxDmmHydrantShort -->

    <owl:DatatypeProperty rdf:about="&pcs;maxDmmHydrantShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxDmmHydrantShort WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionShort ?maxDmmHydrantShort.

} ORDERBY DESC(?maxDmmHydrantShort) LIMIT1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxDmmMainLineDown -->

    <owl:DatatypeProperty rdf:about="&pcs;maxDmmMainLineDown">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxDmmMainLineDown WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   optional
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:sectionShort ?maxDmmMainLineDown.


} ORDERBY DESC(?maxDmmMainLineDown) LIMIT1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxDmmMainLineUp -->

    <owl:DatatypeProperty rdf:about="&pcs;maxDmmMainLineUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxDmmMainLineUp WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }
   optional
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
   ?mlSectionConfig pcs:sectionLong ?maxDmmMainLineUp.


} ORDERBY DESC(?maxDmmMainLineUp) LIMIT1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxFlowSmallerDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;maxFlowSmallerDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxFlowSmallerDiameter
WHERE {

   ?salesItem as:isProduct pci:Submain.
   ?valveAttribute ps:isDynamicAttribute pci:HeadworksType .
   ?materialAttribute ps:isDynamicAttribute pci:HeadworksTypeMaterial .
   ?diameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .
   ?flowAttribute ps:isDynamicAttribute pci:HeadworksMaxFlow .


   ?subject as:configItemIncludedBy ?salesItem .

   ?subject ps:includesDynamicAttribute ?materialAttribute, ?valveAttribute, ?diameterAttribute .
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?valveAttribute ps:usesSymbolicValue ?valveValue .
   ?valveValue ps:isSymbolicValue/^ps:isSymbolicValue ?valve .


   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .
   ?subject pcs:submainValveSmallerDiameter ?diametervalue.
   ?diameter as:attributionFactor ?diametervalue.

   ?entry ^as:usesBOMEntry ?valve, ?material, ?diameter ,?flow .
   FILTER EXISTS{
      ?flow ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?flowAttribute .
   }
   ?flow as:attributionFactor ?maxFlowSmallerDiameter .

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxHydrantClassUp -->

    <owl:DatatypeProperty rdf:about="&pcs;maxHydrantClassUp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxHydrantClassUp WHERE {
   {
   ?subject pcs:hydrantClassUp1 ?maxHydrantClassUp .
   }
   UNION
   {
   ?subject pcs:hydrantClassUp2 ?maxHydrantClassUp.
   }
   UNION
   {
   ?subject pcs:hydrantClassUp3 ?maxHydrantClassUp.
   }

}ORDERBY DESC (?maxHydrantClassUp) LIMIT1
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxInnerDmmHydrantLong -->

    <owl:DatatypeProperty rdf:about="&pcs;maxInnerDmmHydrantLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxInnerDmmHydrantLong
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionLong ?long.
   ?hydScatteredConfig pcs:sectionInnerDmm ?maxInnerDmmHydrantLong.

   FILTER(?long != 0)

} ORDER BY DESC(?maxInnerDmmHydrantLong) LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxInnerDmmHydrantShort -->

    <owl:DatatypeProperty rdf:about="&pcs;maxInnerDmmHydrantShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxInnerDmmHydrantShort WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionScattered.
   }
   optional
   {
      ?hydScatteredSi as:isProduct pci:HydrantSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?hydScatteredSi.
   ?hydScatteredSi as:includesConfigItem ?hydScatteredConfig.
   ?hydScatteredConfig pcs:sectionShort ?short.
   ?hydScatteredConfig pcs:sectionInnerDmm ?maxInnerDmmHydrantShort.

   FILTER(?short != 0)

} ORDER BY DESC(?maxInnerDmmHydrantShort) LIMIT 1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxInnerDmmMainLineLong -->

    <owl:DatatypeProperty rdf:about="&pcs;maxInnerDmmMainLineLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxInnerDmmMainLineLong WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?sectionSi as:isProduct pci:MainlineSectionScattered.
   }
   optional
   {
      ?sectionSi as:isProduct pci:MainlineSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?sectionSi.
   ?sectionSi as:includesConfigItem ?sectionConfig.
   ?sectionConfig pcs:sectionLong ?long.
   ?sectionConfig pcs:sectionInnerDmm ?maxInnerDmmMainLineLong.
   FILTER(?long !=0 )

} ORDERBY DESC(?maxInnerDmmMainLineLong) LIMIT1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxInnerDmmMainLineShort -->

    <owl:DatatypeProperty rdf:about="&pcs;maxInnerDmmMainLineShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxInnerDmmMainLineShort WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   optional
   {
      ?sectionSi as:isProduct pci:MainlineSectionScattered.
   }
   optional
   {
      ?sectionSi as:isProduct pci:MainlineSectionConcentrated.
   }


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?sectionSi.
   ?sectionSi as:includesConfigItem ?sectionConfig.
   ?sectionConfig pcs:sectionShort ?short.
   ?sectionConfig pcs:sectionInnerDmm ?maxInnerDmmMainLineShort.
   FILTER(?short !=0 )

} ORDERBY DESC(?maxInnerDmmMainLineShort) LIMIT1</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxIrFlow1pt5inchValves -->

    <owl:DatatypeProperty rdf:about="&pcs;maxIrFlow1pt5inchValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxIrFlow1pt5inchValves WHERE {
   BIND(xsd:decimal(12) as ?maxIrFlow1pt5inchValves)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxIrFlow2inchValves -->

    <owl:DatatypeProperty rdf:about="&pcs;maxIrFlow2inchValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxIrFlow2inchValves WHERE {
   BIND(xsd:decimal(20) as ?maxIrFlow2inchValves)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxIrFlow3inchValves -->

    <owl:DatatypeProperty rdf:about="&pcs;maxIrFlow3inchValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxIrFlow3inchValves WHERE {
   BIND(xsd:decimal(38) as ?maxIrFlow3inchValves)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxIrFlow4inchValves -->

    <owl:DatatypeProperty rdf:about="&pcs;maxIrFlow4inchValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxIrFlow4inchValves WHERE {
   BIND(xsd:decimal(80) as ?maxIrFlow4inchValves)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxIrFlow6inchValves -->

    <owl:DatatypeProperty rdf:about="&pcs;maxIrFlow6inchValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxIrFlow6inchValves WHERE {
   BIND(xsd:decimal(180) as ?maxIrFlow6inchValves)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxShiftFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;maxShiftFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">27) Estimated max shift flow rate (m3/hr):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">250</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?maxShiftFlowRate WHERE {
   ?subject pcs:areaTotalFlow ?areaTotal.
   ?subject pcs:numberOfShift ?noShift.

   BIND(round(?areaTotal/?noShift *1.08 )as ?maxShiftFlowRate)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxWaterRequirement -->

    <owl:DatatypeProperty rdf:about="&pcs;maxWaterRequirement">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">8) Max Water Requirement (mm/d):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">55</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxWaterRequirement WHERE {
   ?da1 ps:isDynamicAttribute pci:InputClimate.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:cropFactor ?cropAttributionFactor.
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/as:attributionFactor ?climatefactor.
   optional
   {
      ?subject ps:includesDynamicAttribute ?da2.
      ?da2 ps:dynamicDataAttributeValue ?maxWaterManual.
      ?da2 ps:isDynamicAttribute pci:InputMaxwaterrequirement.

   }

   BIND(IF(BOUND(?maxWaterManual),?maxWaterManual,xsd:decimal( ?climatefactor * ?cropAttributionFactor)) AS ?maxWaterRequirement) .
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupCropdata"/>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxll -->

    <owl:DatatypeProperty rdf:about="&pcs;maxll">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Calculated Theoretical length of Laterals (m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">105</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxll
WHERE {
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
 ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?mainConfig.
   ?mainConfig  pcs:inputSlopeX ?x.

   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:isSymbolicValue ?infieldLateral.
   ?da2 ps:isDynamicAttribute pci:InfieldSubmainLoc;
      ps:usesSymbolicValue/ps:isSymbolicValue ?submainLoc.



   ?subject ps:includesDynamicAttribute ?da1,?da2.
   ?subject pcs:maxllValue ?maxllValue.

   BIND(IF((?submainLoc=pci:InfieldSubmainMiddle &amp;&amp; ?x&gt;0.5) || (?submainLoc=pci:InfieldSubmainMiddle &amp;&amp; ?x&lt;(-0.5)) || (?submainLoc=pci:InfieldSubmainSide &amp;&amp; ?x&gt;0.5)  ,
      IF(?infieldLateral = pci:Non-pc , CEIL(?maxllValue - ?maxllValue * 0.07),
            CEIL(?maxllValue - ?maxllValue * 0.03)),
         ?maxllValue) AS ?maxll)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#maxllValue -->

    <owl:DatatypeProperty rdf:about="&pcs;maxllValue">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?maxllValue
WHERE {

   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:isSymbolicValue ?infieldLateral.
   ?da3 ps:isDynamicAttribute pci:InfieldAutoCalculate;
      ps:dynamicDataAttributeValue ?auto.
   ?da4 ps:isDynamicAttribute pci:InfieldAverageLengthLateral;
      ps:dynamicDataAttributeValue ?avgLateral.
   ?da5 ps:isDynamicAttribute pci:InfieldEmitterNominalFlowRate;
      ps:usesSymbolicValue/as:attributionFactor ?emitterFlow.

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:avgFlow ?avgFlow.
   ?subject pcs:hl ?hl.
   ?subject pcs:internalDmmforCalculation ?dmmFactor.
   ?subject pcs:emitterSpacingforCalculation ?emitterSpacingFactor.
   ?subject pcs:kdforCalculation ?kdFactor.

   ?subject ps:includesDynamicAttribute ?da1,?da3,?da4,?da5.

   BIND(IF(?infieldLateral=pci:Pc,?emitterFlow,?avgFlow) as ?flow)

   BIND(IF(?auto=false,
         ?avgLateral,
         ps:maxll(?hl,?flow,?emitterSpacingFactor,?dmmFactor,?kdFactor)) as ?maxllValue)


}

</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlClass3 -->

    <owl:DatatypeProperty rdf:about="&pcs;mlClass3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (sum(?val1) as ?mlClass3)
WHERE{
   ?salesItem as:isProduct pci:MainLine.
   ?mainLineDimensionSi as:isProduct pci:MainlineDimensioning.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mainLineDimensionSi.
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
   ?mainLineSection as:includesConfigItem ?config.
   ?config pcs:mainlineFxnClass3 ?val1.

   }group by ?subject</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlInfieldPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;mlInfieldPressure">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlInfieldPressure WHERE {

   ?salesItem as:isProduct pci:MainLine .
   ?mainSi as:isProduct pci:OpenFieldProject .
   ?otherSi as:isProduct pci:Infield .
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig .
   ?otherConfig pcs:calculatedBlockValvePressure ?mlInfieldPressure


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlSecondaryFilterHl -->

    <owl:DatatypeProperty rdf:about="&pcs;mlSecondaryFilterHl">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlSecondaryFilterHl
WHERE {
   ?si as:isProduct pci:MainLine.
   ?filterSi as:isProduct pci:Filtration.
   ?da ps:isDynamicAttribute pci:FtBackupFilterRequired.
   ?da1 ps:isDynamicAttribute pci:FtLocationBackupfilter .

   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?filterSi.
   ?filterSi as:includesConfigItem ?filterCong.
   optional{
   ?filterCong ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?sym.
   }
   optional{
   ?filterCong ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?sym1.
   }
   BIND(IF(?sym=pci:SecNone,xsd:decimal(0),
         IF(?sym1=pci:FtLocationMainline || ?sym1=pci:FtLocationHydrantPerblock,xsd:decimal(3.5),xsd:decimal(0))) as ?mlSecondaryFilterHl)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlSubmainHl -->

    <owl:DatatypeProperty rdf:about="&pcs;mlSubmainHl">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlSubmainHl
WHERE {

   ?salesItem as:isProduct pci:MainLine .
   ?mainSi as:isProduct pci:OpenFieldProject .
   ?otherSi as:isProduct pci:Submain .
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig .
   ?otherConfig pcs:submainFVDecimal ?fv .
   ?otherConfig pcs:submainHL ?hl.

   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig .
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?val.
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.

   BIND(IF(?val=pci:Non-pc,?hl,?fv) as ?mlSubmainHl)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlTopoDifference -->

    <owl:DatatypeProperty rdf:about="&pcs;mlTopoDifference">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlTopoDifference WHERE {
   ?da1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint .
   ?salesItem as:isProduct pci:MainLine .
   ?mainSi as:isProduct pci:OpenFieldProject .

   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?mainConfig .
   ?mainConfig ps:includesDynamicAttribute ?da1.

   ?da1 ps:dynamicDataAttributeValue ?high .

   ?subject pcs:mainLineG6 ?ws .
   BIND(?high-?ws AS ?mlTopoDifference)
}   </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlValveHl -->

    <owl:DatatypeProperty rdf:about="&pcs;mlValveHl">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlValveHl WHERE {
   ?da ps:isDynamicAttribute pci:HeadworksType .
   ?salesItem as:isProduct pci:MainLine .
   ?mainSi as:isProduct pci:OpenFieldProject .
   ?otherSi as:isProduct pci:Submain .
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig .
   ?otherConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?sym .
   BIND(IF(?sym=pci:ManualPR,xsd:decimal(5.5),xsd:decimal(3.5)) as ?mlValveHl)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <ps:group rdf:resource="&pcs;MainLineCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#mlfirstQ -->

    <owl:DatatypeProperty rdf:about="&pcs;mlfirstQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?mlfirstQ WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.
   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
      ?mlSectionConfig pcs:sectionIndex ?index.
      ?mlSectionConfig pcs:mainlineConcentratedQ ?mlfirstQ.
   }
   UNION
   {

      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi as:includesConfigItem ?mlSectionConfig.
      ?mlSectionConfig pcs:sectionIndex ?index.
      ?mlSectionConfig pcs:mainlineScatteredQ ?mlfirstQ.
   }

   FILTER(?index=1)
}
</ps:sparql>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#noLateralManifold -->

    <owl:DatatypeProperty rdf:about="&pcs;noLateralManifold">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of laterals on manifold:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (?val as ?noLateralManifold)   WHERE {

   ?da1 ps:isDynamicAttribute pci:SubmainNumberLateral.
   ?da ps:isDynamicAttribute pci:SubmainFlushingManifold.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLine.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?type.
   ?type as:attributionFactor ?factor.
   optional{
   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:dynamicDataAttributeValue ?value.
   }
   optional{
   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:usesSymbolicValue ?noManifold.
   ?noManifold as:attributionFactor ?manifoldFactor.
   ?da2 ps:isDynamicAttribute pci:SubmainManifoldPerblock.
   }



   BIND(
      IF(?factor=1,?value,
         IF(ceil(?endLine/?manifoldFactor)&lt;=30,
            ceil(?endLine/?manifoldFactor),
            0)
      ) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfCell -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfCell">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfCell WHERE {
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.
   ?salesItem as:isProduct pci:Submain.
   ?da ps:isDynamicAttribute pci:InfieldDirectionflowLateral.
   ?da1 ps:isDynamicAttribute pci:InfieldSubmainLoc.


   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:actualRealAverageLateralLength ?length.
   ?infieldConfig ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?directionalFlow.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?submainLoc.

   ?mainSi as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputAreaParallel ?area.
   BIND(IF(?submainLoc=pci:InfieldSubmainMiddle,xsd:decimal(2),
         IF(?directionalFlow=pci:DirectionflowDual,xsd:decimal(2),xsd:decimal(1))) as ?side )

      BIND(ROUND(?area/(?length*?side)) as ?numberOfCell)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfEndLinesPerBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfEndLinesPerBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of end lines per block:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">34</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">40</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?numberOfEndLinesPerBlock) WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?subject pcs:totalLengthOfFlushingManifold ?totalLengthManifold .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:averageLateralSpacing ?spacing .
   BIND(ROUND(?totalLengthManifold/(1.1*1.1*?spacing)) as ?val).

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfFlushingValvesPerBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfFlushingValvesPerBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of flushing/vacum valves per block:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">33</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (?val as ?numberOfFlushingValvesPerBlock)   WHERE {
   ?da ps:isDynamicAttribute pci:SubmainFlushingManifold.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLine.
   ?subject pcs:noLateralManifold ?noLateralManifold.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?type.
   ?type as:attributionFactor ?factor.
  optional{
   ?subject ps:includesDynamicAttribute ?da2.
   ?da2 ps:usesSymbolicValue ?noManifold.
   ?noManifold as:attributionFactor ?manifoldFactor.
   ?da2 ps:isDynamicAttribute pci:SubmainManifoldPerblock.
   }

   BIND(IF(?factor=1,ceil(?endLine/?noLateralManifold),?manifoldFactor)
       as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfShift -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">25) Number of shifts:
</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">230</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfShift WHERE {
   ?da ps:isDynamicAttribute pci:InputMaxIrrigationtime.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:durationOfShift ?durationShift.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?maxTime.
   BIND(IF((?maxTime/?durationShift)&lt;1, xsd:decimal(1), floor(?maxTime/?durationShift)) as ?numberOfShift)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfShiftFiltration -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfShiftFiltration">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfShiftFiltration WHERE {

   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:numberOfShift ?numberOfShiftFiltration

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfValvesPerProject -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfValvesPerProject">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of valves\blocks per project:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">137</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">35</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfValvesPerProject WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:actualNumberOfValvesPerShift ?noValvesPerShift.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:numberOfShift ?noShift.
   BIND( xsd:decimal(?noValvesPerShift*?noShift) AS ?numberOfValvesPerProject )

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfValvesPerShift -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfValvesPerShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of valves per shift:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">131</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfValvesPerShift  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:maxShiftFlowRate ?maxShiftFlowRate.
   ?subject pcs:theoreticalAverageFlowRate ?theoAvgFlow.
   ?subject pcs:hwMaxFlow ?maxFlow.

   BIND(?maxShiftFlowRate/?theoAvgFlow as ?calculation).
   BIND(IF (?calculation&lt;=1 ,1 ,
         IF(FLOOR(?maxShiftFlowRate/FLOOR(?calculation))&lt;= ?maxFlow,FLOOR(?calculation),CEIL(?calculation))
      )as ?numberOfValvesPerShift)


}
</ps:sparql>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfValvesPerShiftError -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfValvesPerShiftError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?numberOfValvesPerShiftError
WHERE {
   ?subject pcs:actualAverageFlowAtBiggestShift ?avgFlow.
   ?subject pcs:maxFlowSmallerDiameter ?smallFlow.
   BIND(IF(?avgFlow&lt;?smallFlow,xsd:boolean(true),xsd:boolean(false))as ?numberOfValvesPerShiftError)

}
</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#numberOfValvesPerShiftErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;numberOfValvesPerShiftErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject ?numberOfValvesPerShiftErrorText where {

   ?subject pcs:numberOfValvesPerShiftError ?error.
 BIND(IF(?error,&quot;model.numberOfValves&quot;,&quot; &quot;) AS ?numberOfValvesPerShiftErrorText)


}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#othersData -->

    <owl:DatatypeProperty rdf:about="&pcs;othersData">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#othersLongText -->

    <owl:DatatypeProperty rdf:about="&pcs;othersLongText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Langtext</rdfs:label>
        <rdfs:label xml:lang="en">Long Text</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:group rdf:resource="&ai;Base"/>
        <rdfs:subPropertyOf rdf:resource="&pcs;othersData"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#othersPrice -->

    <owl:DatatypeProperty rdf:about="&pcs;othersPrice">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Preis</rdfs:label>
        <rdfs:label xml:lang="en">Price</rdfs:label>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:group rdf:resource="&ai;Base"/>
        <rdfs:subPropertyOf rdf:resource="&pcs;othersData"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#othersShortText -->

    <owl:DatatypeProperty rdf:about="&pcs;othersShortText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Name</rdfs:label>
        <rdfs:label xml:lang="en">Name</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:defaultValue rdf:datatype="&xsd;string">Item</ps:defaultValue>
        <ps:group rdf:resource="&ai;Base"/>
        <rdfs:subPropertyOf rdf:resource="&pcs;othersData"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcCNLMinPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;pcCNLMinPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcHCNLminPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;pcHCNLminPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcMinPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;pcMinPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcln -->

    <owl:DatatypeProperty rdf:about="&pcs;pcln">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Pressure Calculated at LO Node:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?pcln
WHERE {
   optional{
      ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:LOSection.

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.
      ?mainLineConfig pcs:mainLineLongUpHill ?long.
      ?mainLineConfig pcs:mainLineShortDownHill ?short.
      ?mainLineConfig pcs:pcln0 ?pcln0ml.
      ?mainLineConfig pcs:pcln0Hydrant ?pcln0hyd.

      ?subject pcs:loSectionElevation ?loStd.
      ?subject pcs:loSectionHeadLoss ?loshl.
      BIND(IF(?short+?long &gt; 0, ?pcln0ml, ?pcln0hyd)
         +?loStd+?loshl as ?val1)
   }

   optional{
      ?mainLineSi as:isProduct pci:MainLine.
      ?salesItem as:isProduct pci:LOSection.

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
      ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
      ?mainLineSi as:includesConfigItem ?mainLineConfig.

      ?subject pcs:loSectionElevation ?loStd.
      ?subject pcs:loSectionHeadLoss ?loshl.
   }

   Optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem pcs:sectionLinkedBy ?lastSection.
      ?lastSection as:includesConfigItem ?lastSectionConfig.
      ?lastSectionConfig pcs:pcln ?lastPcln.

   }

   BIND(?lastPcln+?loStd+?loshl as ?val2)
   BIND(IF(BOUND(?val2),?val2,?val1) as ?pcln)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;LOSection-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcln0 -->

    <owl:DatatypeProperty rdf:about="&pcs;pcln0">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure at ML last section:</rdfs:label>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?pcln0
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:MainlineSectionConcentrated.
   } UNION{
      ?mlSectionSi as:isProduct pci:MainlineSectionScattered.
   }

      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi as:includesConfigItem ?mlSectionConfig.

      ?mlSectionConfig pcs:mainlineScatteredFinalPressureDown ?finalDown.
      ?mlSectionConfig pcs:mainlineScatteredFinalPressureUp ?finalUp.
      ?mlSectionConfig pcs:mainlineSectionInitialPressureDown ?init.

      BIND(IF(?finalUp&gt;?finalDown, ?finalUp, ?finalDown
         ) AS ?final)

   FILTER NOT EXISTS {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?mlDimensionSi.
      ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
      ?mlSectionSi pcs:linksSection ?successor .
      ?successor as:includesConfigItem ?sucConfig .
      ?sucConfig pcs:sectionLong ?next.
      FILTER (?next != 0)
   }

   BIND(IF(?final&gt;?init, ?final, ?init) AS ?pcln0)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcln0Hydrant -->

    <owl:DatatypeProperty rdf:about="&pcs;pcln0Hydrant">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Final Pressure at last Hydrant section:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?pcln0Hydrant
WHERE {
   OPTIONAL {
      ?subject pcs:mainLineAO20 ?pUp.
   }
   OPTIONAL {
      ?subject pcs:mainLineAO26 ?pDown.
   }

   BIND(IF(?pUp != &quot;-&quot; &amp;&amp; ?pDown != &quot;-&quot;,
         IF(?pUp &gt; ?pDown, ?pUp, ?pDown),
         IF(?pUp != &quot;-&quot;, ?pUp, ?pDown))
         AS ?pcln0Hydrant)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pcln0HydrantMin -->

    <owl:DatatypeProperty rdf:about="&pcs;pcln0HydrantMin">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Min Final Pressure at last Hydrant Section:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?pcln0HydrantMin
WHERE {
   ?salesItem as:isProduct pci:MainLine.
   ?mlDimensionSi as:isProduct pci:MainlineDimensioning.

   {
      ?mlSectionSi as:isProduct pci:HydrantSectionConcentrated.
   } UNION{
      ?mlSectionSi as:isProduct pci:HydrantSectionScattered.
   }

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mlDimensionSi.
   ?mlDimensionSi as:includesSalesItem ?mlSectionSi.
   ?mlSectionSi as:includesConfigItem ?mlSectionConfig.

   ?mlSectionConfig pcs:hydrantFinalPressureLong ?pUp.
   ?mlSectionConfig pcs:hydrantFinalPressureShort ?pDown.

   FILTER NOT EXISTS {
      ?mlSectionSi pcs:linksSection ?anySi.
   }

   BIND(IF(?pUp = 0, ?pDown,
         IF(?pDown = 0, ?pUp,
            IF(?pUp&gt;?pDown, ?pDown, ?pUp
            ))) AS ?pcln0HydrantMin)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#pressureVariation -->

    <owl:DatatypeProperty rdf:about="&pcs;pressureVariation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">#=(1-(1-B51)^(1/C31))*100
SELECT ?subject (?val as ?pressureVariation)  WHERE {
   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?da1 ps:isDynamicAttribute pci:InfieldRequiredFlowVariation.
   ?subject as:configItemIncludedBy ?salesItem.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valueX.
   ?valueX as:attributionFactor ?factorX.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?flowVariation.
   ?flowVariation as:attributionFactor ?factorFlow.


   BIND(if((?factorX=0),0,(1-(ps:pow((1-?factorFlow),(1/?factorX))))*100) as ?val) .

}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">55</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#psEstimatedHead -->

    <owl:DatatypeProperty rdf:about="&pcs;psEstimatedHead">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Pumps estimated head at working point (m):</rdfs:label>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupPumpingStat"/>
        <rdfs:domain rdf:resource="&pcs;PumpingStation-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#psEstimatedPower -->

    <owl:DatatypeProperty rdf:about="&pcs;psEstimatedPower">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Estimated power required per pump (kw):</rdfs:label>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupPumpingStat"/>
        <rdfs:domain rdf:resource="&pcs;PumpingStation-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#psPumpFlow -->

    <owl:DatatypeProperty rdf:about="&pcs;psPumpFlow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Pumps flow (per unit) at working point (m3/hr):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?psPumpFlow) WHERE {

   ?otherSalesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:PumpingStation.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:maxShiftFlowRate ?maxShiftFlowRate.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?numberOfpump.
   ?da ps:isDynamicAttribute pci:PsIdenticalpump.
   ?otherSalesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:PumpingStation.
   BIND(ROUND(?maxShiftFlowRate/?numberOfpump) as ?val)



}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupPumpingStat"/>
        <rdfs:domain rdf:resource="&pcs;PumpingStation-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#qtyFlushingManifoldDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;qtyFlushingManifoldDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?qtyFlushingManifoldDiameter
WHERE {
   ?salesItem as:isProduct pci:Manifold .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?otherSalesItem as:isProduct pci:Submain .
   ?rodSize ps:isDynamicAttribute pci:ManifoldRod .
   ?da ps:isDynamicAttribute pci:SubmainType .

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.

   ?otherConfig pcs:numberOfValvesPerProject ?noValves .
   ?otherConfig pcs:totalLengthOfFlushingManifold ?totalLength .

   ?otherConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?material.

   ?subject ps:includesDynamicAttribute ?rodSize .
   ?rodSize ps:usesSymbolicValue ?value .
   ?value as:attributionFactor ?factor .



   BIND(CEIL(?noValves*?totalLength/?factor)*IF(?material=pci:Pvc, ?factor,xsd:decimal(1))
      AS ?qtyFlushingManifoldDiameter)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#qtyFlushingValves -->

    <owl:DatatypeProperty rdf:about="&pcs;qtyFlushingValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?qtyFlushingValves WHERE {
   ?salesItem as:isProduct pci:Manifold .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?otherSalesItem as:isProduct pci:Submain .
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.

   ?otherConfig pcs:totalNumberOfFlushingValvesPerProject ?qtyFlushingValves
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#qtyHeadworksValvesAssemblyCopy -->

    <owl:DatatypeProperty rdf:about="&pcs;qtyHeadworksValvesAssemblyCopy">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?qtyHeadworksValvesAssemblyCopy WHERE {
   ?salesItem as:isProduct pci:Headworks .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?otherSalesItem as:isProduct pci:Submain .
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.

   ?otherConfig pcs:quantityHeadworksValvesAssembly ?qtyHeadworksValvesAssemblyCopy
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Headworks-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#qtyHeadworksValvesCopy -->

    <owl:DatatypeProperty rdf:about="&pcs;qtyHeadworksValvesCopy">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?qtyHeadworksValvesCopy WHERE {
   ?salesItem as:isProduct pci:Headworks .
   ?mainSalesItem as:isProduct pci:OpenFieldProject .
   ?otherSalesItem as:isProduct pci:Submain .
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.

   ?otherConfig pcs:quantityHeadworksValves ?qtyHeadworksValvesCopy
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Headworks-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#qtySecFiltrationAuto -->

    <owl:DatatypeProperty rdf:about="&pcs;qtySecFiltrationAuto">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Qty of secondary filters/filter battaries per project(Auto):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?qtySecFiltrationAuto WHERE {

   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?submainSi as:isProduct pci:Submain.
   ?da ps:isDynamicAttribute pci:SubmainNovalveAssembly.
   ?daAuto ps:isDynamicAttribute pci:FtSecDescriptionAuto.
   ?daType ps:isDynamicAttribute pci:FtLocationBackupfilter.
   ?daMethod ps:isDynamicAttribute pci:FtSecondaryfilterSelection.

   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:actualNumberOfValvesPerShift ?numberOfValvesPerShift.

   ?submainConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?valvesAssembly.

   ?subject ps:includesDynamicAttribute ?daAuto,?daType,?daMethod.
   ?da ps:usesSymbolicValue/as:attributionFactor ?factor.

   ?daType ps:usesSymbolicValue/ps:isSymbolicValue ?type.

   ?daMethod ps:usesSymbolicValue/ps:isSymbolicValue ?method.

   ?subject pcs:NumberOfCellFiltration ?cell.
   ?subject pcs:numberOfShiftFiltration ?shift.





   BIND(IF(?type=pci:FtLocationDownstream,1,
         IF(?type=pci:FtLocationMainline,?cell,?numberOfValvesPerShift*?shift/?valvesAssembly))*?factor as ?val)

   BIND(IF(?method=pci:FtSecondaryAuto,?val,&quot;-&quot;) as ?qtySecFiltrationAuto)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupFiltration"/>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityEmitter -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityEmitter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Quantity Emitter</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?quantityEmitter
WHERE {
   ?da ps:isDynamicAttribute pci:InfieldLateralType.
   ?da1 ps:isDynamicAttribute pci:InfieldEmitterClassification.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:totalLengthOfLateral ?totalLengthLateral.
   ?subject pcs:emitterSpacingforCalculation ?emitterSpacing.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:objectName ?emitterType.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?symName.
   ?symName ps:isSymbolicValue ?valDripper.


   optional{
      ?da2 ps:isDynamicAttribute pci:InfieldInlineCoillength.
   ?subject ps:includesDynamicAttribute ?da2.
  ?da2 ps:usesSymbolicValue/as:attributionFactor ?coilLength.
   }
   optional{
      ?da3 ps:isDynamicAttribute pci:InfieldPipeCoillength.
   ?subject ps:includesDynamicAttribute ?da3.
  ?da3 ps:usesSymbolicValue/as:attributionFactor ?pipeCoilLength.
   }

   BIND(IF(?emitterType=&quot;In-line Drippers&quot;,CEIL(?totalLengthLateral/(?coilLength)),

            CEIL(?totalLengthLateral/?emitterSpacing)) as ?quantityEmitter)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityHeadworksValves -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityHeadworksValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityHeadworksValves) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?val.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityHeadworksValvesAssembly -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityHeadworksValvesAssembly">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityHeadworksValvesAssembly WHERE {
   ?da ps:isDynamicAttribute pci:SubmainNovalveAssembly .
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/as:attributionFactor ?valveAssembly.
   ?subject pcs:numberOfValvesPerProject ?val.
   BIND(ROUND(?val/?valveAssembly) as ?quantityHeadworksValvesAssembly)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldAdaptor -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldAdaptor">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityInfieldAdaptor) WHERE {
  ?subject as:configItemIncludedBy ?salesItem.
  ?subject pcs:totalNumberOfLateralOutlets ?lateralOutlet.
   BIND(ceil(?lateralOutlet*1.05/10)*10 as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldBarbConn -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldBarbConn">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityInfieldBarbConn) WHERE {
  ?da ps:isDynamicAttribute pci:InfieldLateralType.
  ?subject as:configItemIncludedBy ?salesItem.
  ?subject pcs:totalLengthOfLateral ?totalLateral.
  ?subject ps:includesDynamicAttribute ?da.
  ?da ps:usesSymbolicValue/ps:objectName ?emitter.
   optional{
      ?da1 ps:isDynamicAttribute pci:InfieldPipeCoillength.
   ?subject ps:includesDynamicAttribute ?da1.
  ?da1 ps:usesSymbolicValue/as:attributionFactor ?pipeCoilLength.
   }
   optional{
      ?da2 ps:isDynamicAttribute pci:InfieldInlineCoillength.
   ?subject ps:includesDynamicAttribute ?da2.
  ?da2 ps:usesSymbolicValue/as:attributionFactor ?inlineCoilLength.
   }
   BIND(IF(?emitter=&quot;In-line Drippers&quot;,?inlineCoilLength,?pipeCoilLength) as ?coilLength)
   BIND(CEIL(?totalLateral/?coilLength)+xsd:decimal(200) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldEndLine -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldEndLine">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityInfieldEndLine) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainTypeDripsystem.
   ?da1 ps:isDynamicAttribute pci:InfieldEmitterClassification.
   ?salesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Submain.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.
   ?otherConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?drip.

   ?subject pcs:totalNumberOfLateralOutlets ?lateralOutlet.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?symName.
   ?symName ps:isSymbolicValue ?valDripper.

   BIND(IF(?drip=3 || ?valDripper=&quot;Streamline&quot; || ?valDripper=&quot;Python&quot; || ?valDripper=&quot;Ozline&quot;,xsd:decimal(-1),ceil(?lateralOutlet*1.05/10)*10 ) as ?val)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldHeadWorksValves -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldHeadWorksValves">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityInfieldHeadWorksValves WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?quantityInfieldHeadWorksValves
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldPeTube -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldPeTube">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityInfieldPeTube WHERE {

   ?da ps:isDynamicAttribute pci:SubmainTypeDripsystem.
   ?da1 ps:isDynamicAttribute pci:SubmainType.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.

   ?submainConfig ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?symdrip.

   ?submainConfig ps:includesDynamicAttribute ?da1 .
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue ?symtype.

   BIND(IF(?symtype=pci:FlexnetHp || ?symdrip=pci:Flexnet,xsd:decimal(0),
         IF(?symdrip=pci:SubmainAboveSurface,xsd:decimal(1.2),xsd:decimal(0.6))) as ?riserLength)


   ?subject pcs:totalNumberOfLateralOutlets ?lateralOutlet.
   BIND(ceil(?lateralOutlet * ?riserLength/200) as ?quantityInfieldPeTube)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldPipeClass -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldPipeClass">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityInfieldPipeClass WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   optional{
      ?da3 ps:isDynamicAttribute pci:InfieldPipeCoillength.
   ?subject ps:includesDynamicAttribute ?da3.
  ?da3 ps:usesSymbolicValue/as:attributionFactor ?pipeCoilLength.
   }
   ?subject pcs:totalLengthOfLateral ?totalLengthLateral.
   BIND(?totalLengthLateral/?pipeCoilLength as ?quantityInfieldPipeClass)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityInfieldStartConnector -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityInfieldStartConnector">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityInfieldStartConnector) WHERE {
  ?subject as:configItemIncludedBy ?salesItem.
  ?subject pcs:totalNumberOfLateralOutlets ?lateralOutlet.
   BIND(ceil(?lateralOutlet*1.05/10)*10 as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityManifoldAdaptor -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityManifoldAdaptor">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityManifoldAdaptor
WHERE {
   ?salesItem as:isProduct pci:Manifold.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:quantityInfieldAdaptor ?quantityManifoldAdaptor.
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityManifoldBarbConn -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityManifoldBarbConn">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityManifoldBarbConn
WHERE {
   ?salesItem as:isProduct pci:Manifold.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:quantityInfieldBarbConn ?quantityManifoldBarbConn.
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityManifoldEndLine -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityManifoldEndLine">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityManifoldEndLine
WHERE {
   ?salesItem as:isProduct pci:Manifold.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:quantityInfieldEndLine ?quantityManifoldEndLine.
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityManifoldPeTube -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityManifoldPeTube">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityManifoldPeTube
WHERE {
   ?salesItem as:isProduct pci:Manifold.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:quantityInfieldPeTube ?quantityManifoldPeTube.
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityManifoldStartConnector -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityManifoldStartConnector">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantityManifoldStartConnector
WHERE {
   ?salesItem as:isProduct pci:Manifold.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:quantityInfieldStartConnector ?quantityManifoldStartConnector.
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Manifold-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityMisc -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityMisc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?qty as ?quantityMisc) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:quantityEmitter ?qty.
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityPerEmitter -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityPerEmitter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Quantity per Emitter O18</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?quantityPerEmitter)  WHERE {
   ?da ps:isDynamicAttribute pci:InfieldMisc.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?misc.
   BIND(IF(?misc=4,1,
         IF(?misc=3,1,
            IF(?misc=2,2,4))) as ?val)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantityPrv -->

    <owl:DatatypeProperty rdf:about="&pcs;quantityPrv">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (sum(?prv) as ?quantityPrv)
WHERE{
   ?salesItem as:isProduct pci:MainLine.
   ?mainLineDimensionSi as:isProduct pci:MainlineDimensioning.
   OPTIONAL {?mainLineSection as:isProduct pci:MainlineSectionConcentrated.}
   OPTIONAL {?mainLineSection as:isProduct pci:pci:MainlineSectionScattered.}

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mainLineDimensionSi.
   ?mainLineDimensionSi as:includesSalesItem ?mainLineSection.
   ?mainLineSection as:includesConfigItem ?config.
   ?config pcs:mainlinePRV ?prv.
}group by ?subject
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&pcs;GroupMainLinePipe"/>
        <rdfs:domain rdf:resource="&pcs;MainLine-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLength1 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLength1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLength1 WHERE {
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?Valves.
   ?subject pcs:submainDmmLength1 ?autolength.
   ?subject pcs:submainManualDmm1 ?manualLength.
   ?subject pcs:submainRodDiameter1 ?rod.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   BIND(CEIL(?Valves*IF(?manual=pci:SubmainManual,?manualLength,?autolength)/?rod) as ?quantitySubmainLength1)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLength2 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLength2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLength2 WHERE {
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?Valves.
   ?subject pcs:submainDmmLength2 ?autolength.
   ?subject pcs:submainManualDmm2 ?manualLength.
   ?subject pcs:submainRodDiameter2 ?rod .
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   BIND(CEIL(?Valves*IF(?manual=pci:SubmainManual,?manualLength,?autolength)/?rod) as ?quantitySubmainLength2)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLength3 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLength3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLength3 WHERE {
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?Valves.
   ?subject pcs:submainDmmLength3 ?autolength.
   ?subject pcs:submainManualDmm3 ?manualLength.
   ?subject pcs:submainRodDiameter3 ?rod .
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   BIND(CEIL(?Valves*IF(?manual=pci:SubmainManual,?manualLength,?autolength)/?rod) as ?quantitySubmainLength3)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLengthMeter1 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLengthMeter1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLengthMeter1
WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?material.



   ?subject pcs:quantitySubmainLength1 ?length.
   ?subject pcs:submainRodDiameter1 ?rod.

   BIND(IF(?material=pci:Pvc,?length*?rod,?length*?rod/?rod) AS ?quantitySubmainLengthMeter1)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLengthMeter2 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLengthMeter2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLengthMeter2
WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?material.

   ?subject pcs:quantitySubmainLength2 ?length.
   ?subject pcs:submainRodDiameter2 ?rod.

   BIND(IF(?material=pci:Pvc,?length*?rod,?length*?rod/?rod) AS ?quantitySubmainLengthMeter2)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#quantitySubmainLengthMeter3 -->

    <owl:DatatypeProperty rdf:about="&pcs;quantitySubmainLengthMeter3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?quantitySubmainLengthMeter3
WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?material.

   ?subject pcs:quantitySubmainLength3 ?length.
   ?subject pcs:submainRodDiameter3 ?rod.

   BIND(IF(?material=pci:Pvc,?length*?rod,?length*?rod/?rod) AS ?quantitySubmainLengthMeter3)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#ramMinPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;ramMinPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#realFV -->

    <owl:DatatypeProperty rdf:about="&pcs;realFV">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">#1-(1-(B57/C28))^C31
SELECT  ?subject ?realFV  WHERE {

   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:calculatedHL ?calHL.
   ?subject pcs:calculatedBlockValvePressure ?calPressure.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valueX.
   ?valueX as:attributionFactor ?factorX.

   BIND(xsd:decimal(1-(?calHL/?calPressure)) AS ?interim)

   BIND( IF(?interim &lt; 0, xsd:decimal(0),
        xsd:decimal(1-ps:pow(?interim,?factorX))) AS ?realFV )
}</ps:sparql>
        <as:precision rdf:datatype="&xsd;int">5</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">53</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportApplicationRate -->

    <owl:DatatypeProperty rdf:about="&pcs;reportApplicationRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Application rate (mm/hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportApplicationRate) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:applicationRate ?val2.
   BIND(ROUND(?val2 * 100)/100 as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportBlockValveOperatingPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;reportBlockValveOperatingPressure">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Block valve operating pressure (m)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportBlockValveOperatingPressure) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:calculatedBlockValvePressure ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportCountry -->

    <owl:DatatypeProperty rdf:about="&pcs;reportCountry">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Country</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportCountry) WHERE {
   ?da ps:isDynamicAttribute pci:InputCountry.
   ?subject rdf:type as:Quote.
   ?subject as:includesSalesItem ?sal.
   ?sal as:includesConfigItem ?subject1.
   ?subject1 as:configItemIncludedBy ?salesItem.
   ?subject1 ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportCropDetail -->

    <owl:DatatypeProperty rdf:about="&pcs;reportCropDetail">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Country</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">
  SELECT ?subject ?reportCropDetail WHERE {
   ?da ps:isDynamicAttribute pci:InputCropname.
   ?subject rdf:type as:Quote.
   ?subject as:includesSalesItem ?sal.
   ?sal as:includesConfigItem ?subject1.
   ?subject1 as:configItemIncludedBy ?salesItem.
   ?subject1 ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/rdfs:comment ?reportCropDetail.
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportCropName -->

    <owl:DatatypeProperty rdf:about="&pcs;reportCropName">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Country</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">
  SELECT ?subject ?reportCropName WHERE {
   ?da ps:isDynamicAttribute pci:InputCropname.
   ?subject rdf:type as:Quote.
   ?subject as:includesSalesItem ?sal.
   ?sal as:includesConfigItem ?subject1.
   ?subject1 as:configItemIncludedBy ?salesItem.
   ?subject1 ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/rdfs:label ?reportCropName.

}</ps:sparql>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportDiameterClass -->

    <owl:DatatypeProperty rdf:about="&pcs;reportDiameterClass">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Lateral Diameter &amp; Class:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?reportDiameterClass WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InfieldLateralClass.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/rdfs:label ?label.
   BIND(xsd:string(?label) as ?reportDiameterClass)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportDurationofOneShiftPerDay -->

    <owl:DatatypeProperty rdf:about="&pcs;reportDurationofOneShiftPerDay">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Duration of one shift, per day (hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportDurationofOneShiftPerDay) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:durationOfShift ?val2.
   BIND(ROUND(?val2 * 10)/10 as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportEmitterAverageFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;reportEmitterAverageFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Emitter average flow rate (I/hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?reportEmitterAverageFlowRate WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:avgFlow ?avgFlow.

   optional {
      ?subject as:configItemIncludedBy ?salesItem.
      ?salesItem as:includesSalesItem ?infiedSi.
      ?infiedSi as:includesConfigItem ?infieldConfig.
      ?infieldConfig pcs:actualRealAverageEmitterFlow ?actualFlow.
   }

   BIND(IF(BOUND(?actualFlow) &amp;&amp; ?actualFlow != &quot;-&quot;,ROUND(?actualFlow),ROUND(?avgFlow))
      AS ?reportEmitterAverageFlowRate)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportEmitterName -->

    <owl:DatatypeProperty rdf:about="&pcs;reportEmitterName">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Emitter/Lateral Name:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?reportEmitterName WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InfieldEmitterClassification.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/rdfs:label ?label.
   BIND(xsd:string(?label) as ?reportEmitterName)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportEmitterNominalFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;reportEmitterNominalFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Emitter Nominal flow rate (I/hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?flow as ?reportEmitterNominalFlowRate) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InfieldEmitterNominalFlowRate.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?flow2.
   BIND(ROUND(?flow2 * 100)/100 as ?flow)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportEmitterSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;reportEmitterSpacing">
        <rdfs:label xml:lang="en">Emitter spacing (m)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportEmitterSpacing) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:emitterSpacingforCalculation ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportEmitterType -->

    <owl:DatatypeProperty rdf:about="&pcs;reportEmitterType">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Emitter type</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportEmitterType) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InfieldLateralType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/rdfs:label ?label.
   BIND(xsd:string(?label) as ?val)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportFarm -->

    <owl:DatatypeProperty rdf:about="&pcs;reportFarm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Country</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportFarm) WHERE {
   ?da ps:isDynamicAttribute pci:InputFarmlocation.
   ?subject rdf:type as:Quote.
   ?subject as:includesSalesItem ?sal.
   ?sal as:includesConfigItem ?subject1.
   ?subject1 as:configItemIncludedBy ?salesItem.
   ?subject1 ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportFlowVariationAtBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;reportFlowVariationAtBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Estimated flow variation at block (%)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportFlowVariationAtBlock) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?submainSi as:isProduct pci:Submain.
   ?da ps:isDynamicAttribute pci:InfieldLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?PcNpc.
   ?infieldConfig pcs:actualRealFlowVariationDecimal ?actualFV.
   ?salesItem as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:submainFVDecimal ?submainFV


   BIND(IF(?PcNpc=pci:Pc,0,?submainFV+?actualFV) AS ?val)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportLateralAverageSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;reportLateralAverageSpacing">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Lateral average spacing (m)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportLateralAverageSpacing) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:averageLateralSpacing ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportMaxDailyIrrigationTime -->

    <owl:DatatypeProperty rdf:about="&pcs;reportMaxDailyIrrigationTime">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total actual max daily irrigation time (hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportMaxDailyIrrigationTime) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:dailyIrrigationTime ?val2.
   BIND(ROUND(?val2 * 10)/10 as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportMaxShiftFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;reportMaxShiftFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Estimated max shift flow rate (m3/hr)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportMaxShiftFlowRate) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:maxShiftFlowRate ?val
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportNetArea -->

    <owl:DatatypeProperty rdf:about="&pcs;reportNetArea">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Net area (ha)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?reportNetArea WHERE {

   ?subject pcs:actualNetArea   ?reportNetArea.

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportNumberOfIrrigationDayPerWeek -->

    <owl:DatatypeProperty rdf:about="&pcs;reportNumberOfIrrigationDayPerWeek">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of irrigation days per week</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportNumberOfIrrigationDayPerWeek) WHERE {
   ?da ps:isDynamicAttribute pci:InputMaxIrrigationdays.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?val

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportNumberOfShift -->

    <owl:DatatypeProperty rdf:about="&pcs;reportNumberOfShift">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Number of shifts</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportNumberOfShift) WHERE {
   ?salesItem as:isProduct pci:OpenFieldProject.
   ?infiedSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?infiedSi.
   ?infiedSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:numberOfShift ?val
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportPlantSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;reportPlantSpacing">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Plant Spacing</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportPlantSpacing) WHERE {
   ?da ps:isDynamicAttribute pci:InputPlantspacing.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?val

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#reportRowBedSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;reportRowBedSpacing">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Row/bed spacing (m)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?reportRowBedSpacing) WHERE {
   ?da ps:isDynamicAttribute pci:InputRowbedspacing.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:dynamicDataAttributeValue ?val

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Input-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#scatteredOneSideValvesCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;scatteredOneSideValvesCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select  ?subject ?scatteredOneSideValvesCalculation where {
   ?salesItem as:isProduct pci:Submain.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.

   ?infieldConfig pcs:maxShiftFlowRate ?maxShiftFlowRate.

   ?subject pcs:numberOfCell ?cell.
   ?subject pcs:numberOfValvesPerShift ?numberOfValves.
   ?subject pcs:hwMaxFlow ?maxFlow.

   BIND(IF(?maxShiftFlowRate/?maxFlow&lt;= ?cell, ?cell, ?cell* CEIL(?maxShiftFlowRate/?maxFlow/?cell)) as ?scatteredOneSideValvesCalculation)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#scatteredTwoSideValvesCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;scatteredTwoSideValvesCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select  ?subject ?scatteredTwoSideValvesCalculation where {
   ?salesItem as:isProduct pci:Submain.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.

   ?infieldConfig pcs:maxShiftFlowRate ?maxShiftFlowRate.

   ?subject pcs:numberOfCell ?cell.
   ?subject pcs:numberOfValvesPerShift ?numberOfValves.
   ?subject pcs:hwMaxFlow ?maxFlow.

   BIND(IF(?maxShiftFlowRate/?maxFlow&lt;= ?cell*2, ?cell*2, ?cell* 2*CEIL(?maxShiftFlowRate/?maxFlow/(?cell*2))) as ?scatteredTwoSideValvesCalculation)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterLocation1 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterLocation1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterLocation1 WHERE {

   ?subject pcs:filterMaxShiftFlowRate ?secFilterLocation1.

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterLocation2 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterLocation2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterLocation2 WHERE {
   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?infieldSi as:isProduct pci:Infield.
   ?da ps:isDynamicAttribute pci:InputShiftsBlock.


   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:NumberOfCellInfield ?cell.

   ?mainSi as:includesConfigItem ?mainConfig.
   ?mainConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?sym.


   ?subject pcs:secFilterMainlineFirstQ ?firstQ.
   ?subject pcs:filterMaxShiftFlowRate ?mxShiftFlow.

   BIND(IF(?sym=pci:Scattered, CEIL(?mxShiftFlow/?cell),?firstQ) as ?secFilterLocation2)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterLocation3 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterLocation3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterLocation3 WHERE {

   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?submainSi as:isProduct pci:Submain.
   ?da ps:isDynamicAttribute pci:SubmainNovalveAssembly.

   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?submainSi.
   ?submainSi as:includesConfigItem ?submainConfig.
   ?submainConfig pcs:actualAverageFlowAtBiggestShift ?flow.

   ?submainConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?valvesAssembly.

   BIND(IF(?valvesAssembly=1,?flow,?flow*2) as ?secFilterLocation3)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterMainlineFirstQ -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterMainlineFirstQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterMainlineFirstQ WHERE {
   ?si as:isProduct pci:Filtration.
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?mainlineSi as:isProduct pci:MainLine.


   ?subject as:configItemIncludedBy ?si.
   ?si as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?mainlineSi.
   ?mainlineSi as:includesConfigItem ?mainlineConfig.
   ?mainlineConfig pcs:hydfirstQ ?secFilterMainlineFirstQ.

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterQty1 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterQty1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterQty1 WHERE {
  ?subject ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?btyQty.
   ?da ps:isDynamicAttribute pci:FtSecDescription1.
   ?da1 ps:isDynamicAttribute pci:FtSecQty1.
   ?da1 ps:dynamicDataAttributeValue ?userQty.
   BIND(?userQty*?btyQty as ?secFilterQty1)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterQty2 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterQty2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterQty2 WHERE {
  ?subject ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?btyQty.
   ?da ps:isDynamicAttribute pci:FtSecDescription2.
   ?da1 ps:isDynamicAttribute pci:FtSecQty2.
   ?da1 ps:dynamicDataAttributeValue ?userQty.
   BIND(?userQty*?btyQty as ?secFilterQty2)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFilterQty3 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFilterQty3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?secFilterQty3 WHERE {
  ?subject ps:includesDynamicAttribute ?da,?da1.
   ?da ps:usesSymbolicValue/as:attributionFactor ?btyQty.
   ?da ps:isDynamicAttribute pci:FtSecDescription3.
   ?da1 ps:isDynamicAttribute pci:FtSecQty3.
   ?da1 ps:dynamicDataAttributeValue ?userQty.
   BIND(?userQty*?btyQty as ?secFilterQty3)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFiltrationQuantity1 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFiltrationQuantity1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFiltrationQuantity2 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFiltrationQuantity2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#secFiltrationQuantity3 -->

    <owl:DatatypeProperty rdf:about="&pcs;secFiltrationQuantity3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="&pcs;Filtration-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionDec -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionDec">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Dec</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionDec  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineT ?e3.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   } UNION {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }
   BIND(ps:dec(?k6,?e3,?e22) as ?sectionDec)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionDecidedDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionDecidedDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">DecidedDmm</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionDecidedDmm  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:sectionDec ?dec.
   ?subject pcs:sectionDvel ?dvel.
   ?subject pcs:sectionDhlinex ?dhlinex.

   BIND(ps:decided_dmm(?dec, ?dvel, ?dhlinex) as ?sectionDecidedDmm)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionDhlinex -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionDhlinex">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Dhlinex:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionDhlinex  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineJreq ?e26.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   } UNION {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }

   BIND(ps:dhlinex(?k6, ?e22, ?e26) as ?sectionDhlinex)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionDvel -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionDvel">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Dvel:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?sectionDvel  WHERE {
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/as:attributionFactor ?e22.
   {
   ?subject pcs:hydrantScatteredQ ?k6.
   }UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   } UNION {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }
   BIND(ps:dvel(?k6,?e22) as ?sectionDvel)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionIndex -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionIndex">
        <rdfs:label xml:lang="en">Index of pipeline section</rdfs:label>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionInnerDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionInnerDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">InnerDmm:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (MIN(?possibleDiameter) AS ?sectionInnerDmm)
WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?diameterAttribute ps:isDynamicAttribute pci:MainlineInternalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .

   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?subject pcs:sectionDecidedDmm ?leastDiameter .
   ?mainLine as:includesSalesItem/as:includesSalesItem/as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material, ?diameter .
   FILTER EXISTS{
      ?diameter ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   }
   ?diameter as:attributionFactor ?possibleDiameter .

   FILTER(?leastDiameter &lt;= ?possibleDiameter)
} GROUP BY ?subject
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionLong -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">9</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionLong WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineHydrantLongPart ?e40.
   ?mainLineConfig pcs:mainLineLongUpHill ?e46.

   ?subject pcs:sectionIndex ?k5.
   ?subject pcs:sectionRealDmm ?k13.
   BIND(IF(
         EXISTS {
            {
               ?salesItem as:isProduct pci:HydrantSectionConcentrated}
            UNION {
               ?salesItem as:isProduct pci:HydrantSectionScattered}
         },?e40,?e46) as ?checker)
   BIND(IF(?checker&gt;=?k5,?k13,0) as ?sectionLong)
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionRealDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionRealDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">RealDmm:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionRealDmm WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?diameterAttribute ps:isDynamicAttribute pci:MainlineInternalDiameter .
   ?nominalAttribute ps:isDynamicAttribute pci:MainlineNominalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .

   ?subject pcs:sectionInnerDmm ?innerDiameter .
   ?mainLine as:includesSalesItem/as:includesSalesItem/as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material, ?diameterValue, ?nominalValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   }

   ?diameterValue as:attributionFactor ?innerDiameter .
   ?nominalValue as:attributionFactor ?sectionRealDmm .
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionRodLength -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionRodLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Rod Length:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionRodLength WHERE {
   ?mainLine as:isProduct pci:MainLine .

   ?classAttribute ps:isDynamicAttribute pci:MainlineClass .
   ?materialAttribute ps:isDynamicAttribute pci:MainlineType .
   ?rodAttribute ps:isDynamicAttribute pci:MainlineRodroll .
   ?nominalAttribute ps:isDynamicAttribute pci:MainlineNominalDiameter .

   ?mainLine as:includesConfigItem ?mainLineConfig .
   ?mainLineConfig ps:includesDynamicAttribute ?materialAttribute, ?classAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?classAttribute ps:usesSymbolicValue ?classValue .
   ?classValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .

   ?subject pcs:sectionRealDmm ?realDiameter .
   ?mainLine as:includesSalesItem/as:includesSalesItem/as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material,  ?nominalValue, ?rodValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?rodValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?rodAttribute .
   }


   ?nominalValue as:attributionFactor ?realDiameter .
   ?rodValue as:attributionFactor ?sectionRodLength .

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionShort -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Short:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionShort WHERE {
   ?mainLineSi as:isProduct pci:MainLine.

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainLineDimensionSi.
   ?mainLineDimensionSi as:salesItemIncludedBy ?mainLineSi.
   ?mainLineSi as:includesConfigItem ?mainLineConfig.
   ?mainLineConfig pcs:mainLineHydrantShortPart ?d40.
   ?mainLineConfig pcs:mainLineShortDownHill ?d46.

   ?subject pcs:sectionIndex ?k5.
   ?subject pcs:sectionRealDmm ?k13.
   BIND(IF(
         EXISTS {
            {
               ?salesItem as:isProduct pci:HydrantSectionConcentrated}
            UNION {
               ?salesItem as:isProduct pci:HydrantSectionScattered}
         },?d40,?d46) as ?checker)
   BIND(IF(?checker&gt;=?k5,?k13,xsd:decimal(0)) as ?sectionShort)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionVelCheck -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionVelCheck">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">VelCheck:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionVelCheck  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:sectionInnerDmm ?inner.
     {
      ?subject pcs:hydrantScatteredQ ?k6.
   } UNION {
      ?subject pcs:hydrantConcentratedQ ?k6.
   } UNION {
      ?subject pcs:mainlineScatteredQ ?k6.
   } UNION {
      ?subject pcs:mainlineConcentratedQ ?k6.
   }
   BIND(ps:vel_check(?k6,?inner) as ?sectionVelCheck)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionVirtualHeadlossLong -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionVirtualHeadlossLong">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Virtual Headloss long:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">11</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionVirtualHeadlossLong WHERE {
  {
      ?subject pcs:hydrantVirtualHeadlossLong ?sectionVirtualHeadlossLong.
   } UNION {
      ?subject pcs:mainlineVirtualHeadlossLong ?sectionVirtualHeadlossLong.
   }
} </ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sectionVirtualHeadlossShort -->

    <owl:DatatypeProperty rdf:about="&pcs;sectionVirtualHeadlossShort">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Virtual Headloss Short</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">16</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sectionVirtualHeadlossShort WHERE {
  {
      ?subject pcs:hydrantVirtualHeadlossShort ?sectionVirtualHeadlossShort.
   } UNION {
      ?subject pcs:mainlineVirtualHeadlossShort ?sectionVirtualHeadlossShort.
   }
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Section-KB"/>
        <ps:group rdf:resource="&pcs;SectionGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sizeOfAverageBlock -->

    <owl:DatatypeProperty rdf:about="&pcs;sizeOfAverageBlock">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Size of avarege block (ha):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">135</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">34</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?sizeOfAverageBlock  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfValvesPerProject ?numberOfValvesPerProject.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:actualNetArea  ?netArea .
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Submain.
   BIND( xsd:decimal(?netArea/?numberOfValvesPerProject) AS ?sizeOfAverageBlock )
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sizeOfFlushingValve -->

    <owl:DatatypeProperty rdf:about="&pcs;sizeOfFlushingValve">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Size of flushing valves:</rdfs:label>
        <as:precision rdf:datatype="&xsd;int">1</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">35</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?sizeOfFlushingValve)  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:flushingManifoldDiameter ?dia.
   BIND(IF(?dia=32,
         xsd:string(1),
         IF(?dia=63,
            xsd:string(2),
            xsd:string(1.5)))as ?temp)
 BIND(concat(?temp,&apos; &quot; &apos;)as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sizeOfFlushingValveCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;sizeOfFlushingValveCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Size of flushing valves:</rdfs:label>
        <as:precision rdf:datatype="&xsd;int">1</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">35</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?sizeOfFlushingValveCalculation)  WHERE {
   ?subject pcs:flushingManifoldDiameter ?dia.
   BIND(IF(?dia=32,
         xsd:string(1),
         IF(?dia=63,
            xsd:string(2),
            xsd:string(1.5)))as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sizeOfVacuumValve -->

    <owl:DatatypeProperty rdf:about="&pcs;sizeOfVacuumValve">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Size of vacuum valves:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">36</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?sizeOfVacuumValve) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:flushingManifoldDiameter ?dia.
   BIND(IF(?dia=63,xsd:string(2),xsd:string(1))as ?temp)
   BIND(concat(?temp,&apos; &quot; &apos;)as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#sizeOfVacuumValveCalculation -->

    <owl:DatatypeProperty rdf:about="&pcs;sizeOfVacuumValveCalculation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Size of vacuum valves:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">36</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?sizeOfVacuumValveCalculation) WHERE {
   #?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:flushingManifoldDiameter ?dia.
   BIND(IF(?dia=63,xsd:string(2),xsd:string(1))as ?val)
   #BIND(concat(?temp,&apos; &quot; &apos;)as ?val)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainAutomatedMaxDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;submainAutomatedMaxDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Max Automated Dmm:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?dmm as ?submainAutomatedMaxDmm) WHERE {

      ?subject as:configItemIncludedBy ?salesItem.
{
      ?subject pcs:submainDmm1 ?dmm.
   }union{
      ?subject pcs:submainDmm2 ?dmm.
   }
   union{
      ?subject pcs:submainDmm3 ?dmm.
   }
}ORDERBY DESC(?dmm) LIMIT 1</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainAverageLateralSpacing -->

    <owl:DatatypeProperty rdf:about="&pcs;submainAverageLateralSpacing">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainAverageLateralSpacing WHERE {
   ?salesItem as:isProduct pci:Submain .
   ?mainSi as:isProduct pci:OpenFieldProject .
   ?otherSi as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?otherSi.
   ?otherSi as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:averageLateralSpacing ?submainAverageLateralSpacing
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainCalcFn -->

    <owl:DatatypeProperty rdf:about="&pcs;submainCalcFn">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <as:precision rdf:datatype="&xsd;int">5</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">50</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainCalcFn)  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLine.

   BIND(1/(1.81+1)+1/(2*?endLine)+(ps:pow((1.81-1),(1/2)))/(6*(?endLine*?endLine)) as ?val)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainCalcInnerDiam -->

    <owl:DatatypeProperty rdf:about="&pcs;submainCalcInnerDiam">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <as:precision rdf:datatype="&xsd;int">5</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">51</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainCalcInnerDiam) WHERE {

   ?da ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks.
   ?da1 ps:isDynamicAttribute pci:SubmainLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:actualAverageFlowAtBiggestShift ?G34.
   ?subject pcs:averageLengthOfSubmainPerBlock ?G42.
   ?subject pcs:submainCalcFn ?fn.
   optional{
   ?subject pcs:submainCalcNPCHL ?NPCHL.
   }

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valveLoc.
   ?valveLoc as:attributionFactor ?valveFactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?lateral.
   ?lateral ps:objectName ?obj.

   ai:SubmainMasterData pcs:submainDiameterCoeff ?diameterCoeff.
   ai:SubmainMasterData pcs:submainHLCoeff ?hlCoeff.
   ai:SubmainMasterData pcs:submainFlowCoeff ?flowCoeff.
   BIND(if(?obj=&quot;submain_NPC&quot;,?NPCHL,3) as ?submainHL).
   BIND(IF(?valveFactor=1,?G34/2,?G34) as ?G34cal).
   BIND(IF(?valveFactor=1,?G42/2,?G42) as ?G42cal).

   BIND(ps:pow((?hlCoeff*ps:pow(?G34cal,?flowCoeff)*?G42cal*?fn/?submainHL),(1/?diameterCoeff)) as ?val)



}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainCalcNPCHL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainCalcNPCHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <as:precision rdf:datatype="&xsd;int">3</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">52</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainCalcNPCHL) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainFlowChange.
   ?da1 ps:isDynamicAttribute pci:InfieldFlowConstantx.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:calculatedBlockValvePressure ?pressure.
   ?otherConfigItem ps:includesDynamicAttribute ?da1.  
   ?da1 ps:usesSymbolicValue ?x.
   ?x as:attributionFactor ?xfactor.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?flow.
   ?flow as:attributionFactor ?flowFactor.

   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   BIND(IF(?xfactor=0,0,(1-ps:pow((1-?flowFactor),(1/?xfactor)))*?pressure) as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainCalcOuterDiam -->

    <owl:DatatypeProperty rdf:about="&pcs;submainCalcOuterDiam">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">53</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainCalcOuterDiam) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCalcInnerDiam ?innerDiam.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

   ai:SubmainMasterData pcs:submainClassPE ?classPE.
   ai:SubmainMasterData pcs:submainClassPVC ?classPVC.
   ai:SubmainMasterData pcs:submainHdsPE ?hdsPE.
   ai:SubmainMasterData pcs:submainHdsPVC ?hdsPVC.
   BIND(
      IF(?typeFactor=1, (?innerDiam/(1-2/(2*?hdsPVC/?classPVC+1))),
         IF(?typeFactor=2,?innerDiam/(1-2/(2*?hdsPE/?classPE+1)),
            0)
      )
      as ?val)


}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainClassPE -->

    <owl:DatatypeProperty rdf:about="&pcs;submainClassPE">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainClassPVC -->

    <owl:DatatypeProperty rdf:about="&pcs;submainClassPVC">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainCountDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;submainCountDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Count Dmm:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject (?val as ?submainCountDmm)
WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainDmm1 ?dmmCal1.
   ?subject pcs:submainDmm2 ?dmmCal2.
   ?subject pcs:submainDmm3 ?dmmCal3.
   BIND(IF(?dmmCal1=0,0,
         IF(?dmmCal2=0,1,
            IF(?dmmCal3=0,2,3))) as ?count)
   ?da ps:isDynamicAttribute pci:SubmainInsertManually;
         ps:usesSymbolicValue/ps:isSymbolicValue ?manual;
         ^ps:includesDynamicAttribute ?subject.
   optional{
      ?da1 ps:isDynamicAttribute pci:SubmainDiameter1;
         ps:usesSymbolicValue/as:attributionFactor ?dmm1;
         ^ps:includesDynamicAttribute ?subject.
   }
   optional{
      ?da2 ps:isDynamicAttribute pci:SubmainDiameter2;
         ps:usesSymbolicValue/as:attributionFactor ?dmm2;
         ^ps:includesDynamicAttribute ?subject.
   }
   optional{
      ?da3 ps:isDynamicAttribute pci:SubmainDiameter3;
         ps:usesSymbolicValue/as:attributionFactor ?dmm3;
         ^ps:includesDynamicAttribute ?subject.
   }
   BIND(IF(BOUND(?dmm1) &amp;&amp; BOUND(?dmm2) &amp;&amp; BOUND(?dmm3),3,
         IF(BOUND(?dmm1) &amp;&amp; BOUND(?dmm2),2,
            IF(BOUND(?dmm1) &amp;&amp; BOUND(?dmm3),2,
               IF(BOUND(?dmm2) &amp;&amp; BOUND(?dmm3),2,
                  IF(!BOUND(?dmm1) &amp;&amp; !BOUND(?dmm2) &amp;&amp; !BOUND(?dmm3),0,1))))) as ?countDA)

   BIND(IF(?manual=pci:SubmainManual,?countDA,?count) as ?val)

}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainD -->

    <owl:DatatypeProperty rdf:about="&pcs;submainD">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">D:</rdfs:label>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDP -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDP">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">DP:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDP) WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfig.
   ?otherConfig pcs:calculatedBlockValvePressure ?pressure.
   ?subject pcs:submainHL ?hl.
   BIND(?hl/(?hl+?pressure) as ?val)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDPCoeff -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDPCoeff">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">DPCoeff
</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject (?val as ?submainDPCoeff) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainDP ?DP.
   ?subject pcs:submainCountDmm ?count.
   BIND(IF(?count=3,2.1*?DP,
         IF(?count=2,1.7*?DP,
         ?DP)) as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDQ -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">dQ:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDQ) WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldFlowConstantx;
      ps:usesSymbolicValue/as:attributionFactor ?x;
         ^ps:includesDynamicAttribute ?otherConfigItem.
   ?subject pcs:submainDPCoeff ?dpCoeff.
   BIND((1-ps:pow((1-?dpCoeff),?x)) as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDQPercentage -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDQPercentage">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDQPercentage) WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainDQ ?submainDq.
   BIND(?submainDq*100 as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDiameter1ForRod -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDiameter1ForRod">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainDiameter1ForRod WHERE {
   ?subject  ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.

   optional
   {
      ?subject pcs:submainDmm1 ?dmm1.
   }

   optional
   {
      ?da1 ps:isDynamicAttribute pci:SubmainDiameter1.
      ?subject  ps:includesDynamicAttribute ?da1.
      ?da1 ps:usesSymbolicValue/as:attributionFactor ?manualDmm1.
   }
   BIND(IF(?manual=pci:SubmainManual,?manualDmm1,?dmm1) AS ?submainDiameter1ForRod)

}

</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDiameter2ForRod -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDiameter2ForRod">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainDiameter2ForRod WHERE {
   ?subject  ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.

   optional
   {
      ?subject pcs:submainDmm2 ?dmm2.
   }

   optional
   {
      ?da1 ps:isDynamicAttribute pci:SubmainDiameter2.
      ?subject  ps:includesDynamicAttribute ?da1.
      ?da1 ps:usesSymbolicValue/as:attributionFactor ?manualDmm2.
   }
   BIND(IF(?manual=pci:SubmainManual,?manualDmm2,?dmm2) AS ?submainDiameter2ForRod)

}

</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDiameter3ForRod -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDiameter3ForRod">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainDiameter3ForRod WHERE {
   ?subject  ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue/ps:isSymbolicValue ?manual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.

   optional
   {
      ?subject pcs:submainDmm3 ?dmm3.
   }

   optional
   {
      ?da1 ps:isDynamicAttribute pci:SubmainDiameter3.
      ?subject  ps:includesDynamicAttribute ?da1.
      ?da1 ps:usesSymbolicValue/as:attributionFactor ?manualDmm3.
   }
   BIND(IF(?manual=pci:SubmainManual,?manualDmm3,?dmm3) AS ?submainDiameter3ForRod)

}

</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDiameterCoeff -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDiameterCoeff">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmm1 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmm1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain diameters per block 1:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">17</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val1 as ?submainDmm1) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?da1 ps:isDynamicAttribute pci:SubmainLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainSubHL ?subHL.
   ?subject pcs:submainRealOut ?realOut.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainCalcNPCHL ?NpcHL.
   ?subject pcs:submainIndexMinusTwo ?minusTwo.
   ?subject pcs:submainIndexMinusOne ?minusOne.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?PCNPC.
   ?PCNPC ps:objectName ?objName.

   BIND(IF(?objName=&quot;submain_PC&quot;,3,?NpcHL) as ?submainHL)

   BIND(
      IF(?typeFactor=3, ?realOut,
         IF(?totalLength&lt;=30 || ?realOut=40, ?realOut


            ,0 )
      )as ?val)
   BIND(IF(?val=0,
         IF(?subHL&lt;?submainHL*0.75,
            IF(?totalLength&lt;=60 ||?subHL&gt;=?submainHL*0.5,?minusOne,
               IF(?realOut=50,?minusOne,?minusTwo)

            )
            ,?realOut
         ) ,?realOut)
      as ?val1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmm2 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmm2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain diameters per block 2:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">19</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val1 as ?submainDmm2) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?da1 ps:isDynamicAttribute pci:SubmainLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainSubHL ?subHL.
   ?subject pcs:submainRealOut ?realOut.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainCalcNPCHL ?NpcHL.
   ?subject pcs:submainIndexMinusTwo ?minusTwo.
   ?subject pcs:submainIndexMinusOne ?minusOne.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?PCNPC.
   ?PCNPC ps:objectName ?objName.

   BIND(IF(?objName=&quot;submain_PC&quot;,3,?NpcHL) as ?submainHL)

   BIND(
      IF(?typeFactor=3, 1,
         IF(?totalLength&lt;=30 || ?realOut=40, 1


            ,0 )
      )as ?val)
   BIND(IF(?val=0,
         IF(?subHL&lt;?submainHL*0.75,
            IF(?subHL&gt;=?submainHL*0.5,?realOut,
               IF(?totalLength&lt;60 ||?realOut=50,?realOut,?minusOne)

            )
            ,0
         ) ,0)
      as ?val1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmm3 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmm3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain diameters per block 3:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">21</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val1 as ?submainDmm3) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?da1 ps:isDynamicAttribute pci:SubmainLateralDescription.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainSubHL ?subHL.
   ?subject pcs:submainRealOut ?realOut.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainCalcNPCHL ?NpcHL.
   ?subject pcs:submainIndexMinusTwo ?minusTwo.
   ?subject pcs:submainIndexMinusOne ?minusOne.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?PCNPC.
   ?PCNPC ps:objectName ?objName.

   BIND(IF(?objName=&quot;submain_PC&quot;,3,?NpcHL) as ?submainHL)

   BIND(
      IF(?typeFactor=3, 1,
         IF(?realOut=40 || ?realOut=50, 1,0 )
      )as ?val)
   BIND(IF(?val=0,
         IF(?totalLength&gt;60 &amp;&amp; ?subHL&lt; ?submainHL*0.5,?realOut,
            0
         )
         ,0)
      as ?val1)
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmmLength1 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmmLength1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain Length per block (m) 1:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">18</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDmmLength1) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLines.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainDmm1 ?dmm1.
   ?subject pcs:submainDmm2 ?dmm2.
   ?subject pcs:submainDmm3 ?dmm3.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainLocation.
   ?submainLocation as:attributionFactor ?submainIndex.
   BIND(IF(BOUND(?dmm1) &amp;&amp; ?dmm1!=&quot;-&quot;,
      IF(?endLines=1||(?submainIndex=1 &amp;&amp; ?endLines=2 ),0,
         IF(?dmm2=0,?totalLength,
               IF(?dmm3=0,ceil(?totalLength/2),ceil(?totalLength/3)))),0) as ?val)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmmLength2 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmmLength2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain Length per block (m) 2:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">20</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDmmLength2) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLines.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainDmm1 ?dmm1.
   ?subject pcs:submainDmm2 ?dmm2.
   ?subject pcs:submainDmm3 ?dmm3.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainLocation.
   ?submainLocation as:attributionFactor ?submainIndex.
   BIND(IF(BOUND(?dmm1) &amp;&amp; ?dmm1!=&quot;-&quot;,IF(?endLines=1||(?submainIndex=1 &amp;&amp; ?endLines=2 ),0,
         IF(?dmm2=0,0,
         IF(?dmm3=0,floor(?totalLength/2),floor(?totalLength/3)))),0) as ?val)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainDmmLength3 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainDmmLength3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Automatic Submain Length per block (m) 3:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">22</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainDmmLength3) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfEndLinesPerBlock ?endLines.
   ?subject pcs:averageLengthOfSubmainPerBlock ?totalLength.
   ?subject pcs:submainDmm1 ?dmm1.
   ?subject pcs:submainDmm2 ?dmm2.
   ?subject pcs:submainDmm3 ?dmm3.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainLocation.
   ?submainLocation as:attributionFactor ?submainIndex.
   BIND(IF(BOUND(?dmm1) &amp;&amp; ?dmm1!=&quot;-&quot;,IF(?endLines=1||(?submainIndex=1 &amp;&amp; ?endLines=2 ),0,
         IF(?dmm2=0,0,
               IF(?dmm3=0,0,floor(?totalLength/3)))),0) as ?val)

}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFV -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFV">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Actual Submain HL(m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?submainFV  WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:objectName ?lateral;
         ^ps:includesDynamicAttribute ?otherConfigItem.

   ?subject pcs:submainHL ?hl.
   ?subject pcs:submainCountDmm ?count.
   BIND(IF(?count=3,1.7*?hl,
         IF(?count=2,1.3*?hl,
         ?hl)) as ?calc)



   BIND(IF(?lateral=&quot;PC&quot;,concat(xsd:string(round(?calc*100)/100),&quot; &quot;),&quot;-&quot; )as ?submainFV)



}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFVDecimal -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFVDecimal">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?temp as ?submainFVDecimal)  WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:objectName ?lateral;
         ^ps:includesDynamicAttribute ?otherConfigItem.

   ?subject pcs:submainHL ?hl.
   ?subject pcs:submainCountDmm ?count.
   BIND(IF(?count=3,1.7*?hl,
         IF(?count=2,1.3*?hl,
         ?hl)) as ?calc)

   ?subject pcs:submainDQPercentage ?dq.

   BIND(IF(?lateral=&quot;PC&quot;,round(?calc*100)/100,round(?dq*100)/100) as ?temp)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFVNpcError -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFVNpcError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?submainFVNpcError  WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:objectName ?lateral;
         ^ps:includesDynamicAttribute ?otherConfigItem.
   ?subject pcs:submainFVDecimal ?fvDecimal .


   BIND(IF(?lateral=&quot;PC&quot; &amp;&amp; ?fvDecimal&gt;8,xsd:boolean(true),
         IF(?lateral=&quot;PC&quot; &amp;&amp; ?fvDecimal&gt;5,xsd:boolean(true),xsd:boolean(false)) )as ?submainFVNpcError)


}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFVNpcErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFVNpcErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?submainFVNpcErrorText  WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:objectName ?lateral;
         ^ps:includesDynamicAttribute ?otherConfigItem.
   ?subject pcs:submainFVDecimal ?fvDecimal .


   BIND(IF(?lateral=&quot;PC&quot; &amp;&amp; ?fvDecimal&gt;8,&quot;model.submainNPCfv8&quot;,
         IF(?lateral=&quot;PC&quot; &amp;&amp; ?fvDecimal&gt;5,&quot;model.submainNPCfv5&quot;,&quot;&quot;) )as ?submainFVNpcErrorText)


}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFlowCoeff -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFlowCoeff">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFlowQ -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFlowQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainFlowQ WHERE {
   ?salesItem as:isProduct pci:Submain .
   ?otherSalesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.

   ?da ps:isDynamicAttribute pci:HeadworksBlockSize .


   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem pcs:applicationRate ?rate .

   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:dynamicDataAttributeValue ?size.

   BIND(?rate* ?size *10 as ?submainFlowQ)

}</ps:sparql>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainFvNpc -->

    <owl:DatatypeProperty rdf:about="&pcs;submainFvNpc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Actual Submain FV:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainFvNpc  WHERE {
   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?otherConfigItem.

   ?da ps:isDynamicAttribute pci:InfieldLateralDescription;
      ps:usesSymbolicValue/ps:objectName ?lateral;
         ^ps:includesDynamicAttribute ?otherConfigItem.


   ?subject pcs:submainDQPercentage ?dq.

   BIND(IF(?lateral=&quot;PC&quot;,&quot;-&quot;,concat(xsd:string(round(?dq*100)/100),&quot;%&quot;)) as ?submainFvNpc)


}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainHL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">HL:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">#=90000*(O38^1.81)*O40*&apos;Submain Pipes&apos;!C22*(O39^(-4.81))
SELECT ?subject (?val as ?submainHL) WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainQ ?Q.
   ?subject pcs:submainL ?L.
   ?subject pcs:submainMaxDmm ?D.
   ?subject pcs:submainCalcFn ?Fn.
   BIND(IF(?D=0,0,90000*ps:pow(?Q,1.81)*?L*?Fn*ps:pow(?D,(-4.81))) as ?val)

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainHLCoeff -->

    <owl:DatatypeProperty rdf:about="&pcs;submainHLCoeff">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainHdsPE -->

    <owl:DatatypeProperty rdf:about="&pcs;submainHdsPE">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainHdsPVC -->

    <owl:DatatypeProperty rdf:about="&pcs;submainHdsPVC">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainIndexMinusOne -->

    <owl:DatatypeProperty rdf:about="&pcs;submainIndexMinusOne">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">60</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainIndexMinusOne) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainRealOut ?realOut.
   BIND(
      IF(?realOut=160 , 140,
        IF(?realOut=140 , 110,
            IF(?realOut=110 , 90,
               IF(?realOut=90 , 75,
                  IF(?realOut=75 , 63,
                     IF(?realOut=63 , 50,
                        IF(?realOut=50 , 40,
                           40)
                     )
                  )
               )
            )
         )
      )
      as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainIndexMinusTwo -->

    <owl:DatatypeProperty rdf:about="&pcs;submainIndexMinusTwo">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">62</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainIndexMinusTwo) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainRealOut ?realOut.
   BIND(
      IF(?realOut=160 , 110,
        IF(?realOut=140 , 90,
            IF(?realOut=110 , 75,
               IF(?realOut=90 , 63,
                  IF(?realOut=75 , 50,
                     IF(?realOut=63 , 40,
                        IF(?realOut=50 , 40,
                           40)
                     )
                  )
               )
            )
         )
      )
      as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainInsertedMaxDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;submainInsertedMaxDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label>Max Inserted Dmm:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?dmm as ?submainInsertedMaxDmm) WHERE {

      ?subject as:configItemIncludedBy ?salesItem.
{
      ?da ps:isDynamicAttribute pci:SubmainDiameter1;
      ps:usesSymbolicValue/as:attributionFactor ?dmm;
      ^ps:includesDynamicAttribute ?subject.

   }union{
      ?da ps:isDynamicAttribute pci:SubmainDiameter2;
      ps:usesSymbolicValue/as:attributionFactor ?dmm;
      ^ps:includesDynamicAttribute ?subject.
   }
   union{
      ?da ps:isDynamicAttribute pci:SubmainDiameter3;
      ps:usesSymbolicValue/as:attributionFactor ?dmm;
      ^ps:includesDynamicAttribute ?subject.
   }
}ORDERBY DESC(?dmm) LIMIT 1</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">L:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as  ?submainL) WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
    ?da ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks;
      ps:usesSymbolicValue/as:attributionFactor ?valveLoc;
      ^ps:includesDynamicAttribute ?subject.
   ?subject pcs:averageLengthOfSubmainPerBlock ?smLength.
   BIND( IF(?valveLoc=1,(?smLength)/2,(?smLength))as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainManualDmm1 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainManualDmm1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Submain Length per Block manual 1(m) :</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">23</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (?val as ?submainManualDmm1)  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCountDmm ?count.
   ?subject pcs:averageLengthOfSubmainPerBlock ?avgLength

   optional{
   ?da ps:isDynamicAttribute pci:SubmainDiameter1;
      ps:usesSymbolicValue ?dmm;
      ^ps:includesDynamicAttribute ?subject.
   }
   BIND(IF(BOUND(?dmm),?avgLength/?count,0) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainManualDmm2 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainManualDmm2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Submain Length per Block manual 2(m) :</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">24</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (?val as ?submainManualDmm2)  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCountDmm ?count.
   ?subject pcs:averageLengthOfSubmainPerBlock ?avgLength

   optional{
   ?da ps:isDynamicAttribute pci:SubmainDiameter2;
      ps:usesSymbolicValue ?dmm;
      ^ps:includesDynamicAttribute ?subject.
   }
   BIND(IF(BOUND(?dmm),?avgLength/?count,0) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainManualDmm3 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainManualDmm3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Submain Length per Block manual 3(m) :</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">25</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject (?val as ?submainManualDmm3)  WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCountDmm ?count.
   ?subject pcs:averageLengthOfSubmainPerBlock ?avgLength

   optional{
   ?da ps:isDynamicAttribute pci:SubmainDiameter3;
      ps:usesSymbolicValue ?dmm;
      ^ps:includesDynamicAttribute ?subject.
   }
   BIND(IF(BOUND(?dmm),?avgLength/?count,0) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainMaxDmm -->

    <owl:DatatypeProperty rdf:about="&pcs;submainMaxDmm">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Max Dmm (SubmainD):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainMaxDmm) WHERE {

      ?subject as:configItemIncludedBy ?salesItem.
      ?da ps:isDynamicAttribute pci:SubmainInsertManually;
      ps:usesSymbolicValue/ps:isSymbolicValue ?manual;
      ^ps:includesDynamicAttribute ?subject.

   ?da1 ps:isDynamicAttribute pci:SubmainType;
      ps:usesSymbolicValue/as:attributionFactor ?submainType;
      ^ps:includesDynamicAttribute ?subject.

   optional {
      ?subject pcs:submainInsertedMaxDmm ?inserted
   }
    optional {
      ?subject pcs:submainAutomatedMaxDmm ?automated
   }
   BIND(IF(?manual=pci:SubmainManual,?inserted,?automated) as ?dmm)
   BIND(IF(?submainType=2,CEIL(10*?dmm*(1-2/(2*50/(4+1))))/10,
         IF(?submainType=1,CEIL(10*?dmm*(1-2/(2*125/(6+1))))/10,?dmm)) as ?val)
   }</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainNPCHL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainNPCHL">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainOutput -->

    <owl:DatatypeProperty rdf:about="&pcs;submainOutput">
        <rdfs:label xml:lang="en">Submain &amp; Infield Headworks Design Data - OUTPUT</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainPCHL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainPCHL">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainQ -->

    <owl:DatatypeProperty rdf:about="&pcs;submainQ">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Q:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainQ) WHERE {
   ?da ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?da.
   ?subject pcs:actualAverageFlowAtBiggestShift ?avgFlow.
   ?da ps:usesSymbolicValue ?valve.
   ?valve as:attributionFactor ?valeLoc.
   BIND( IF(?valeLoc=1,?avgFlow/2,?avgFlow)as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRealIn -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRealIn">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">54</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainRealIn) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainRealOut ?realOut.


   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

    BIND(
      IF(?typeFactor=1, ceil(10*?realOut*(1-2/(2*125/(6+1))))/10,
         IF(?typeFactor=2,ceil(10*?realOut*(1-2/(2*50/(4+1))))/10,0) )as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRealOut -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRealOut">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">55</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainRealOut) WHERE {
   ?da ps:isDynamicAttribute pci:SubmainType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainRealOutLayflat ?realOutLayflat.
   ?subject pcs:submainRealOutPEPVC ?realOutPePvc.

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

    BIND(
      IF(?typeFactor=3, ?realOutLayflat,?realOutPePvc) as ?val)


}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRealOutLayflat -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRealOutLayflat">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">56</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainRealOutLayflat) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCalcInnerDiam ?innerDiam.
   BIND(
      IF(?innerDiam&gt;=1 &amp;&amp; ?innerDiam&lt;51, 51,
         IF(?innerDiam&gt;=51 &amp;&amp; ?innerDiam&lt;78, 78,
            IF(?innerDiam&gt;=78 &amp;&amp; ?innerDiam&lt;102, 102,
               IF(?innerDiam&gt;=102 &amp;&amp; ?innerDiam&lt;163, 163,
                  IF(?innerDiam&gt;=163 &amp;&amp; ?innerDiam&lt;209, 209,
                     IF(?innerDiam&gt;=209 &amp;&amp; ?innerDiam&lt;260, 260,
                        0)
                  )
               )
            )
         )
      )
      as ?val)
}</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRealOutPEPVC -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRealOutPEPVC">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">57</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainRealOutPEPVC) WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:submainCalcOuterDiam ?outerDiam.
   BIND(
      IF(?outerDiam&gt;=1 &amp;&amp; ?outerDiam&lt;40, 40,
         IF(?outerDiam&gt;=40 &amp;&amp; ?outerDiam&lt;50, 50,
            IF(?outerDiam&gt;=50 &amp;&amp; ?outerDiam&lt;63, 63,
               IF(?outerDiam&gt;=63 &amp;&amp; ?outerDiam&lt;75, 75,
                  IF(?outerDiam&gt;=75 &amp;&amp; ?outerDiam&lt;90, 90,
                     IF(?outerDiam&gt;=90 &amp;&amp; ?outerDiam&lt;110, 110,
                        IF(?outerDiam&gt;=110 &amp;&amp; ?outerDiam&lt;140, 140,
                           IF(?outerDiam&gt;=140 &amp;&amp; ?outerDiam&lt;160, 160,
                              0)
                        )
                     )
                  )
               )
            )
         )
      )
      as ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRodDiameter1 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRodDiameter1">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainRodDiameter1 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing1 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?rodAttribute ps:isDynamicAttribute pci:SubmainRod1 .
   ?nominalAttribute ps:isDynamicAttribute pci:SubmainDiameter1 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute, ?spacingAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?spacingAttribute ps:usesSymbolicValue ?spacingValue .
   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .


   ?subject pcs:submainDiameter1ForRod ?dmm.

   ?submain as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material,  ?nominalValue, ?rodValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?rodValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?rodAttribute .
   }

   ?rodValue as:attributionFactor ?submainRodDiameter1 .
   ?nominalValue as:attributionFactor ?dmm.

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRodDiameter2 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRodDiameter2">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainRodDiameter2 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing2 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?rodAttribute ps:isDynamicAttribute pci:SubmainRod2 .
   ?nominalAttribute ps:isDynamicAttribute pci:SubmainDiameter2 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute, ?spacingAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?spacingAttribute ps:usesSymbolicValue ?spacingValue .
   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .


   ?subject pcs:submainDiameter2ForRod ?dmm.

   ?submain as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material,  ?nominalValue, ?rodValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?rodValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?rodAttribute .
   }

   ?rodValue as:attributionFactor ?submainRodDiameter2 .
   ?nominalValue as:attributionFactor ?dmm.

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainRodDiameter3 -->

    <owl:DatatypeProperty rdf:about="&pcs;submainRodDiameter3">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?submainRodDiameter3 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing3 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?rodAttribute ps:isDynamicAttribute pci:SubmainRod3 .
   ?nominalAttribute ps:isDynamicAttribute pci:SubmainDiameter3 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute, ?spacingAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?spacingAttribute ps:usesSymbolicValue ?spacingValue .
   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?class .


   ?subject pcs:submainDiameter3ForRod ?dmm.

   ?submain as:includesConfigItem ?subject .

   ?entry ^as:usesBOMEntry ?class, ?material,  ?nominalValue, ?rodValue .
   FILTER EXISTS {
      ?nominalValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?nominalAttribute .
      ?rodValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?rodAttribute .
   }

   ?rodValue as:attributionFactor ?submainRodDiameter3 .
   ?nominalValue as:attributionFactor ?dmm.

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainSubHL -->

    <owl:DatatypeProperty rdf:about="&pcs;submainSubHL">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sequenceID rdf:datatype="&xsd;int">58</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?submainSubHL) WHERE {
   ?da ps:isDynamicAttribute pci:HeadworksLocationValvesBlocks.
   ?da1 ps:isDynamicAttribute pci:SubmainType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:actualAverageFlowAtBiggestShift ?G34.
   ?subject pcs:averageLengthOfSubmainPerBlock ?G42.
   ?subject pcs:submainCalcFn ?fn.
   ?subject pcs:submainRealIn ?realin.
   optional{
   ?subject pcs:submainCalcNPCHL ?NPCHL.
   }

   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?valveLoc.
   ?valveLoc as:attributionFactor ?valveFactor.

   ?subject ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?submainType.
   ?submainType as:attributionFactor ?typeFactor.

   ai:SubmainMasterData pcs:submainDiameterCoeff ?diameterCoeff.
   ai:SubmainMasterData pcs:submainHLCoeff ?hlCoeff.
   ai:SubmainMasterData pcs:submainFlowCoeff ?flowCoeff.

   BIND(IF(?valveFactor=1,?G34/2,?G34) as ?G34cal).
   BIND(IF(?valveFactor=1,?G42/2,?G42) as ?G42cal).

   BIND(IF(?typeFactor=3 || ?realin=0 ,0,?hlCoeff*ps:pow(?G34cal,?flowCoeff)*?G42cal*?fn*ps:pow(?realin,(-?diameterCoeff))) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#submainValveSmallerDiameter -->

    <owl:DatatypeProperty rdf:about="&pcs;submainValveSmallerDiameter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?factor AS ?submainValveSmallerDiameter)
WHERE {

   ?salesItem as:isProduct pci:Submain.
   ?valveAttribute ps:isDynamicAttribute pci:HeadworksType .
   ?materialAttribute ps:isDynamicAttribute pci:HeadworksTypeMaterial .
   ?diameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .
   ?smallerDiameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .

   ?subject as:configItemIncludedBy ?salesItem .

   ?subject ps:includesDynamicAttribute ?materialAttribute, ?valveAttribute, ?diameterAttribute .
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?valveAttribute ps:usesSymbolicValue ?ValveValue .
   ?ValveValue ps:isSymbolicValue/^ps:isSymbolicValue ?valve .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?diameterValue ps:isSymbolicValue/ ^ps:isSymbolicValue ?diameter .
   ?diameterValue as:attributionFactor ?diameter1.

   ?entry ^as:usesBOMEntry ?valve, ?material, ?smallerdiameter  .
   FILTER EXISTS{
      ?smallerdiameter ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?smallerDiameterAttribute .
   }
   ?smallerdiameter as:attributionFactor ?factor.
   FILTER(?factor&lt; ?diameter1)
}ORDER BY DESC (?factor) LIMIT 1
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#temp -->

    <owl:DatatypeProperty rdf:about="&pcs;temp">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?temp WHERE {

   ?subject pcs:fixedQflow ?Qflow.
   ?subject pcs:emitterSpacingforCalculation ?factorEmitterspacing.
   ai:InfieldMasterData pcs:coffFlowEXP ?coffFlowEXP.

   BIND (IF(?factorEmitterspacing=0,xsd:decimal(0),xsd:decimal(ps:pow((?Qflow/?factorEmitterspacing),?coffFlowEXP))) as ?temp)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupLateraldata"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#theoFlowFactor -->

    <owl:DatatypeProperty rdf:about="&pcs;theoFlowFactor">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?theoFlowFactor
WHERE {

?salesItem as:isProduct pci:Submain.
   ?valveAttribute ps:isDynamicAttribute pci:HeadworksType .
   ?materialAttribute ps:isDynamicAttribute pci:HeadworksTypeMaterial .
   ?diameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .
   ?flowAttribute ps:isDynamicAttribute pci:HeadworksFlow .


?subject as:configItemIncludedBy ?salesItem .

   ?subject ps:includesDynamicAttribute ?materialAttribute, ?valveAttribute, ?diameterAttribute , ?flowAttribute.
   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?valveAttribute ps:usesSymbolicValue ?ValveValue .
   ?ValveValue ps:isSymbolicValue/^ps:isSymbolicValue ?valve .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .




   ?entry ^as:usesBOMEntry ?valve, ?material, ?diameter ,?flow .
   FILTER EXISTS{
      ?flow ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?flowAttribute .
   }
   ?flow as:attributionFactor ?theoFlowFactor .

}
</ps:sparql>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <ps:group rdf:resource="&pcs;SubmainCalculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#theoreticalAverageFlowRate -->

    <owl:DatatypeProperty rdf:about="&pcs;theoreticalAverageFlowRate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Theoretical average flow rate per valve (m3/hr):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">
SELECT ?subject ?theoreticalAverageFlowRate  WHERE {
   ?subject pcs:theoFlowFactor ?theoreticalAverageFlowRate .
}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">101</ps:sequenceID>
        <rdfs:comment rdf:datatype="&xsd;string">33</rdfs:comment>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfieldheadworks"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#totalEndLine -->

    <owl:DatatypeProperty rdf:about="&pcs;totalEndLine">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total number of end lines at flushing manifold per project:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">34</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?totalEndLine WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.
   ?otherSalesItem as:includesConfigItem ?infieldConfig.
   ?infieldConfig pcs:totalNumberOfLateralOutlets ?endLine.
   ?otherSalesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Submain.
   BIND( xsd:decimal(?endLine) AS ?totalEndLine )
}
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#totalLengthOfFlushingManifold -->

    <owl:DatatypeProperty rdf:about="&pcs;totalLengthOfFlushingManifold">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total estimated length of flushing manifolds per block(m):</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?totalLengthOfFlushingManifold WHERE {
   ?da ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?subject as:configItemIncludedBy ?salesItem .
   ?subject pcs:averageLengthOfSubmainPerBlock ?avgLengthSubmain .
   ?subject ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?submainblock.
   ?submainblock as:attributionFactor ?submainIndex.

   BIND(IF(?submainIndex=1, round(?avgLengthSubmain *2.2), round(?avgLengthSubmain *1.1)) as ?totalLengthOfFlushingManifold).

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#totalLengthOfLateral -->

    <owl:DatatypeProperty rdf:about="&pcs;totalLengthOfLateral">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">27a) Total length of lateral per project (m):</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">#instead of 10000 , multiply with ceiling(100)*100 to get multiply value of 100
SELECT ?subject ?totalLengthOfLateral  WHERE {

   ?salesItem as:isProduct pci:Infield.
   ?mainSalesItem as:isProduct pci:OpenFieldProject .

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:averageLateralSpacing ?lateralSpace.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesConfigItem ?mainConfigItem.
   ?mainConfigItem pcs:actualNetArea ?netArea .
   BIND(xsd:decimal (ceil((?netArea* 100 * 1.03)/?lateralSpace)*100) AS ?totalLengthOfLateral)
}
</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">260</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#totalNumberOfFlushingValvesPerProject -->

    <owl:DatatypeProperty rdf:about="&pcs;totalNumberOfFlushingValvesPerProject">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total number of flushing/vacuum valves per project:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">37</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?totalNumberOfFlushingValvesPerProject)  WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcs:numberOfFlushingValvesPerBlock ?flushingValves.
   ?subject pcs:numberOfValvesPerProject ?valvesPerProject.
   BIND(xsd:decimal(?flushingValves*?valvesPerProject) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupSubmain"/>
        <rdfs:domain rdf:resource="&pcs;Submain-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#totalNumberOfLateralOutlets -->

    <owl:DatatypeProperty rdf:about="&pcs;totalNumberOfLateralOutlets">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">28) Total number of lateral&apos;s outlets/end lines:</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">#to get round value of 10, multiply*0.1 before round, multiply 10 after round
SELECT  ?subject ?totalNumberOfLateralOutlets WHERE {
   ?subject pcs:totalLengthOfLateral ?totalLateralLength.
   ?subject pcs:actualRealAverageLateralLength ?length.
   BIND(xsd:decimal (round((?totalLateralLength*1.02*0.1)/?length)*10) AS ?totalNumberOfLateralOutlets)
}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">270</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-implementation.owl#GroupInfield"/>
        <rdfs:domain rdf:resource="&pcs;Infield-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#uniramHCNLminpressure -->

    <owl:DatatypeProperty rdf:about="&pcs;uniramHCNLminpressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#uniramMinPressure -->

    <owl:DatatypeProperty rdf:about="&pcs;uniramMinPressure">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#valvesSeriesError -->

    <owl:DatatypeProperty rdf:about="&pcs;valvesSeriesError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT  ?subject ?valvesSeriesError
WHERE {

   ?salesItem as:isProduct pci:Submain.

   ?materialAttribute ps:isDynamicAttribute pci:HeadworksTypeMaterial .
   ?diameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .
   ?smallerDiameterAttribute ps:isDynamicAttribute pci:HeadworksRequiredDiameter .

   ?subject as:configItemIncludedBy ?salesItem .

   ?subject ps:includesDynamicAttribute ?materialAttribute,  ?diameterAttribute .
   ?materialAttribute ps:usesSymbolicValue/ps:isSymbolicValue ?material .


   ?diameterAttribute ps:usesSymbolicValue/as:attributionFactor ?diameter .
   ?subject pcs:actualAverageFlowAtBiggestShift ?avgFlow.
   BIND(IF(?material=pci:Dorot-pvc-glue-96 &amp;&amp; ?diameter=3 &amp;&amp; (?avgFlow&lt;=38),xsd:boolean(true),xsd:boolean(false)) as ?valvesSeriesError)

}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#valvesSeriesErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;valvesSeriesErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?valvesSeriesErrorText where {

   ?subject pcs:valvesSeriesError ?error.
   BIND(IF(?error,&quot;model.valvesSeries&quot;,&quot; &quot;) AS ?valvesSeriesErrorText)

}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#wrongMaterialError -->

    <owl:DatatypeProperty rdf:about="&pcs;wrongMaterialError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?wrongMaterialError
WHERE {

   {
      ?sectionSi as:isProduct pci:HydrantSectionConcentrated.
   }
   UNION
   {
      ?sectionSi as:isProduct pci:HydrantSectionScattered.
   }
   UNION
   {
      ?sectionSi as:isProduct pci:MainlineSectionConcentrated.
   }
   UNION
   {
      ?sectionSi as:isProduct pci:MainlineSectionScattered.
   }

   ?salesItem as:isProduct pci:MainLine.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?mainLineDimensionSi.
   ?mainLineDimensionSi as:includesSalesItem ?sectionSi.
   ?sectionSi as:includesConfigItem ?sectionConfig.

   FILTER EXISTS {
      ?sectionConfig pcs:sectionInnerDmm ?value .
      FILTER(?value = &quot;-&quot;).
   }

   BIND(xsd:boolean(true) AS ?wrongMaterialError)
}</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#wrongMaterialErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;wrongMaterialErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?wrongMaterialErrorText
WHERE {
 ?subject pcs:wrongMaterialError ?error.
 BIND(IF(?error,&quot;model.wrongMaterial&quot;,&quot; &quot;) AS ?wrongMaterialErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#wrongMaterialFlexnetError -->

    <owl:DatatypeProperty rdf:about="&pcs;wrongMaterialFlexnetError">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?wrongMaterialFlexnetError
WHERE {
   ?da ps:isDynamicAttribute pci:MainlineClass .
   ?mainline as:isProduct pci:MainLine .

   {
      ?subject as:configItemIncludedBy ?mainline .
      ?mainline as:includesSalesItem ?dimensioning .
      ?dimensioning as:includesSalesItem ?section .
      ?section as:includesConfigItem ?config .
      ?config pcs:mainlineSectionClassUp ?class .
   } UNION {
      ?subject as:configItemIncludedBy ?mainline .
      ?mainline as:includesSalesItem ?dimensioning .
      ?dimensioning as:includesSalesItem ?section .
      ?section as:includesConfigItem ?config .
      ?config pcs:mainlineSectionClassDown ?class .
   } UNION {
      ?subject as:configItemIncludedBy ?mainline .
      ?mainline as:includesSalesItem ?dimensioning .
      ?dimensioning as:includesSalesItem ?section .
      ?section as:includesConfigItem ?config .
      ?config pcs:hydrantClassShort ?class .
   } UNION {
      ?subject as:configItemIncludedBy ?mainline .
      ?mainline as:includesSalesItem ?dimensioning .
      ?dimensioning as:includesSalesItem ?section .
      ?section as:includesConfigItem ?config .
      ?config pcs:hydrantClassLong ?class .
   } UNION {
      ?subject as:configItemIncludedBy ?mainline .
      ?mainline as:includesSalesItem ?dimensioning .
      ?dimensioning as:includesSalesItem ?section .
      ?section as:includesConfigItem ?config .
      ?config pcs:loClass ?class .
   }

   ?subject pcs:mainLineE22 ?material .
   ?subject ps:includesDynamicAttribute ?da .
   ?da ps:usesSymbolicValue ?value .
   ?value as:attributionFactor ?min .

   FILTER(?class &gt; ?min &amp;&amp; IF(?material = 3, ?min = 6, ?min = 3))

   BIND(true AS ?wrongMaterialFlexnetError)
} LIMIT 1</ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#wrongMaterialFlexnetErrorText -->

    <owl:DatatypeProperty rdf:about="&pcs;wrongMaterialFlexnetErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:defaultValue rdf:datatype="&xsd;string"></ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?wrongMaterialFlexnetErrorText
WHERE {
 ?subject pcs:wrongMaterialFlexnetError ?error.
 BIND(IF(?error,&quot;model.wrongMaterial&quot;,&quot; &quot;) AS ?wrongMaterialFlexnetErrorText)
}</ps:sparql>
        <rdfs:domain rdf:resource="&as;ConfigItem"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Classes
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#KnowledgeBase -->

    <owl:Class rdf:about="&as;KnowledgeBase"/>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Aggregate-KB -->

    <owl:Class rdf:about="&pcs;Aggregate-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Automation-KB -->

    <owl:Class rdf:about="&pcs;Automation-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Fertigation-KB -->

    <owl:Class rdf:about="&pcs;Fertigation-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Filtration-KB -->

    <owl:Class rdf:about="&pcs;Filtration-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#HeadControl-KB -->

    <owl:Class rdf:about="&pcs;HeadControl-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Headworks-KB -->

    <owl:Class rdf:about="&pcs;Headworks-KB"/>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#HydrantSection-KB -->

    <owl:Class rdf:about="&pcs;HydrantSection-KB">
        <rdfs:subClassOf rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#HydrantSectionConcentrated-KB -->

    <owl:Class rdf:about="&pcs;HydrantSectionConcentrated-KB">
        <rdfs:subClassOf rdf:resource="&pcs;HydrantSection-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#HydrantSectionScattered-KB -->

    <owl:Class rdf:about="&pcs;HydrantSectionScattered-KB">
        <rdfs:subClassOf rdf:resource="&pcs;HydrantSection-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Infield-KB -->

    <owl:Class rdf:about="&pcs;Infield-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#InfieldHeadworks-KB -->

    <owl:Class rdf:about="&pcs;InfieldHeadworks-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Input-KB -->

    <owl:Class rdf:about="&pcs;Input-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#LOSection-KB -->

    <owl:Class rdf:about="&pcs;LOSection-KB"/>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#MainLine-KB -->

    <owl:Class rdf:about="&pcs;MainLine-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#MainlineSection-KB -->

    <owl:Class rdf:about="&pcs;MainlineSection-KB">
        <rdfs:subClassOf rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#MainlineSectionConcentrated-KB -->

    <owl:Class rdf:about="&pcs;MainlineSectionConcentrated-KB">
        <rdfs:subClassOf rdf:resource="&pcs;MainlineSection-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#MainlineSectionScattered-KB -->

    <owl:Class rdf:about="&pcs;MainlineSectionScattered-KB">
        <rdfs:subClassOf rdf:resource="&pcs;MainlineSection-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Manifold-KB -->

    <owl:Class rdf:about="&pcs;Manifold-KB"/>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#PumpingStation-KB -->

    <owl:Class rdf:about="&pcs;PumpingStation-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Section-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Section-KB -->

    <owl:Class rdf:about="&pcs;Section-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
        <owl:disjointWith rdf:resource="&pcs;Submain-KB"/>
    </owl:Class>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#Submain-KB -->

    <owl:Class rdf:about="&pcs;Submain-KB">
        <rdfs:subClassOf rdf:resource="&as;KnowledgeBase"/>
    </owl:Class>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Individuals
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#OPEN_FIELD_PROJECT_BOM -->

    <owl:NamedIndividual rdf:about="&as;OPEN_FIELD_PROJECT_BOM">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <rdfs:label xml:lang="de">OPEN_FIELD_PROJECT_BOM</rdfs:label>
        <rdfs:label xml:lang="en">OPEN_FIELD_PROJECT_BOM</rdfs:label>
        <ps:sparqlDefault rdf:datatype="&xsd;string">
      CONSTRUCT
      {
         ?bomItem as:hasProduct ?product .
      } WHERE {
         ?salesItem as:isProduct pci:OpenFieldProject .
         ?salesItem as:includesBOMItem ?bomItem .
         VALUES (?product) {
          ( pci:Infield )
          ( pci:Submain )
          ( pci:PumpingStation )
          ( pci:MainLine )
          ( pci:HeadControl )
          ( pci:Filtration )
          ( pci:Fertigation )
          ( pci:Headworks )
          ( pci:Manifold )
         }
      }
    </ps:sparqlDefault>
        <ps:sequenceID rdf:datatype="&xsd;int">10000</ps:sequenceID>
        <ps:objectId rdf:datatype="&xsd;string">OPEN_FIELD_PROJECT_BOM</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">OPEN_FIELD_PROJECT_BOM</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">OPEN_FIELD_PROJECT_BOM</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
        <ps:triggerSparql>ASK WHERE {FILTER(bound(?bomExplosion))}</ps:triggerSparql>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#PROJECTMANAGEMENT_BOM -->

    <owl:NamedIndividual rdf:about="&as;PROJECTMANAGEMENT_BOM">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <rdfs:label xml:lang="de">PROJECTMANAGEMENT_BOM</rdfs:label>
        <rdfs:label xml:lang="en">PROJECTMANAGEMENT_BOM</rdfs:label>
        <ps:sparqlDefault rdf:datatype="&xsd;string">
     CONSTRUCT
{
   ?bomItem as:hasProduct ?product .
}WHERE {
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:ProjectManagement .
   ?salesItem as:includesBOMItem ?bomItem .
   VALUES (?product) {
      ( pci:Commissionning )
      ( pci:ProjectManagementSub)


   }

}
    </ps:sparqlDefault>
        <ps:sequenceID rdf:datatype="&xsd;int">9000</ps:sequenceID>
        <ps:objectId rdf:datatype="&xsd;string">PROJECTMANAGEMENT_BOM</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">PROJECTMANAGEMENT_BOM</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">PROJECTMANAGEMENT_BOM</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
        <ps:triggerSparql>ASK WHERE {FILTER(bound(?bomExplosion))}</ps:triggerSparql>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#TRANSPORTATION_BOM -->

    <owl:NamedIndividual rdf:about="&as;TRANSPORTATION_BOM">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <rdfs:label xml:lang="de">TRANSPORTATION_BOM</rdfs:label>
        <rdfs:label xml:lang="en">TRANSPORTATION_BOM</rdfs:label>
        <ps:sparqlDefault rdf:datatype="&xsd;string">
      CONSTRUCT
{
   ?bomItem as:hasProduct ?product .
}WHERE {
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Transportation .
   ?salesItem as:includesBOMItem ?bomItem .
   VALUES (?product) {
      ( pci:AirTransportation )
      ( pci:SeaFreight)
      ( pci:LandTransportation)

   }

}
    </ps:sparqlDefault>
        <ps:sequenceID rdf:datatype="&xsd;int">9000</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">TRANSPORTATION_BOM</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRANSPORTATION_BOM</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRANSPORTATION_BOM</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
        <ps:triggerSparql>ASK WHERE {FILTER(bound(?bomExplosion))}</ps:triggerSparql>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#GroupMainLinePipe -->

    <owl:NamedIndividual rdf:about="&pcs;GroupMainLinePipe">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="en">MainLine Pipe:</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;integer">3</ps:sequenceID>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#GroupMainLineSectionLength -->

    <owl:NamedIndividual rdf:about="&pcs;GroupMainLineSectionLength">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="en">Section Lengths Calculation</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#MainLineCalculation -->

    <owl:NamedIndividual rdf:about="&pcs;MainLineCalculation">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label rdf:datatype="&xsd;string">MainLine Calculation</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#OTHER_COSTS_BOM -->

    <owl:NamedIndividual rdf:about="&pcs;OTHER_COSTS_BOM">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <rdfs:label xml:lang="de">OTHER_COSTS_BOM</rdfs:label>
        <rdfs:label xml:lang="en">OTHER_COSTS_BOM</rdfs:label>
        <ps:sparqlDefault rdf:datatype="&xsd;string">      CONSTRUCT
      {
         ?bomItem as:hasProduct ?product .
      } WHERE {
         ?salesItem as:isProduct pci:OTHERCOSTS .
         ?salesItem as:includesBOMItem ?bomItem .
         VALUES (?product) {
          ( pci:Unexpected )
          ( pci:Transportation )
          ( pci:Supervision )
          ( pci:ProjectManagement )
          ( pci:Installation )
          ( pci:LegalExpenses )
          ( pci:FinancialExpenses )
          ( pci:DetailedDesignBOM )
          ( pci:AfterSalesManagment )
         }
      }
    </ps:sparqlDefault>
        <ps:sequenceID rdf:datatype="&xsd;int">10000</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">OTHER_COSTS_BOM</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">OTHER_COSTS_BOM</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">OTHER_COSTS_BOM</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
        <ps:triggerSparql>ASK WHERE {FILTER(bound(?bomExplosion))}</ps:triggerSparql>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#SectionGroup -->

    <owl:NamedIndividual rdf:about="&pcs;SectionGroup">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="en">Properties:</rdfs:label>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#SubmainCalculation -->

    <owl:NamedIndividual rdf:about="&pcs;SubmainCalculation">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="en">Submain Calculation</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_AUTOCALCULATION_13_14 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_AUTOCALCULATION_13_14">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
CONSTRUCT
{
   ?daResult1 ps:dynamicDataAttributeValue ?waterSource .
   ?daResult1 ps:dynamicAttributeReadOnly true.

}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?da2 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?da3 ps:isDynamicAttribute pci:InputWaterSourceDistance.
   ?da4 ps:isDynamicAttribute pci:InputHighestpointLoc .
   ?da5 ps:isDynamicAttribute pci:InputAltitudeWatersource.
   ?daResult1 ps:isDynamicAttribute pci:InputAltitudeHighestpoint.
   ?subject ps:includesDynamicAttribute ?da1 ,?da2 ,?da3, ?da4,?da5,?daResult1 .
   ?da1 ps:dynamicDataAttributeValue ?x .
   ?da2 ps:dynamicDataAttributeValue ?y .
   ?da3 ps:dynamicDataAttributeValue ?sourceDistance.
   ?da4 ps:usesSymbolicValue ?highestpointLoc.
   ?highestpointLoc rdfs:label ?label.
   ?da5 ps:dynamicDataAttributeValue ?waterSource.
   BIND(xsd:string(?label) as ?hpLoc)

FILTER(((?x=0 &amp;&amp; ?y=0 &amp;&amp; ?hpLoc= &quot;(0,0)&quot;) || (?x=0 &amp;&amp; ?y=1 &amp;&amp; ?hpLoc= &quot;(0,1)&quot;) || (?x=1 &amp;&amp; ?y=0 &amp;&amp; ?hpLoc= &quot;(1,0)&quot;) || (?x=1 &amp;&amp; ?y=1 &amp;&amp; ?hpLoc= &quot;(1,1)&quot;)) &amp;&amp; ?sourceDistance = 0 )

}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_13_14</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_13_14</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_13_14</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_AUTOCALCULATION_14 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_AUTOCALCULATION_14">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{

   ?daResult2 ps:dynamicDataAttributeValue ?waterSource .
   ?daResult2 ps:dynamicAttributeReadOnly true.
}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?da2 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?da3 ps:isDynamicAttribute pci:InputWaterSourceDistance.
   ?da4 ps:isDynamicAttribute pci:InputHighestpointLoc .
   ?da5 ps:isDynamicAttribute pci:InputAltitudeWatersource.
   ?daResult2 ps:isDynamicAttribute pci:InputAltitudeLowestpoint.
   ?subject ps:includesDynamicAttribute ?da1 ,?da2 ,?da3, ?da4,?da5 ,?daResult2.
   ?da1 ps:dynamicDataAttributeValue ?x .
   ?da2 ps:dynamicDataAttributeValue ?y .
   ?da3 ps:dynamicDataAttributeValue ?sourceDistance.
   ?da4 ps:usesSymbolicValue ?highestpointLoc.
   ?highestpointLoc rdfs:label ?label.
   ?da5 ps:dynamicDataAttributeValue ?waterSource.
   BIND(xsd:string(?label) as ?hpLoc)

   FILTER(((?x=0 &amp;&amp; ?y=0 &amp;&amp; ?hpLoc= &quot;(1,1)&quot;) || (?x=0 &amp;&amp; ?y=1 &amp;&amp; ?hpLoc= &quot;(1,0)&quot;) || (?x=1 &amp;&amp; ?y=1 &amp;&amp; ?hpLoc= &quot;(0,0)&quot;) || (?x=1 &amp;&amp; ?y=0 &amp;&amp; ?hpLoc= &quot;(0,1)&quot;)) &amp;&amp; ?sourceDistance = 0 )


}</ps:sparql>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_AUTOCALCULATION_16b -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_AUTOCALCULATION_16b">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?daResult ps:dynamicDataAttributeValue ?ground .
   ?daResult ps:dynamicAttributeReadOnly true.
}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?da2 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?da3 ps:isDynamicAttribute pci:InputSlopeUniform.
   ?da4 ps:isDynamicAttribute pci:InputAltitudeWatersource .
   ?daResult ps:isDynamicAttribute pci:InputAltitudeDeliveryline .
   ?subject ps:includesDynamicAttribute ?da1 ,?da2 ,?da3, ?da4 ,?daResult.
   ?da1 ps:dynamicDataAttributeValue ?x .
   ?da2 ps:dynamicDataAttributeValue ?y .
   ?da3 ps:usesSymbolicValue ?slopeUniform .
   ?slopeUniform ps:isSymbolicValue pci:SlopeUniformNo.
   ?da4 ps:dynamicDataAttributeValue ?ground.
   FILTER((?x&gt;0 &amp;&amp; ?x&lt;1 &amp;&amp; (?y&lt;1 &amp;&amp; ?y&gt;0)))

}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_16b</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_16b</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_AUTOCALCULATION_16b</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_BLOCKTODIAMETER -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_BLOCKTODIAMETER">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">80</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?da ps:usesSymbolicValue ?resultSym.
   ?da ps:dynamicAttributeReadOnly true.
}
where{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Submain.
   ?salesItem as:includesConfigItem ?configItem.


   ?configItem pcs:submainFlowQ ?flow .
   ?configItem pcs:maxIrFlow1pt5inchValves ?valves1pt5.
   ?configItem pcs:maxIrFlow2inchValves ?valves2.
   ?configItem pcs:maxIrFlow3inchValves ?valves3.
   ?configItem pcs:maxIrFlow4inchValves ?valves4.
   ?configItem pcs:maxIrFlow6inchValves ?valves6.

   ?configItem ps:includesDynamicAttribute ?da,?daMethod.
   ?da ps:isDynamicAttribute pci:HeadworksRequiredDiameter.

   ?daMethod ps:isDynamicAttribute pci:HeadworksMethods.
   ?daMethod ps:usesSymbolicValue/ps:isSymbolicValue ?val .



   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1pt5 .
   ?symValue1pt5 ps:isSymbolicValue pci:Val1pt5inch.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:Val2inch.

   ?range ps:includesSymbolicValue ?symValue3 .
   ?symValue3 ps:isSymbolicValue pci:Val3inch.

   ?range ps:includesSymbolicValue ?symValue4 .
   ?symValue4 ps:isSymbolicValue pci:Val4inch.

   ?range ps:includesSymbolicValue ?symValue6 .
   ?symValue6 ps:isSymbolicValue pci:Val6inch.

   BIND(IF(?valves1pt5&gt;=?flow,?symValue1pt5,
         IF(?valves2&gt;=?flow,?symValue2,
            IF(?valves3&gt;=?flow,?symValue3,
            IF(?valves4&gt;=?flow,?symValue4,?symValue6)
            )
         )
      )
   as ?resultSym
   )
 FILTER(?val=pci:HeadworkdsReqSize)
}
</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_BLOCKTODIAMETER</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_BLOCKTODIAMETER</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_BLOCKTODIAMETER</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_CUBICLE_BBP -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_CUBICLE_BBP">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
    CONSTRUCT
    {
       ?submainLateralDescription ps:usesSymbolicValue ?result.
    }
    WHERE
    {
       ?mainSalesItem as:isProduct pci:OpenFieldProject.
       ?infieldLateralDescription ps:isDynamicAttribute pci:InfieldLateralDescription.
       ?submainLateralDescription ps:isDynamicAttribute pci:SubmainLateralDescription.
       ?submain as:isProduct pci:Submain.
       ?infield as:isProduct pci:Infield.
       ?submainPc ps:isSymbolicValue pci:SubmainPc.
       ?submainNpc ps:isSymbolicValue pci:SubmainNpc.

       ?mainSalesItem as:includesSalesItem ?infield, ?submain .
       ?infield as:includesConfigItem /ps:includesDynamicAttribute ?infieldLateralDescription.
       ?infieldLateralDescription ps:usesSymbolicValue ?value.
       ?value ps:isSymbolicValue ?valueUri.
       ?submain as:includesConfigItem/ ps:includesDynamicAttribute ?submainLateralDescription.
       ?submainLateralDescription ps:includesAttributeRange ?range .
       ?range ps:includesSymbolicValue ?submainPc,?submainNpc .

       BIND (IF(?valueUri = pci:Pc,
         ?submainPc , ?submainNpc)      as ?result)
    }</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_CUBICLE_BBP</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_CUBICLE_BBP</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_CUBICLE_BBP</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNETHP_PRESSURE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNETHP_PRESSURE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Infield.
   ?salesItem as:includesConfigItem ?configItem.
   ?configItem pcs:calculatedBlockValvePressure ?pressure.

   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:isDynamicAttribute pci:InfieldPressureCompareFlexnethp.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:LessThan30.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:GreaterThan30.

   BIND(IF(?pressure &lt;= 30,?symValue1,?symValue2) as ?val)

}

</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETHP_PRESSURE</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETHP_PRESSURE</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETHP_PRESSURE</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNETSPACING -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNETSPACING">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">0</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?symValue.
}
where{

   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Infield.

   ?salesItem as:includesConfigItem ?configItem.

   ?configItem ps:includesDynamicAttribute ?daSprinkler .
   ?daSprinkler ps:isDynamicAttribute pci:InfieldLateralType .
   ?daSprinkler ps:usesSymbolicValue ?sprinkler.
   ?sprinkler ps:isSymbolicValue pci:Sprinklers.

   ?configItem ps:includesDynamicAttribute ?daEmitterspacing.
   ?daEmitterspacing ps:dynamicDataAttributeValue ?emitterspace.
   ?daEmitterspacing ps:isDynamicAttribute pci:InfieldEmitterSpacingManual.

   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue .
   ?symValue as:attributionFactor ?factor .
   ?da ps:isDynamicAttribute pci:InfieldFlexnetSpacing.

   ?da ps:dynamicAttributeNeedsActivation true.
   ?symValue rdf:type ps:ActiveSymbolicValue.

   FILTER(?factor &lt;= ?emitterspace)
   }ORDER BY DESC (?factor)
LIMIT 1

</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNETSPACING2_SUBMAIN -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNETSPACING2_SUBMAIN">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">0</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?spacingAttribute ps:usesSymbolicValue ?symValue.
}

 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing2 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?diameterAttribute ps:isDynamicAttribute pci:SubmainDiameter2 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submain as:includesBOMItem ?bomItem .

   ?spacingValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?spacingAttribute .
   ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   ?materialValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?materialAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?submainConfig ps:includesDynamicAttribute ?diameterAttribute .



?submainConfig pcs:submainAverageLateralSpacing ?lateralSpacing.



     ?submainConfig ps:includesDynamicAttribute ?spacingAttribute .

   ?spacingAttribute ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue .
   ?symValue as:attributionFactor ?factor .


   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?entry ^as:usesBOMEntry ?symValue, ?diameter, ?material .
   ?submainConfig as:includesBOM/as:includesBOMEntry ?entry .



   FILTER(?factor &lt;= ?lateralSpacing)
}ORDER BY DESC(?factor)
LIMIT 1
</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING2_SUBMAIN</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING2_SUBMAIN</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING2_SUBMAIN</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNETSPACING3_SUBMAIN -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNETSPACING3_SUBMAIN">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">0</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?spacingAttribute ps:usesSymbolicValue ?symValue.
}

 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing3 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?diameterAttribute ps:isDynamicAttribute pci:SubmainDiameter3 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submain as:includesBOMItem ?bomItem .

   ?spacingValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?spacingAttribute .
   ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   ?materialValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?materialAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?submainConfig ps:includesDynamicAttribute ?diameterAttribute .



?submainConfig pcs:submainAverageLateralSpacing ?lateralSpacing.



     ?submainConfig ps:includesDynamicAttribute ?spacingAttribute .

   ?spacingAttribute ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue .
   ?symValue as:attributionFactor ?factor .


   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?entry ^as:usesBOMEntry ?symValue, ?diameter, ?material .
   ?submainConfig as:includesBOM/as:includesBOMEntry ?entry .



   FILTER(?factor &lt;= ?lateralSpacing)
}ORDER BY DESC(?factor)
LIMIT 1</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING3_SUBMAIN</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING3_SUBMAIN</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING3_SUBMAIN</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNETSPACING_SUBMAIN -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNETSPACING_SUBMAIN">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">0</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?spacingAttribute ps:usesSymbolicValue ?symValue.
}

 WHERE {
   ?submain as:isProduct pci:Submain .

   ?spacingAttribute ps:isDynamicAttribute pci:SubmainFlexnetSpacing1 .
   ?materialAttribute ps:isDynamicAttribute pci:SubmainType .
   ?diameterAttribute ps:isDynamicAttribute pci:SubmainDiameter1 .

   ?submain as:includesConfigItem ?submainConfig .
   ?submain as:includesBOMItem ?bomItem .

   ?spacingValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?spacingAttribute .
   ?diameterValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?diameterAttribute .
   ?materialValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?materialAttribute .

   ?materialAttribute ps:usesSymbolicValue ?materialValue .
   ?submainConfig ps:includesDynamicAttribute ?materialAttribute .

   ?diameterAttribute ps:usesSymbolicValue ?diameterValue .
   ?submainConfig ps:includesDynamicAttribute ?diameterAttribute .



?submainConfig pcs:submainAverageLateralSpacing ?lateralSpacing.


     ?submainConfig ps:includesDynamicAttribute ?spacingAttribute .

   ?spacingAttribute ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue .
   ?symValue as:attributionFactor ?factor .


   ?spacingValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?diameterValue ps:isSymbolicValue/^ps:isSymbolicValue ?diameter .
   ?materialValue ps:isSymbolicValue/^ps:isSymbolicValue ?material .

   ?entry ^as:usesBOMEntry ?symValue, ?diameter, ?material .
   ?submainConfig as:includesBOM/as:includesBOMEntry ?entry .



   FILTER(?factor &lt;= ?lateralSpacing)
}ORDER BY DESC(?factor)
LIMIT 1</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING_SUBMAIN</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING_SUBMAIN</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNETSPACING_SUBMAIN</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_FLEXNET_PRESSURE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_FLEXNET_PRESSURE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Infield.
   ?salesItem as:includesConfigItem ?configItem.
   ?configItem pcs:calculatedBlockValvePressure ?pressure.

   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:isDynamicAttribute pci:InfieldPressureCompareFlexnet.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:LessThan25.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:GreaterThan25.

   BIND(IF(?pressure &lt;= 25,?symValue1,?symValue2) as ?val)

}

</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNET_PRESSURE</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNET_PRESSURE</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_FLEXNET_PRESSURE</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_HEADCONTROL_MAXFLOW -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_HEADCONTROL_MAXFLOW">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:isProduct pci:Infield.
   ?openfieldSi as:isProduct pci:OpenFieldProject.
   ?hcSi as:isProduct pci:HeadControl.
   ?da ps:isDynamicAttribute pci:HcMaxFlow.

   ?openfieldSi as:salesItemIncludedBy ?quote.
   ?salesItem as:salesItemIncludedBy ?openfieldSi.
   ?salesItem as:includesConfigItem ?config.
   ?config pcs:maxShiftFlowRate ?flowRate.


   ?openfieldSi as:includesSalesItem ?hcSi.
   ?hcSi as:includesConfigItem ?hcConfig.
   ?hcConfig ps:includesDynamicAttribute ?da.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?val1 .
   ?val1 ps:isSymbolicValue pci:HcMaxFlow21.

   ?range ps:includesSymbolicValue ?val2 .
   ?val2 ps:isSymbolicValue pci:HcMaxFlow48.

   ?range ps:includesSymbolicValue ?val3 .
   ?val3 ps:isSymbolicValue pci:HcMaxFlow85.

   ?range ps:includesSymbolicValue ?val4 .
   ?val4 ps:isSymbolicValue pci:HcMaxFlow190.

   ?range ps:includesSymbolicValue ?val5 .
   ?val5 ps:isSymbolicValue pci:HcMaxFlow340.

   ?range ps:includesSymbolicValue ?val6 .
   ?val6 ps:isSymbolicValue pci:HcMaxFlow530.

   ?range ps:includesSymbolicValue ?val7 .
   ?val7 ps:isSymbolicValue pci:HcMaxFlow750.

   ?range ps:includesSymbolicValue ?val8 .
   ?val8 ps:isSymbolicValue pci:HcMaxFlow870.

   ?range ps:includesSymbolicValue ?val9 .
   ?val9 ps:isSymbolicValue pci:HcMaxFlow1060.

   ?range ps:includesSymbolicValue ?val10 .
   ?val10 ps:isSymbolicValue pci:HcMaxFlow1280.

    ?range ps:includesSymbolicValue ?val11 .
   ?val11 ps:isSymbolicValue pci:HcMaxFlow1500.

   BIND(IF(?flowRate &gt;=1 &amp;&amp; ?flowRate &lt;= 21, ?val1,
         IF(?flowRate &gt;=22 &amp;&amp; ?flowRate &lt;= 48, ?val2,
            IF(?flowRate &gt;= 49 &amp;&amp; ?flowRate &lt;= 85, ?val3,
               IF(?flowRate &gt;= 86 &amp;&amp; ?flowRate &lt;=190, ?val4,
                  IF(?flowRate &gt;= 191 &amp;&amp; ?flowRate &lt;= 340, ?val5,
                     IF(?flowRate &gt;= 341 &amp;&amp; ?flowRate &lt;= 530, ?val6,
                        IF(?flowRate &gt;= 531 &amp;&amp; ?flowRate &lt;= 750, ?val7,
                           IF(?flowRate &gt;= 751 &amp;&amp; ?flowRate &lt;= 870, ?val8,
                              IF(?flowRate &gt;= 871 &amp;&amp; ?flowRate &lt;= 1060, ?val9,
                                 IF(?flowRate &gt;= 1061 &amp;&amp; ?flowRate &lt;=1280, ?val10,?val11)))))))))) as ?val)
}
</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_HEADCONTROL_MAXFLOW</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_HEADCONTROL_MAXFLOW</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_HEADCONTROL_MAXFLOW</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_MAINLINE_INLETPRESSURE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_MAINLINE_INLETPRESSURE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?salesItem as:isProduct pci:Fertigation.
   ?openFieldSi as:isProduct pci:OpenFieldProject.
   ?mainLineSi as:isProduct pci:MainLine.
   ?da ps:isDynamicAttribute pci:MainlineInletpressure.

   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:salesItemIncludedBy ?openFieldSi.
   ?openFieldSi as:includesSalesItem ?mainLineSi.
   ?salesItem as:includesConfigItem ?config.
   ?config ps:includesDynamicAttribute ?da.

   ?mainLineSi as:includesConfigItem ?mainConfig .
   ?mainConfig pcs:mainLineInletPressure ?pressure.


   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:PressureLessthan25.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:PressureGreaterthan25.

   ?range ps:includesSymbolicValue ?symValue3 .
   ?symValue3 ps:isSymbolicValue pci:PressureGreaterthan60.

   BIND(IF(?pressure &lt; 25,?symValue1,
         IF(?pressure &gt;60,?symValue3,
            IF(?pressure &gt; 25,?symValue2,&quot;&quot;))) as ?val)

}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MAINLINE_INLETPRESSURE</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MAINLINE_INLETPRESSURE</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MAINLINE_INLETPRESSURE</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_MANIFOLD_DIAMETER -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_MANIFOLD_DIAMETER">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:isProduct pci:Submain.
   ?openfieldSi as:isProduct pci:OpenFieldProject.
   ?manifoldSi as:isProduct pci:Manifold.
   ?da ps:isDynamicAttribute pci:ManifoldDiameter.

   ?openfieldSi as:salesItemIncludedBy ?quote.
   ?salesItem as:salesItemIncludedBy ?openfieldSi.
   ?salesItem as:includesConfigItem ?config.
   ?config pcs:flushingManifoldDiameter ?submainVal.


   ?openfieldSi as:includesSalesItem ?manifoldSi.
   ?manifoldSi as:includesConfigItem ?manifoldConfig.
   ?manifoldConfig ps:includesDynamicAttribute ?da.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:ManifoldDiameter32.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:ManifoldDiameter40.

   ?range ps:includesSymbolicValue ?symValue3 .
   ?symValue3 ps:isSymbolicValue pci:ManifoldDiameter50.

   ?range ps:includesSymbolicValue ?symValue4 .
   ?symValue4 ps:isSymbolicValue pci:ManifoldDiameter63.

   BIND(IF(?submainVal = 32, ?symValue1,
         IF(?submainVal = 40,?symValue2,
            IF(?submainVal = 50, ?symValue3,
               IF(?sumbmainVal=63,?symValue4,&quot;&quot;)))) as ?val)
}
</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_DIAMETER</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_DIAMETER</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_DIAMETER</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_MANIFOLD_SIZE_FLUSHING -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_MANIFOLD_SIZE_FLUSHING">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:isProduct pci:Submain.
   ?openfieldSi as:isProduct pci:OpenFieldProject.
   ?manifoldSi as:isProduct pci:Manifold.
   ?da ps:isDynamicAttribute pci:ManifoldSizeFlushing.

   ?openfieldSi as:salesItemIncludedBy ?quote.
   ?salesItem as:salesItemIncludedBy ?openfieldSi.
   ?salesItem as:includesConfigItem ?config.
   ?config pcs:sizeOfFlushingValveCalculation ?submainVal.


   ?openfieldSi as:includesSalesItem ?manifoldSi.
   ?manifoldSi as:includesConfigItem ?manifoldConfig.
   ?manifoldConfig ps:includesDynamicAttribute ?da.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:ManifoldSizeFlushing1.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:ManifoldSizeFlushing1pt5.

   ?range ps:includesSymbolicValue ?symValue3 .
   ?symValue3 ps:isSymbolicValue pci:ManifoldSizeFlushing2.

   BIND(IF(?submainVal = &quot;1&quot;, ?symValue1,
         IF(?submainVal=&quot;1.5&quot;,?symValue2,?symValue3)) as ?val)
}
</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_FLUSHING</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_FLUSHING</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_FLUSHING</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_MANIFOLD_SIZE_VACCUM -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_MANIFOLD_SIZE_VACCUM">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:isProduct pci:Submain.
   ?openfieldSi as:isProduct pci:OpenFieldProject.
   ?manifoldSi as:isProduct pci:Manifold.
   ?da ps:isDynamicAttribute pci:ManifoldSizeVaccum.

   ?openfieldSi as:salesItemIncludedBy ?quote.
   ?salesItem as:salesItemIncludedBy ?openfieldSi.
   ?salesItem as:includesConfigItem ?config.
   ?config pcs:sizeOfVacuumValveCalculation ?submainVal.


   ?openfieldSi as:includesSalesItem ?manifoldSi.
   ?manifoldSi as:includesConfigItem ?manifoldConfig.
   ?manifoldConfig ps:includesDynamicAttribute ?da.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:ManifoldSizeVaccum1.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:ManifoldSizeVaccum2.

   BIND(IF(?submainVal = &quot;1&quot;, ?symValue1,?symValue2) as ?val)
}
</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_VACCUM</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_VACCUM</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_MANIFOLD_SIZE_VACCUM</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_SLOPE_Y -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_SLOPE_Y">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">90</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da ps:usesSymbolicValue ?val.
}
where
{
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?salesItem as:includesConfigItem ?config.
   ?config ps:includesDynamicAttribute ?da.
   ?da ps:isDynamicAttribute pci:Submainslopey.
   ?mainSi as:includesConfigItem ?mainConfig.
   ?mainConfig pcs:inputSlopeY ?slopeY.
   ?salesItem as:isProduct pci:Submain.
   ?mainSi as:isProduct pci:OpenFieldProject.

   ?da ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue1 .
   ?symValue1 ps:isSymbolicValue pci:SubmainslopeyLessthan1.

   ?range ps:includesSymbolicValue ?symValue2 .
   ?symValue2 ps:isSymbolicValue pci:SubmainslopeyGreaterthan1.

   BIND(IF(?slopeY &lt; 1,?symValue1,?symValue2) as ?val)

}</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SLOPE_Y</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SLOPE_Y</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SLOPE_Y</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_SMC_LOC -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_SMC_LOC">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;
CONSTRUCT
{
   ?targetda ps:usesSymbolicValue ?result.
}
WHERE
{
   ?da1 ps:isDynamicAttribute pci:InfieldSubmainLoc.
   ?targetda ps:isDynamicAttribute pci:SubmainLocationSubmainBlocks.
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .

   ?mainSalesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:salesItemIncludedBy ?mainSalesItem.
   ?mainSalesItem as:includesSalesItem ?otherSalesItem.

   ?salesItem as:isProduct pci:Submain.
   ?mainSalesItem as:isProduct pci:OpenFieldProject.
   ?otherSalesItem as:isProduct pci:Infield.


   ?otherSalesItem as:includesConfigItem ?otherConfigItem.
   ?otherConfigItem ps:includesDynamicAttribute ?da1.

   ?da1 ps:usesSymbolicValue ?value.



   ?attribute ps:usesSymbolicValue ?value.
   ?value ps:isSymbolicValue ?valueUri.

   ?salesItem as:includesConfigItem ?submainconfig .
   ?submainconfig ps:includesDynamicAttribute ?targetda.

   ?targetda ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?targetVal1 .
   ?targetVal1 ps:isSymbolicValue pci:SubmainMiddle.

   ?range ps:includesSymbolicValue ?targetVal2 .
   ?targetVal2 ps:isSymbolicValue pci:SubmainSide.

   BIND (IF(?valueUri = pci:InfieldSubmainMiddle,?targetVal1 ,
        ?targetVal2
       )     as ?result)
}
</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SMC_LOC </ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SMC_LOC </ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SMC_LOC </ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_CALCULATION_SUBMAIN_DIAMETER1 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_CALCULATION_SUBMAIN_DIAMETER1">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">-100</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;

CONSTRUCT
{
   ?da1 ps:usesSymbolicValue ?symValue1.
   ?da2 ps:usesSymbolicValue ?symValue2.
   ?da3 ps:usesSymbolicValue ?symValue3.
}
where{

   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .

   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Submain.

   ?salesItem as:includesConfigItem ?configItem.
   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?manual.
   ?manual ps:isSymbolicValue pci:SubmainNomanual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.

   ?configItem pcs:submainDmm1 ?dmm1.
   ?configItem ps:includesDynamicAttribute ?da1.

   ?da1 ps:includesAttributeRange ?range1.
   ?range1 ps:includesSymbolicValue ?symValue1 .
   ?symValue1 as:attributionFactor ?factor1.

   ?da1 ps:isDynamicAttribute pci:SubmainDiameter1.

   ?da1 ps:dynamicAttributeNeedsActivation true.
   ?symValue1 rdf:type ps:ActiveSymbolicValue.
    FILTER(?factor1 = ?dmm1)

   optional
   {
   ?configItem pcs:submainDmm2 ?dmm2.
   ?configItem ps:includesDynamicAttribute ?da2.
   ?da2 ps:includesAttributeRange ?range2.
   ?range2 ps:includesSymbolicValue ?symValue2 .
   ?symValue2 as:attributionFactor ?factor2.
   ?da2 ps:isDynamicAttribute pci:SubmainDiameter2.
   ?da2 ps:dynamicAttributeNeedsActivation true.
   ?symValue2 rdf:type ps:ActiveSymbolicValue.
    FILTER(?factor2 = ?dmm2)
  }

   optional
   {
   ?configItem pcs:submainDmm3 ?dmm3.
   ?configItem ps:includesDynamicAttribute ?da3.
   ?da3 ps:includesAttributeRange ?range3.
   ?range3 ps:includesSymbolicValue ?symValue3 .
   ?symValue3 as:attributionFactor ?factor3.
   ?da3 ps:isDynamicAttribute pci:SubmainDiameter3.
   ?da3 ps:dynamicAttributeNeedsActivation true.
   ?symValue3 rdf:type ps:ActiveSymbolicValue.
   FILTER(?factor3 = ?dmm3)
 }


   }
</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SUBMAIN_DIAMETER1</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SUBMAIN_DIAMETER1</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_CALCULATION_SUBMAIN_DIAMETER1</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_DONOTDISPLAY_15 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_DONOTDISPLAY_15">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT {
   ?daResult1 ps:dynamicAttributeHidden ?hidden.
   ?daResult2 ps:dynamicAttributeHidden ?hidden.
}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InputMainlineLocationx.
   ?da2 ps:isDynamicAttribute pci:InputMainlineLocationy.
   ?daResult1 ps:isDynamicAttribute pci:InputWaterSourceDistance.
   ?daResult2 ps:isDynamicAttribute pci:InputAltitudeWatersource.

   ?subject ps:includesDynamicAttribute ?da1 ,?da2 ,?daResult1, ?daResult2 .

   ?da1 ps:dynamicDataAttributeValue ?x .
   ?da2 ps:dynamicDataAttributeValue ?y .

   BIND(IF(?x&gt;0 &amp;&amp; ?x&lt;1 &amp;&amp; (?y&lt;1 &amp;&amp; ?y&gt;0), true, false) AS ?hidden)
}
</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_DONOTDISPLAY_15</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_DONOTDISPLAY_15</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_DONOTDISPLAY_15</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_EMITTERSPACINGMANUAL_MANDATORY -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_EMITTERSPACINGMANUAL_MANDATORY">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?daResult ps:dynamicAttributeMandatory true.
}

WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldLateralType.
   ?daResult ps:isDynamicAttribute pci:InfieldEmitterSpacingManual.
   ?subject ps:includesDynamicAttribute ?da1 ,?daResult .

   FILTER NOT EXISTS
   {
      ?da1 ps:usesSymbolicValue/ps:isSymbolicValue pci:In-lineDrippers .
   }
}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_EMITTERSPACINGMANUAL_MANDATORY</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_EMITTERSPACINGMANUAL_MANDATORY</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_EMITTERSPACINGMANUAL_MANDATORY</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_FILTRATION_MODERATE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_FILTRATION_MODERATE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
  { ?moderateFlowAttribute ps:usesSymbolicValue ?symValue .}
WHERE
{
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterModerate .
   ?methodValue ps:isSymbolicValue pci:A .
   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .

   ?moderateFlowAttribute ps:isDynamicAttribute pci:FtModerateFlow .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtManufactured .
   ?backFlushAttribute ps:isDynamicAttribute pci:FtBackflush .
   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?backFlushAttribute ps:usesSymbolicValue ?backflushValue .

   ?ftConfig pcs:filterMaxShiftFlowRate ?flow .
   FILTER EXISTS {?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?moderateFlowAttribute}
   ?entry ^as:usesBOMEntry ?ftTypeValue ,?manufacturedValue ,?methodValue ,?waterQualityValue,?backflushValue, ?symValue  .
   ?symValue as:attributionFactor ?factor
   FILTER ( ?factor &gt;= ?flow )
}
ORDER BY ?factor
LIMIT 1</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_MODERATE</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_MODERATE</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_MODERATE</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_FILTRATION_POOR -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_FILTRATION_POOR">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
  { ?poorFlowAttribute ps:usesSymbolicValue ?symValue .}

WHERE
{
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterPoor .
   ?methodValue ps:isSymbolicValue pci:A .
   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .

   ?poorFlowAttribute ps:isDynamicAttribute pci:FtPoorFlow .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtManufactured .
   ?backFlushAttribute ps:isDynamicAttribute pci:FtBackflush .
   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?backFlushAttribute ps:usesSymbolicValue ?backflushValue .

   ?ftConfig pcs:filterMaxShiftFlowRate ?flow .
   FILTER EXISTS {?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?poorFlowAttribute}
   ?entry ^as:usesBOMEntry ?ftTypeValue ,?manufacturedValue ,?methodValue ,?waterQualityValue,?backflushValue, ?symValue  .
   ?symValue as:attributionFactor ?factor
   FILTER ( ?factor &gt;= ?flow )
}
ORDER BY ?factor LIMIT 1</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_POOR</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_POOR</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_FILTRATION_POOR</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_HEADWORKS_ACCESSORY -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_HEADWORKS_ACCESSORY">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">
    CONSTRUCT
{
   ?daResult ps:usesSymbolicValue ?accessoryYes.

}
WHERE
{
   ?accessoryYes ps:isSymbolicValue pci:HeadworksAccessoryYes.

   ?salesItem as:isProduct pci:Headworks.
   ?daResult ps:isDynamicAttribute pci:HeadworksAccessory.

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject ps:includesDynamicAttribute ?daResult.

   ?daResult ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?accessoryYes .

}
    </ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_HEADWORKS_ACCESSORY</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_HEADWORKS_ACCESSORY</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_HEADWORKS_ACCESSORY</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_INFIELD_MANDATORY -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_INFIELD_MANDATORY">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;


CONSTRUCT
{
   ?daResult ps:dynamicAttributeMandatory true.
}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InfieldBlockValvePressure.
   ?daResult ps:isDynamicAttribute pci:InfieldBlockValvepressureManual.
   ?subject ps:includesDynamicAttribute ?da1 ,?daResult .
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue pci:Manualpressure .
}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_MANDATORY</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_INFIELD_MANDATORY</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_MANDATORY</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_INFIELD_UNIFORM_ONLY -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_INFIELD_UNIFORM_ONLY">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?daResult ps:usesSymbolicValue ?uniform.
   ?daResult ps:hidesSymbolicValue ?dual.
}
WHERE
{
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription.
   ?daResult ps:isDynamicAttribute pci:InfieldDirectionflowLateral.
   ?uniform ps:isSymbolicValue pci:DirectionflowUniform.
   ?dual ps:isSymbolicValue pci:DirectionflowDual.

   ?subject ps:includesDynamicAttribute ?da1,?daResult.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue pci:Non-pc.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?config.
   ?config pcs:inputSlopeX ?x.
   ?daResult ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?uniform,?dual .
   FILTER(?x &gt;1)
}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_INFIELD_UNIFORM_ONLY_PC -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_INFIELD_UNIFORM_ONLY_PC">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?daResult ps:usesSymbolicValue ?uniform.
   ?daResult ps:hidesSymbolicValue ?dual.
}
WHERE
{
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da1 ps:isDynamicAttribute pci:InfieldLateralDescription.
   ?daResult ps:isDynamicAttribute pci:InfieldDirectionflowLateral.
   ?uniform ps:isSymbolicValue pci:DirectionflowUniform.
   ?dual ps:isSymbolicValue pci:DirectionflowDual.

   ?subject ps:includesDynamicAttribute ?da1,?daResult.
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue pci:Pc.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesConfigItem ?config.
   ?config pcs:inputSlopeX ?x.
   ?daResult ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?uniform,?dual .
   FILTER(?x &gt;5)
}</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY_PC</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY_PC</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_INFIELD_UNIFORM_ONLY_PC</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_INPUT_MANDATORY -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_INPUT_MANDATORY">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;


CONSTRUCT
{
   ?daResult ps:dynamicAttributeMandatory true.
}
WHERE {
   ?da1 ps:isDynamicAttribute pci:InputRelativeDimension.
   ?daResult ps:isDynamicAttribute pci:InputDimension.
   ?subject ps:includesDynamicAttribute ?da1 ,?daResult .
   ?da1 ps:usesSymbolicValue/ps:isSymbolicValue pci:RelativeTrue .
}</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_INPUT_MANDATORY</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_INPUT_MANDATORY</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_INPUT_MANDATORY</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_MAINLINE_PRV -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_MAINLINE_PRV">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?prFlowAttribute ps:usesSymbolicValue ?symValue.
}

WHERE {
   ?salesItem as:isProduct pci:MainLine .
   ?prFlowAttribute ps:isDynamicAttribute pci:Prflow .
   ?salesItem as:includesConfigItem ?config .
   ?config pcs:mlfirstQ ?flow .
   ?config ps:includesDynamicAttribute ?prFlowAttribute .
   FILTER EXISTS{
      ?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?prFlowAttribute .
   }
   ?symValue as:attributionFactor ?factor .
   FILTER(?factor &gt;= ?flow)

}ORDER BY (?factor) LIMIT 1
</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_MAINLINE_PRV</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_MAINLINE_PRV</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_MAINLINE_PRV</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_ONLINEDRIPPER_PIPECLASS -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_ONLINEDRIPPER_PIPECLASS">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{

   ?valueThatHidesOtherValue ps:hidesSymbolicValue ?pipe32.
}

WHERE
{
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da1 ps:isDynamicAttribute pci:InfieldEmitterNominalFlowRate.
   ?daEmitter ps:isDynamicAttribute pci:InfieldLateralType .
   ?daResult ps:isDynamicAttribute pci:InfieldPipeClass.
   ?online ps:isSymbolicValue pci:On-lineDrippers.
   ?pipe32 ps:isSymbolicValue pci:Pe324100m.


   ?subject ps:includesDynamicAttribute ?da1,?daResult,?daEmitter.
   ?daEmitter ps:usesSymbolicValue ?online .
   ?da1 ps:usesSymbolicValue ?valueThatHidesOtherValue .
   ?valueThatHidesOtherValue  as:attributionFactor ?flow.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?daResult ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?pipe32 .
   FILTER(?flow &lt;8)
}
</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_ONLINEDRIPPER_PIPECLASS</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_ONLINEDRIPPER_PIPECLASS</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_ONLINEDRIPPER_PIPECLASS</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_ONLINE_LATERAL_DIAMETER -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_ONLINE_LATERAL_DIAMETER">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX ss: &lt;http://www.inmindcomputing.com/ssc/submodel.owl#&gt;
PREFIX ps: &lt;http://www.inmindcomputing.com/platform/platform-schema.owl#&gt;
PREFIX as: &lt;http://www.inmindcomputing.com/application/application-schema.owl#&gt;
PREFIX sec: &lt;http://www.inmindcomputing.com/security/security-implementation.owl#&gt;
PREFIX wi: &lt;http://www.inmindcomputing.com/application/workItem-implementation.owl#&gt;
PREFIX pcs: &lt;http://www.inmindcomputing.com/application/products/products-schema.owl#&gt;
PREFIX ai: &lt;http://www.inmindcomputing.com/application/application-implementation.owl#&gt;
PREFIX pci: &lt;http://www.inmindcomputing.com/application/products/products-implementation.owl#&gt;
CONSTRUCT
{
   ?daResult ps:usesSymbolicValue ?symValue.
}
 WHERE {
   ?quote rdf:type ps:ActiveObject .
   ?quote rdf:type as:Quote .
   ?salesItem as:salesItemIncludedBy+ ?quote.
   ?salesItem as:isProduct pci:Infield.

   ?salesItem as:includesConfigItem ?configItem.

   ?da ps:isDynamicAttribute pci:InfieldPipeClass.
   ?daResult ps:isDynamicAttribute pci:OnlineconFlow.
   ?configItem ps:includesDynamicAttribute ?da,?daResult .
   ?da ps:usesSymbolicValue/as:attributionFactor ?pipeDiameter.


   ?daResult ps:includesAttributeRange ?range.
   ?range ps:includesSymbolicValue ?symValue .
   ?symValue as:attributionFactor ?factor .


   FILTER(?factor = ?pipeDiameter)

}ORDER BY DESC(?factor)

</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_ONLINE_LATERAL_DIAMETER</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_ONLINE_LATERAL_DIAMETER</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_ONLINE_LATERAL_DIAMETER</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_PIPE_SUBMAINTYPE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_PIPE_SUBMAINTYPE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{

   ?valueThatHidesOtherValue ps:hidesSymbolicValue ?flexnet.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue ?flexnetHp.
}

WHERE
{
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Submain.
   ?infieldSi as:isProduct pci:Infield.

   ?daSubmainType ps:isDynamicAttribute pci:SubmainType .
   ?daPipe ps:isDynamicAttribute pci:InfieldPipeClass.

   ?flexnet ps:isSymbolicValue pci:Flexnet.
   ?flexnetHp ps:isSymbolicValue pci:FlexnetHp.


   ?subject ps:includesDynamicAttribute ?daSubmainType.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?mainSi as:includesSalesItem ?infieldSi.
   ?infieldSi as:includesConfigItem ?infieldConfig.
   ?infieldConfig ps:includesDynamicAttribute ?daPipe.

   ?daPipe ps:usesSymbolicValue ?valueThatHidesOtherValue .
   ?valueThatHidesOtherValue  as:attributionFactor ?flow.

   ?daSubmainType ps:includesAttributeRange ?range .
   ?range ps:includesSymbolicValue ?flexnet .
   ?range ps:includesSymbolicValue ?flexnetHp .
   FILTER(?flow &gt;40)
}
</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_PIPE_SUBMAINTYPE</ps:objectName>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_PIPE_SUBMAINTYPE</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_PIPE_SUBMAINTYPE</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SECFILTRATION_MODERATE -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SECFILTRATION_MODERATE">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?moderateFlowAttribute ps:usesSymbolicValue ?symValue.
}
WHERE {
   ?filterProduct as:isProduct pci:Filtration .

   ?moderateFlowAttribute ps:isDynamicAttribute pci:FtSecmoderateFlowAuto .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtBackupFilterRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtSecondaymanufactured .
   ?waterQualityAttribute ps:isDynamicAttribute pci:FtWaterQuality .
   ?methodAttribute ps:isDynamicAttribute pci:FtSecondaryfilterSelection .


   ?filterProduct as:includesConfigItem ?ftConfig .


   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?ftConfig ps:includesDynamicAttribute ?ftTypeAttribute .

   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?ftConfig ps:includesDynamicAttribute ?manufacturedAttribute .

   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?ftConfig ps:includesDynamicAttribute ?methodAttribute .
   ?methodValue ps:isSymbolicValue pci:FtSecondaryAuto.



   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .
   ?ftConfig ps:includesDynamicAttribute ?waterQualityAttribute .
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterModerate.

   ?ftConfig pcs:filterMaxShiftFlowRate ?flow .


   ?ftConfig ps:includesDynamicAttribute ?moderateFlowAttribute .

   ?moderateFlowValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?ftTypeValue ps:isSymbolicValue/^ps:isSymbolicValue ?ftType .
   ?manufacturedValue ps:isSymbolicValue/^ps:isSymbolicValue ?manufactured .


   ?waterQualityValue ps:isSymbolicValue/^ps:isSymbolicValue ?waterQuality .
   ?entry ^as:usesBOMEntry ?symValue, ?ftType, ?manufactured, ?method, ?waterQuality .

   FILTER EXISTS{
      ?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?moderateFlowAttribute .
   }

   ?ftConfig as:includesBOM/as:includesBOMEntry ?entry .
   ?symValue as:attributionFactor ?factor .
   FILTER(?factor &gt;= ?flow)

}ORDER BY (?factor) LIMIT 1</ps:sparql>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE</ps:objectExternalId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SECFILTRATION_MODERATE_DESC -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SECFILTRATION_MODERATE_DESC">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1100</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
  ?descriptionAttribute ps:usesSymbolicValue ?symValue.
}
WHERE {
   ?filterProduct as:isProduct pci:Filtration .

   ?moderateFlowAttribute ps:isDynamicAttribute pci:FtSecmoderateFlowAuto .
  ?descriptionAttribute ps:isDynamicAttribute pci:FtSecDescriptionAuto .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtBackupFilterRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtSecondaymanufactured .
   ?waterQualityAttribute ps:isDynamicAttribute pci:FtWaterQuality .
   ?methodAttribute ps:isDynamicAttribute pci:FtSecondaryfilterSelection .


   ?filterProduct as:includesConfigItem ?ftConfig .


   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?ftConfig ps:includesDynamicAttribute ?ftTypeAttribute .

   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?ftConfig ps:includesDynamicAttribute ?manufacturedAttribute .

   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?ftConfig ps:includesDynamicAttribute ?methodAttribute .
   ?methodValue ps:isSymbolicValue pci:FtSecondaryAuto.



   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .
   ?ftConfig ps:includesDynamicAttribute ?waterQualityAttribute .
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterModerate.



   ?moderateFlowAttribute ps:usesSymbolicValue ?flowValue .
   ?ftConfig ps:includesDynamicAttribute ?moderateFlowAttribute .

   ?ftConfig ps:includesDynamicAttribute ?descriptionAttribute .


   ?descriptionValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?ftTypeValue ps:isSymbolicValue/^ps:isSymbolicValue ?ftType .
   ?manufacturedValue ps:isSymbolicValue/^ps:isSymbolicValue ?manufactured .
   ?flowValue ps:isSymbolicValue/^ps:isSymbolicValue ?flow .


   ?waterQualityValue ps:isSymbolicValue/^ps:isSymbolicValue ?waterQuality .
   ?entry ^as:usesBOMEntry ?symValue, ?ftType, ?manufactured, ?method, ?waterQuality, ?flow .

   FILTER EXISTS{
      ?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?descriptionAttribute .
   }

   ?ftConfig as:includesBOM/as:includesBOMEntry ?entry .
}</ps:sparql>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE_DESC</ps:objectId>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE_DESC</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_MODERATE_DESC</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SECFILTRATION_POOR -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SECFILTRATION_POOR">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
   ?poorFlowAttribute ps:usesSymbolicValue ?symValue.
}
WHERE {
   ?filterProduct as:isProduct pci:Filtration .

   ?poorFlowAttribute ps:isDynamicAttribute pci:FtSecpoorFlowAuto .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtBackupFilterRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtSecondaymanufactured .
   ?waterQualityAttribute ps:isDynamicAttribute pci:FtWaterQuality .
   ?methodAttribute ps:isDynamicAttribute pci:FtSecondaryfilterSelection .


   ?filterProduct as:includesConfigItem ?ftConfig .


   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?ftConfig ps:includesDynamicAttribute ?ftTypeAttribute .

   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?ftConfig ps:includesDynamicAttribute ?manufacturedAttribute .

   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?ftConfig ps:includesDynamicAttribute ?methodAttribute .
   ?methodValue ps:isSymbolicValue pci:FtSecondaryAuto.



   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .
   ?ftConfig ps:includesDynamicAttribute ?waterQualityAttribute .
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterPoor.

   ?ftConfig pcs:filterMaxShiftFlowRate ?flow .


   ?ftConfig ps:includesDynamicAttribute ?poorFlowAttribute .

   ?moderateFlowValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?ftTypeValue ps:isSymbolicValue/^ps:isSymbolicValue ?ftType .
   ?manufacturedValue ps:isSymbolicValue/^ps:isSymbolicValue ?manufactured .


   ?waterQualityValue ps:isSymbolicValue/^ps:isSymbolicValue ?waterQuality .
   ?entry ^as:usesBOMEntry ?symValue, ?ftType, ?manufactured, ?method, ?waterQuality .

   FILTER EXISTS{
      ?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?poorFlowAttribute .
   }

   ?ftConfig as:includesBOM/as:includesBOMEntry ?entry .
   ?symValue as:attributionFactor ?factor .
   FILTER(?factor &gt;= ?flow)

}ORDER BY (?factor) LIMIT 1</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SECFILTRATION_POOR_DESC -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SECFILTRATION_POOR_DESC">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1100</ps:sequenceID>
        <ps:triggeredSparQLStage rdf:datatype="&xsd;string">AFTER_SPARQL_CHAIN</ps:triggeredSparQLStage>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{
  ?descriptionAttribute ps:usesSymbolicValue ?symValue.
}
WHERE {
   ?filterProduct as:isProduct pci:Filtration .

   ?poorFlowAttribute ps:isDynamicAttribute pci:FtSecpoorFlowAuto .
  ?descriptionAttribute ps:isDynamicAttribute pci:FtSecDescriptionAuto .
   ?ftTypeAttribute ps:isDynamicAttribute pci:FtBackupFilterRequired .
   ?manufacturedAttribute ps:isDynamicAttribute pci:FtSecondaymanufactured .
   ?waterQualityAttribute ps:isDynamicAttribute pci:FtWaterQuality .
   ?methodAttribute ps:isDynamicAttribute pci:FtSecondaryfilterSelection .


   ?filterProduct as:includesConfigItem ?ftConfig .


   ?ftTypeAttribute ps:usesSymbolicValue ?ftTypeValue .
   ?ftConfig ps:includesDynamicAttribute ?ftTypeAttribute .

   ?manufacturedAttribute ps:usesSymbolicValue ?manufacturedValue .
   ?ftConfig ps:includesDynamicAttribute ?manufacturedAttribute .

   ?methodAttribute ps:usesSymbolicValue ?methodValue .
   ?ftConfig ps:includesDynamicAttribute ?methodAttribute .
   ?methodValue ps:isSymbolicValue pci:FtSecondaryAuto.



   ?waterQualityAttribute ps:usesSymbolicValue ?waterQualityValue .
   ?ftConfig ps:includesDynamicAttribute ?waterQualityAttribute .
   ?waterQualityValue ps:isSymbolicValue pci:FtWaterPoor.



   ?poorFlowAttribute ps:usesSymbolicValue ?flowValue .
   ?ftConfig ps:includesDynamicAttribute ?poorFlowAttribute .

   ?ftConfig ps:includesDynamicAttribute ?descriptionAttribute .


   ?descriptionValue ps:isSymbolicValue/^ps:isSymbolicValue ?symValue .
   ?ftTypeValue ps:isSymbolicValue/^ps:isSymbolicValue ?ftType .
   ?manufacturedValue ps:isSymbolicValue/^ps:isSymbolicValue ?manufactured .
   ?flowValue ps:isSymbolicValue/^ps:isSymbolicValue ?flow .


   ?waterQualityValue ps:isSymbolicValue/^ps:isSymbolicValue ?waterQuality .
   ?entry ^as:usesBOMEntry ?symValue, ?ftType, ?manufactured, ?method, ?waterQuality, ?flow .

   FILTER EXISTS{
      ?symValue ^(ps:includesAttributeRange/ps:includesSymbolicValue) ?descriptionAttribute .
   }

   ?ftConfig as:includesBOM/as:includesBOMEntry ?entry .
}</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR_DESC</ps:objectExternalId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR_DESC</ps:objectName>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_SECFILTRATION_POOR_DESC</ps:objectId>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SPRINKLER_PIPECLASS -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SPRINKLER_PIPECLASS">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">CONSTRUCT
{

   ?valueThatHidesOtherValue ps:hidesSymbolicValue?online1 .
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?online2.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?online3.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?online4.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow400pipe1.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow400pipe2.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow400pipe3.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow400pipe4.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow400pipe5.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow1500pipe1.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow1500pipe2.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow1500pipe3.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?flow1500pipe4.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?fxn2.
   ?valueThatHidesOtherValue ps:hidesSymbolicValue?fxn3.

}

WHERE
{
   ?mainSi as:isProduct pci:OpenFieldProject.
   ?salesItem as:isProduct pci:Infield.
   ?da1 ps:isDynamicAttribute pci:InfieldEmitterNominalFlowRate.
   ?daEmitter ps:isDynamicAttribute pci:InfieldLateralType .
   ?daResult ps:isDynamicAttribute pci:InfieldPipeClass.
   ?sprinkler ps:isSymbolicValue pci:Sprinklers.


   ?online1 ps:isSymbolicValue pci:Pe164100m .
   ?online2 ps:isSymbolicValue pci:Pe204100m .
   ?online3 ps:isSymbolicValue pci:Pe254100m .
   ?online4 ps:isSymbolicValue pci:Pe324100m .
   ?flow400pipe1 ps:isSymbolicValue pci:Pe40020.
   ?flow400pipe2 ps:isSymbolicValue pci:Pe40025.
   ?flow400pipe3 ps:isSymbolicValue pci:Pe40032.
   ?flow400pipe4 ps:isSymbolicValue pci:Pe40040.
   ?flow400pipe5 ps:isSymbolicValue pci:Pe40050.
   ?flow1500pipe1 ps:isSymbolicValue pci:Pe150040.
   ?flow1500pipe2 ps:isSymbolicValue pci:Pe150050.
   ?flow1500pipe3 ps:isSymbolicValue pci:Pe150075.
   ?flow1500pipe4 ps:isSymbolicValue pci:Pe150063.
   ?fxn2 ps:isSymbolicValue pci:Fxn2inch.
   ?fxn3 ps:isSymbolicValue pci:Fxn3inch.


   ?subject ps:includesDynamicAttribute ?da1,?daResult,?daEmitter.
   ?daEmitter ps:usesSymbolicValue ?sprinkler .
   ?da1 ps:usesSymbolicValue ?valueThatHidesOtherValue .
   ?valueThatHidesOtherValue  as:attributionFactor ?flow.
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?mainSi.
   ?daResult ps:includesAttributeRange ?range .


   ?range ps:includesSymbolicValue ?online1 .
   ?range ps:includesSymbolicValue ?online2 .
   ?range ps:includesSymbolicValue ?online3 .
   ?range ps:includesSymbolicValue ?online4 .
   ?range ps:includesSymbolicValue ?flow400pipe1 .
   ?range ps:includesSymbolicValue ?flow400pipe2 .
   ?range ps:includesSymbolicValue ?flow400pipe3 .
   ?range ps:includesSymbolicValue ?flow400pipe4 .
   ?range ps:includesSymbolicValue ?flow400pipe5 .
   ?range ps:includesSymbolicValue ?flow1500pipe1 .
   ?range ps:includesSymbolicValue ?flow1500pipe2 .
   ?range ps:includesSymbolicValue ?flow1500pipe3 .
   ?range ps:includesSymbolicValue ?flow1500pipe4 .
   ?range ps:includesSymbolicValue ?fxn2 .
   ?range ps:includesSymbolicValue ?fxn3 .


   FILTER(?flow =35)
}
</ps:sparql>
        <ps:objectExternalId rdf:datatype="&xsd;string">TRIGGERED_SPRINKLER_PIPECLASS</ps:objectExternalId>
        <ps:objectId rdf:datatype="&xsd;string">TRIGGERED_SPRINKLER_PIPECLASS</ps:objectId>
        <ps:objectName rdf:datatype="&xsd;string">TRIGGERED_SPRINKLER_PIPECLASS</ps:objectName>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SUBMAIN_MANUAL1 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SUBMAIN_MANUAL1">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">

    CONSTRUCT
{
   ?da ps:dynamicAttributeReadOnly true.
}
where{

   ?salesItem as:isProduct pci:Submain.

   ?salesItem as:includesConfigItem ?configItem.
   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?manual.
   ?manual ps:isSymbolicValue pci:SubmainManual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.


   ?configItem ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?val1.
   ?da1 ps:isDynamicAttribute pci:SubmainDiameter1.



   }

    </ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SUBMAIN_MANUAL2 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SUBMAIN_MANUAL2">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">

    CONSTRUCT
{
   ?da ps:dynamicAttributeReadOnly true.
}
where{

   ?salesItem as:isProduct pci:Submain.

   ?salesItem as:includesConfigItem ?configItem.
   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?manual.
   ?manual ps:isSymbolicValue pci:SubmainManual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.


   ?configItem ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?val1.
   ?da1 ps:isDynamicAttribute pci:SubmainDiameter2.



   }

    </ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#TRIGGERED_SUBMAIN_MANUAL3 -->

    <owl:NamedIndividual rdf:about="&pcs;TRIGGERED_SUBMAIN_MANUAL3">
        <rdf:type rdf:resource="&ps;TriggeredCalculation"/>
        <ps:sparql rdf:datatype="&xsd;string">

    CONSTRUCT
{
   ?da ps:dynamicAttributeReadOnly true.
}
where{

   ?salesItem as:isProduct pci:Submain.

   ?salesItem as:includesConfigItem ?configItem.
   ?configItem ps:includesDynamicAttribute ?da.
   ?da ps:usesSymbolicValue ?manual.
   ?manual ps:isSymbolicValue pci:SubmainManual.
   ?da ps:isDynamicAttribute pci:SubmainInsertManually.


   ?configItem ps:includesDynamicAttribute ?da1.
   ?da1 ps:usesSymbolicValue ?val1.
   ?da1 ps:isDynamicAttribute pci:SubmainDiameter3.



   }

    </ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1001</ps:sequenceID>
        <ps:graphSelection rdf:datatype="&xsd;string">USER_AND_CALC</ps:graphSelection>
        <ps:forType rdf:datatype="&xsd;string">as:Quote</ps:forType>
        <ps:deleteAllowed rdf:datatype="&xsd;boolean">false</ps:deleteAllowed>
    </owl:NamedIndividual>
</rdf:RDF>



<!-- Generated by the OWL API (version 3.4.2) http://owlapi.sourceforge.net -->

