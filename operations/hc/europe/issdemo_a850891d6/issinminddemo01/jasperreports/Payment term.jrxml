<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.4.3.final using JasperReports Library version 6.4.3  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="quote" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0" isFloatColumnFooter="true" uuid="bb0d1098-0e3d-4574-89bb-b8d8e056d41c">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="net.sf.jasperreports.awt.ignore.missing.font" value="true"/>
	<property name="ireport.zoom" value="3.2210200000000104"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="336"/>
	<import value="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<import value="java.util.GregorianCalendar"/>
	<import value="com.imc.vocabulary.Schema"/>
	<import value="com.imc.vocabulary.Schema"/>
	<import value="com.imc.datamodel.BusinessObject"/>
	<style name="baseStyle" fontName="Arial Unicode MS"/>
	<style name="default" isDefault="true" fontName="Arial"/>
	<subDataset name="additionalItemDS" uuid="a7729f67-416f-4b76-b284-39bfe9d6c4b8">
		<parameter name="additionalItems" class="java.util.Set"/>
		<parameter name="additionalItemPrice" class="java.util.List"/>
		<field name="_THIS" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
		<variable name="putAdditionalItemPrice" class="java.lang.String">
			<variableExpression><![CDATA["";final StringBuilder sb = new java.lang.StringBuilder();

Iterator<?> iterator = ($F{_THIS}.getAttributeLongValue("objectName").values()).iterator();
while(iterator.hasNext()) { sb.append((String)iterator.next());}

int originalSize = $P{additionalItems}.size();
$P{additionalItems}.add(sb.toString());

if (originalSize != $P{additionalItems}.size()) {
		String str = sb.toString().startsWith("<br>")? sb.toString().replaceFirst("<br>", ""): sb.toString();
		Map individualMap = new HashMap<String, Object>(); individualMap.put("additionItem", str); 
		individualMap.put("price", $F{_THIS}.getAttributeValue("includesPriceItem", "priceItemBaseAmount")); 
		$P{additionalItemPrice}.add(individualMap);
}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="additionalItemPriceDS" uuid="98baa442-3834-4cab-86e4-221b0fc659a0">
		<field name="additionItem" class="java.lang.String"/>
		<field name="price" class="java.math.BigDecimal"/>
	</subDataset>
	<subDataset name="optionalDS" uuid="51f79c0d-79b8-465f-a02b-404a30e35627">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="_THIS" class="java.lang.String"/>
		<field name="btshorttext" class="java.lang.String"/>
		<field name="qty" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="unitPriceDisc" class="java.lang.String"/>
	</subDataset>
	<subDataset name="Empty Dataset1" uuid="deb60e82-6a18-4a1d-a0bd-acf8e7e96412"/>
	<parameter name="Quote" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<parameter name="additionalItemPrice" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList<Map<String,Object>>();]]></defaultValueExpression>
	</parameter>
	<parameter name="additionalItems" class="java.util.Set">
		<defaultValueExpression><![CDATA[new HashSet<String>()]]></defaultValueExpression>
	</parameter>
	<parameter name="optionalItems" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList()]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter1" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter2" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="CMIS" class="java.lang.String"/>
	<field name="SalesItem" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<variable name="contactTitle" class="com.imc.datamodel.transferobjects.BusinessObjectDTO">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasTitle")]]></variableExpression>
	</variable>
	<variable name="contactGender" class="com.imc.datamodel.BusinessObject">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasGender")]]></variableExpression>
	</variable>
	<variable name="contactFirstName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personFirstName")]]></variableExpression>
	</variable>
	<variable name="contactLastName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personLastName")]]></variableExpression>
	</variable>
	<variable name="documentHeaderPriceAfterItemDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceAfterItemDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderPrice" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPrice").toString())]]></variableExpression>
	</variable>
	<variable name="quoteCurrency" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("hasCurrency", "objectId")]]></variableExpression>
	</variable>
	<variable name="currencyFormatter" class="java.text.DecimalFormat">
		<variableExpression><![CDATA[(DecimalFormat) NumberFormat.getCurrencyInstance($P{REPORT_LOCALE});
DecimalFormatSymbols symbols = ((java.text.DecimalFormat)value).getDecimalFormatSymbols();
symbols.setCurrencySymbol("");
((java.text.DecimalFormat)value).setDecimalFormatSymbols(symbols)]]></variableExpression>
	</variable>
	<variable name="putOptionalItem" class="java.lang.String">
		<variableExpression><![CDATA["";if (!(Boolean)$F{SalesItem}.getAttributeValue("salesItemOptional")) {

int originalSize = $P{Parameter1}.size();

$P{Parameter1}.put($F{SalesItem}.getAttributeValue("objectName").toString(), "");
if ($P{Parameter1}.size() != originalSize) {

Map individualMap = new HashMap<String, Object>();
individualMap.put("btshorttext",$F{SalesItem}.getAttributeValue("objectName").toString());
individualMap.put("qty",$F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderQuantity"));
individualMap.put("unitPriceDisc",$V{quoteCurrency} + " " + $V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderUnitPrice").toString())));
$P{optionalItems}.add(individualMap);
}
}]]></variableExpression>
	</variable>
	<group name="TOTAL_GROUP">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band height="337">
				<staticText>
					<reportElement x="33" y="0" width="217" height="24" forecolor="#8FAEC1" uuid="35dee181-0eda-4ccd-b9f6-36dd8d2292c7">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[Executive summary]]></text>
				</staticText>
				<textField>
					<reportElement x="220" y="285" width="131" height="41" uuid="f3dcea3b-bfc9-4238-baba-f7e32e294c9b"/>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("hasPaymentTerms","objectName")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="33" y="25" width="497" height="70" forecolor="#58595B" uuid="a89f9ae0-860b-41cf-a8c7-efe7ffde209c"/>
					<textElement markup="html">
						<font size="11"/>
					</textElement>
					<textFieldExpression><![CDATA[($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+" is considered one of the world’s leading young universities and is ranked among the top 300 universities in the world by the 2015 Times Higher Education rankings. To augment and improve upon its international standing"+ ($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+"must continue to provide its researchers, teaching staff and students with access to the worlds’ leading research."]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="33" y="97" width="497" height="103" forecolor="#58595B" uuid="8a8256a8-6f40-4e27-80ea-0b3d78a2f966"/>
					<textElement markup="html">
						<font size="11"/>
					</textElement>
					<textFieldExpression><![CDATA["This proposal offers best value options for "+($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+" to gain access to the full breadth of the Springer Nature journal portfolio. For"+ $P{Quote}.getAttributeValue("hasTargetCurrency", "objectId")+" "+$V{currencyFormatter}.format(new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceAfterExchangeRate").toString()))]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="190" y="219" width="100" height="30" uuid="caa40277-0a22-4da8-9834-3e8420583b02"/>
					<textElement markup="html"/>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("hasTargetCurrency", "objectId")+" "+
$V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderTotalPrice").toString()))]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="298" y="244" width="100" height="30" uuid="c88b01d0-f4b1-4988-9be8-21e3751464fa"/>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderTotalPrice").toString()]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="410" y="249" width="100" height="30" uuid="56d29d8b-f36a-4c70-8097-7f0151f11d22"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$F{SalesItem}.getAttributeValue("Currency")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="298" y="214" width="100" height="30" uuid="8bd950ff-bb4f-444b-80a0-71747ce4a599"/>
					<textFieldExpression><![CDATA[$V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderTotalPrice").toString()))]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="190" y="249" width="100" height="30" uuid="51bc726b-8cbb-412c-a74c-7acf82decc4a"/>
					<textFieldExpression><![CDATA[$V{quoteCurrency} + " " + $V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderTotalPrice").toString()))]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="410" y="219" width="75" height="30" uuid="d4578fef-15b8-4ea3-bf55-d215bd72dea0"/>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$V{quoteCurrency}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="50" y="255" width="100" height="30" uuid="63794142-959e-4db0-b46b-60d90a05602e"/>
					<box>
						<pen lineColor="#000000"/>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$F{SalesItem}.getAttributeValue("Payment Terms")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="50" y="214" width="121" height="41" uuid="384abe03-d1dd-4604-9cbc-1d4f884952f5"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("Payment Terms")]]></textFieldExpression>
				</textField>
				<break>
					<reportElement x="0" y="332" width="100" height="1" uuid="02f8a49b-55ae-4272-ad4d-fa8122be5a02"/>
				</break>
			</band>
			<band height="410">
				<staticText>
					<reportElement x="33" y="8" width="316" height="24" forecolor="#8FAEC1" uuid="8842d4e5-ce44-44d9-810a-b38f598ea02a">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[Springer Nature 2018 Journal Packages

]]></text>
				</staticText>
				<staticText>
					<reportElement x="33" y="32" width="306" height="24" forecolor="#486A7E" uuid="38ac80a4-73ab-4980-9a6d-e1c819752d48">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Springer Nature Legacy Sets
]]></text>
				</staticText>
				<image scaleImage="FillFrame">
					<reportElement x="32" y="60" width="500" height="162" uuid="8f28d0af-5a2d-456f-843c-88a382783332">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<imageExpression><![CDATA[$P{CMIS} + "/logos/springernaturelegacysets.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement x="32" y="222" width="499" height="77" forecolor="#58595B" uuid="8aba540a-83d5-46c1-8c56-b9f024d55702"/>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("SNLS_custom")]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="32" y="299" width="499" height="70" forecolor="#58595B" uuid="0f77a8cd-eb98-45fb-8e00-1fc7cf912ebb"/>
					<text><![CDATA[Benefits of Springer Nature Legacy:
	Secure your investment in a renewable, fixed set
	Tailored to your institution’s and/or consortium’s list
	Predictable, stable increases
	Rights and access consistent with your current agreement 

]]></text>
				</staticText>
				<staticText>
					<reportElement x="32" y="371" width="498" height="31" forecolor="#58595B" uuid="86817a05-93bb-4bf8-a925-5a466b117ec6"/>
					<textElement>
						<font isItalic="true"/>
					</textElement>
					<text><![CDATA[Note: Single-title licenses are still available as per attributes noted previously and may always be used for single-year licenses and/or individual title upsells]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="12"/>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<pageHeader>
		<band height="40">
			<image scaleImage="RealHeight" hAlign="Left">
				<reportElement stretchType="RelativeToTallestObject" x="408" y="10" width="147" height="20" uuid="b3a1bcf7-2b6b-4734-ad8a-27512da2d136">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<imageExpression><![CDATA[$P{CMIS} + "/logos/springer.jpg"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band/>
	</detail>
	<pageFooter>
		<band height="35">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textFieldCurrentPage" x="441" y="10" width="114" height="13" isRemoveLineWhenBlank="true" forecolor="#848A8F" backcolor="#FFFFFF" uuid="dd5d313a-5b7d-41c9-a8c0-b886a35190f3"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{page.page}+" "+$V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band>
			<printWhenExpression><![CDATA[new Boolean($P{REPORT_PARAMETERS_MAP}.put("LastPageNumber",$V{PAGE_NUMBER}).equals("dummyPrintWhen"))]]></printWhenExpression>
		</band>
	</summary>
</jasperReport>
