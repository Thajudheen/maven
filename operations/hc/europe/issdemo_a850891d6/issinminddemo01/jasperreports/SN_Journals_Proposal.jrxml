<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.4.3.final using JasperReports Library version 6.4.3  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="quote" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0" isFloatColumnFooter="true" uuid="bb0d1098-0e3d-4574-89bb-b8d8e056d41c">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="net.sf.jasperreports.awt.ignore.missing.font" value="true"/>
	<property name="ireport.zoom" value="3.2210200000000104"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="336"/>
	<import value="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<import value="java.util.GregorianCalendar"/>
	<import value="com.imc.vocabulary.Schema"/>
	<import value="com.imc.vocabulary.Schema"/>
	<import value="com.imc.datamodel.BusinessObject"/>
	<style name="baseStyle" fontName="Arial Unicode MS"/>
	<style name="default" isDefault="true" fontName="Arial"/>
	<subDataset name="additionalItemDS" uuid="a7729f67-416f-4b76-b284-39bfe9d6c4b8">
		<parameter name="additionalItems" class="java.util.Set"/>
		<parameter name="additionalItemPrice" class="java.util.List"/>
		<field name="_THIS" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
		<variable name="putAdditionalItemPrice" class="java.lang.String">
			<variableExpression><![CDATA["";final StringBuilder sb = new java.lang.StringBuilder();

Iterator<?> iterator = ($F{_THIS}.getAttributeLongValue("objectName").values()).iterator();
while(iterator.hasNext()) { sb.append((String)iterator.next());}

int originalSize = $P{additionalItems}.size();
$P{additionalItems}.add(sb.toString());

if (originalSize != $P{additionalItems}.size()) {
		String str = sb.toString().startsWith("<br>")? sb.toString().replaceFirst("<br>", ""): sb.toString();
		Map individualMap = new HashMap<String, Object>(); individualMap.put("additionItem", str); 
		individualMap.put("price", $F{_THIS}.getAttributeValue("includesPriceItem", "priceItemBaseAmount")); 
		$P{additionalItemPrice}.add(individualMap);
}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="additionalItemPriceDS" uuid="98baa442-3834-4cab-86e4-221b0fc659a0">
		<field name="additionItem" class="java.lang.String"/>
		<field name="price" class="java.math.BigDecimal"/>
	</subDataset>
	<subDataset name="optionalDS" uuid="51f79c0d-79b8-465f-a02b-404a30e35627">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="_THIS" class="java.lang.String"/>
		<field name="btshorttext" class="java.lang.String"/>
		<field name="qty" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="unitPriceDisc" class="java.lang.String"/>
	</subDataset>
	<subDataset name="Empty Dataset1" uuid="deb60e82-6a18-4a1d-a0bd-acf8e7e96412"/>
	<parameter name="Quote" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<parameter name="additionalItemPrice" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList<Map<String,Object>>();]]></defaultValueExpression>
	</parameter>
	<parameter name="additionalItems" class="java.util.Set">
		<defaultValueExpression><![CDATA[new HashSet<String>()]]></defaultValueExpression>
	</parameter>
	<parameter name="optionalItems" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList()]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter1" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter2" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="CMIS" class="java.lang.String"/>
	<field name="SalesItem" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<variable name="contactTitle" class="com.imc.datamodel.transferobjects.BusinessObjectDTO">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasTitle")]]></variableExpression>
	</variable>
	<variable name="contactGender" class="com.imc.datamodel.BusinessObject">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasGender")]]></variableExpression>
	</variable>
	<variable name="contactFirstName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personFirstName")]]></variableExpression>
	</variable>
	<variable name="contactLastName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personLastName")]]></variableExpression>
	</variable>
	<variable name="documentHeaderPriceAfterItemDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceAfterItemDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderPrice" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPrice").toString())]]></variableExpression>
	</variable>
	<variable name="quoteCurrency" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("hasCurrency", "objectId")]]></variableExpression>
	</variable>
	<variable name="currencyFormatter" class="java.text.DecimalFormat">
		<variableExpression><![CDATA[(DecimalFormat) NumberFormat.getCurrencyInstance($P{REPORT_LOCALE});
DecimalFormatSymbols symbols = ((java.text.DecimalFormat)value).getDecimalFormatSymbols();
symbols.setCurrencySymbol("");
((java.text.DecimalFormat)value).setDecimalFormatSymbols(symbols)]]></variableExpression>
	</variable>
	<variable name="putOptionalItem" class="java.lang.String">
		<variableExpression><![CDATA["";if (!(Boolean)$F{SalesItem}.getAttributeValue("salesItemOptional")) {

int originalSize = $P{Parameter1}.size();

$P{Parameter1}.put($F{SalesItem}.getAttributeValue("objectName").toString(), "");
if ($P{Parameter1}.size() != originalSize) {

Map individualMap = new HashMap<String, Object>();
individualMap.put("btshorttext",$F{SalesItem}.getAttributeValue("objectName").toString());
individualMap.put("qty",$F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderQuantity"));
individualMap.put("unitPriceDisc",$V{quoteCurrency} + " " + $V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderUnitPrice").toString())));
$P{optionalItems}.add(individualMap);
}
}]]></variableExpression>
	</variable>
	<group name="TOTAL_GROUP">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band height="746">
				<break>
					<reportElement x="0" y="680" width="97" height="1" uuid="de2d56c7-2c52-4f17-833f-10c114c112fa"/>
				</break>
				<image hAlign="Center">
					<reportElement x="0" y="0" width="555" height="670" uuid="f0a9ebf3-949d-4e6f-91d0-dc0ce57f2b6f">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<imageExpression><![CDATA[$P{CMIS} + "/logos/springercoverpage.jpg"]]></imageExpression>
				</image>
				<textField>
					<reportElement x="44" y="430" width="176" height="19" forecolor="#FAFBFC" uuid="0933adcf-f20a-4412-ac62-db20adf683bc"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="11"/>
					</textElement>
					<textFieldExpression><![CDATA[new SimpleDateFormat("dd. MMMM yyyy", $P{REPORT_LOCALE}).format(new java.util.Date())]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="44" y="300" width="470" height="63" forecolor="#FFFCFC" uuid="9d7d77e7-5f86-4d19-bce8-91220de6b700"/>
					<textElement>
						<font fontName="Arial" size="26" isBold="true"/>
					</textElement>
					<text><![CDATA[Nature journals proposal 2018]]></text>
				</staticText>
				<textField>
					<reportElement x="44" y="232" width="380" height="40" forecolor="#FAFBFC" uuid="43140488-2801-4d0c-bea8-5d409739f9e0"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="11"/>
						<paragraph lineSpacing="1_1_2"/>
					</textElement>
					<textFieldExpression><![CDATA[($P{Quote}.getAttributeValue("quoteContainedBy", "objectName")).toString().toUpperCase()]]></textFieldExpression>
				</textField>
			</band>
			<band height="337">
				<staticText>
					<reportElement x="33" y="4" width="217" height="24" forecolor="#8FAEC1" uuid="35dee181-0eda-4ccd-b9f6-36dd8d2292c7">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[Executive summary]]></text>
				</staticText>
				<textField>
					<reportElement x="33" y="29" width="497" height="70" forecolor="#58595B" uuid="a89f9ae0-860b-41cf-a8c7-efe7ffde209c"/>
					<textElement markup="html">
						<font size="11"/>
					</textElement>
					<textFieldExpression><![CDATA[($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+" is considered one of the world’s leading young universities and is ranked among the top 300 universities in the world by the 2015 Times Higher Education rankings. To augment and improve upon its international standing"+ ($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+"must continue to provide its researchers, teaching staff and students with access to the worlds’ leading research."]]></textFieldExpression>
				</textField>
				<break>
					<reportElement x="0" y="332" width="100" height="1" uuid="02f8a49b-55ae-4272-ad4d-fa8122be5a02"/>
				</break>
				<textField>
					<reportElement x="32" y="104" width="497" height="70" forecolor="#58595B" uuid="5868f3c9-20e7-47c1-9650-29c0f70efa1c"/>
					<textElement markup="html">
						<font size="11"/>
					</textElement>
					<textFieldExpression><![CDATA[($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+" is considered one of the world’s leading young universities and is ranked among the top 300 universities in the world by the 2015 Times Higher Education rankings. To augment and improve upon its international standing"+ ($P{Quote}.getAttributeValue("quoteContainedBy", "objectName"))+"must continue to provide its researchers, teaching staff and students with access to the worlds’ leading research."]]></textFieldExpression>
				</textField>
			</band>
			<band height="410">
				<staticText>
					<reportElement x="33" y="8" width="316" height="24" forecolor="#8FAEC1" uuid="8842d4e5-ce44-44d9-810a-b38f598ea02a">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[Springer Nature 2018 Journal Packages

]]></text>
				</staticText>
				<staticText>
					<reportElement x="33" y="32" width="306" height="24" forecolor="#486A7E" uuid="38ac80a4-73ab-4980-9a6d-e1c819752d48">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Springer Nature Legacy Sets
]]></text>
				</staticText>
				<image scaleImage="FillFrame">
					<reportElement x="32" y="60" width="500" height="91" uuid="8f28d0af-5a2d-456f-843c-88a382783332">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<imageExpression><![CDATA[$P{CMIS} + "/logos/springernaturelegacysets.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement x="31" y="170" width="499" height="77" forecolor="#58595B" uuid="8aba540a-83d5-46c1-8c56-b9f024d55702"/>
					<textElement markup="html"/>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("SNLS_custom")]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="31" y="247" width="499" height="70" forecolor="#58595B" uuid="0f77a8cd-eb98-45fb-8e00-1fc7cf912ebb"/>
					<text><![CDATA[Benefits of Springer Nature Legacy:
	Secure your investment in a renewable, fixed set
	Tailored to your institution’s and/or consortium’s list
	Predictable, stable increases
	Rights and access consistent with your current agreement 

]]></text>
				</staticText>
				<staticText>
					<reportElement x="31" y="319" width="498" height="31" forecolor="#58595B" uuid="86817a05-93bb-4bf8-a925-5a466b117ec6"/>
					<textElement>
						<font isItalic="true"/>
					</textElement>
					<text><![CDATA[Note: Single-title licenses are still available as per attributes noted previously and may always be used for single-year licenses and/or individual title upsells]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="12"/>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<pageHeader>
		<band height="40">
			<image scaleImage="RealHeight" hAlign="Left">
				<reportElement stretchType="RelativeToTallestObject" x="408" y="10" width="147" height="20" uuid="b3a1bcf7-2b6b-4734-ad8a-27512da2d136">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<imageExpression><![CDATA[$P{CMIS} + "/logos/springer.jpg"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band/>
	</detail>
	<pageFooter>
		<band height="35">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textFieldCurrentPage" x="441" y="10" width="114" height="13" isRemoveLineWhenBlank="true" forecolor="#848A8F" backcolor="#FFFFFF" uuid="dd5d313a-5b7d-41c9-a8c0-b886a35190f3"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{page.page}+" "+$V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band>
			<printWhenExpression><![CDATA[new Boolean($P{REPORT_PARAMETERS_MAP}.put("LastPageNumber",$V{PAGE_NUMBER}).equals("dummyPrintWhen"))]]></printWhenExpression>
		</band>
	</summary>
</jasperReport>
