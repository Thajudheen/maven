<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.1.0.final using JasperReports Library version 6.1.0  -->
<!-- 2016-06-28T17:42:58 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="quote" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0" isFloatColumnFooter="true" uuid="bb0d1098-0e3d-4574-89bb-b8d8e056d41c">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="ireport.zoom" value="3.221020000000009"/>
	<property name="ireport.x" value="144"/>
	<property name="ireport.y" value="820"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<import value="com.imc.datamodel.BusinessObject"/>
	<import value="com.imc.vocabulary.Platform"/>
	<import value="java.util.GregorianCalendar"/>
	<import value="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<import value="com.imc.vocabulary.Application"/>
	<style name="default" forecolor="#000000" fontName="Arial" fontSize="20"/>
	<subDataset name="productImagesDS" uuid="98baa442-3834-4cab-86e4-221b0fc659a0">
		<parameter name="paramProductId" class="java.lang.String"/>
		<field name="_THIS" class="java.lang.String"/>
	</subDataset>
	<parameter name="CMIS" class="java.lang.String"/>
	<parameter name="Quote" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<parameter name="additionalItemPrice" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList<Map<String,Object>>();]]></defaultValueExpression>
	</parameter>
	<parameter name="additionalItems" class="java.util.Set">
		<defaultValueExpression><![CDATA[new HashSet<String>()]]></defaultValueExpression>
	</parameter>
	<parameter name="optionalItems" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList()]]></defaultValueExpression>
	</parameter>
	<parameter name="itemForText" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList()]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter1" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter2" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<field name="SalesItem" class="com.imc.datamodel.transferobjects.BusinessObjectDTO"/>
	<variable name="contactTitle" class="com.imc.datamodel.transferobjects.BusinessObjectDTO">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasTitle")]]></variableExpression>
	</variable>
	<variable name="contactGender" class="com.imc.datamodel.BusinessObject">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasGender")]]></variableExpression>
	</variable>
	<variable name="contactFirstName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personFirstName")]]></variableExpression>
	</variable>
	<variable name="contactLastName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personLastName")]]></variableExpression>
	</variable>
	<variable name="genderExternalId" class="java.lang.String">
		<variableExpression><![CDATA[($P{Quote}.getAttributeValue("usesPerson","hasGender","objectExternalId").toString())]]></variableExpression>
		<initialValueExpression><![CDATA[($P{Quote}.getAttributeValue("usesPerson","hasGender","objectExternalId").toString())]]></initialValueExpression>
	</variable>
	<variable name="contactTitleKeyword" class="java.lang.String">
		<variableExpression><![CDATA[$P{REPORT_LOCALE}.toString().startsWith("de") ? (($V{genderExternalId} == "MALE")? "geehrter ": (($V{genderExternalId} == "FEMALE")? "geehrte " : "geehrte/r ")) : ""]]></variableExpression>
	</variable>
	<variable name="documentHeaderPriceAfterItemDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceAfterItemDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderTotalDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderTotalDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderPriceBeforeDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceBeforeDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderPrice" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPrice").toString())]]></variableExpression>
	</variable>
	<variable name="quoteCurrency" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("hasBaseCurrency", "objectId")]]></variableExpression>
	</variable>
	<variable name="currencyFormatter" class="java.text.DecimalFormat">
		<variableExpression><![CDATA[(DecimalFormat) NumberFormat.getCurrencyInstance($P{REPORT_LOCALE});
DecimalFormatSymbols symbols = ((java.text.DecimalFormat)value).getDecimalFormatSymbols();
symbols.setCurrencySymbol("");
((java.text.DecimalFormat)value).setDecimalFormatSymbols(symbols)]]></variableExpression>
	</variable>
	<variable name="putOptionalItem" class="java.lang.String">
		<variableExpression><![CDATA["";if (!(Boolean)$F{SalesItem}.getAttributeValue("salesItemOptional")) {

int originalSize = $P{Parameter1}.size();

$P{Parameter1}.put($F{SalesItem}.getAttributeValue("objectName").toString(), "");
if ($P{Parameter1}.size() != originalSize) {

Map individualMap = new HashMap<String, Object>();
individualMap.put("btshorttext",$F{SalesItem}.getAttributeValue("objectName").toString());
individualMap.put("qty",$F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderQuantity"));
individualMap.put("unitPriceDisc",$V{quoteCurrency} + " " + $V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderUnitPrice").toString())));
$P{optionalItems}.add(individualMap);
}
}]]></variableExpression>
	</variable>
	<group name="TOTAL_GROUP">
		<groupExpression><![CDATA[]]></groupExpression>
	</group>
	<pageHeader>
		<band height="98">
			<textField isBlankWhenNull="true">
				<reportElement style="default" mode="Transparent" x="1" y="2" width="90" height="12" forecolor="#000000" uuid="73f5acce-aca9-4890-9822-690a5f52965f"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="10" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{page.created.for}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="txtAccountName" style="default" x="1" y="17" width="210" height="12" forecolor="#000000" uuid="00cdddd2-ac05-4a16-8bf8-a6d895b9161f"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("quoteContainedBy", "objectName")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement style="default" x="1" y="43" width="210" height="12" forecolor="#000000" uuid="e44d8eea-8525-426a-83bb-6da656a408ca"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("usesAddress", "addressStreet") + " " + ($P{Quote}.getAttributeValue("usesAddress", "addressUnitNo") == null ? "" : $P{Quote}.getAttributeValue("usesAddress", "addressUnitNo"))]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement style="default" x="1" y="55" width="210" height="12" forecolor="#000000" uuid="037d3483-c3b1-4e2f-bbf3-3e307b3a7934"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("usesAddress", "addressZip") + " " + $P{Quote}.getAttributeValue("usesAddress", "addressCity")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="4" width="51" height="12" forecolor="#000000" uuid="4c0bb06a-2339-47d7-be72-39c4df970f96"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.date.date}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="18" width="51" height="12" forecolor="#000000" uuid="f69a08a0-cedf-44b2-8fd9-f224917e7343"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.date.expiry}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="32" width="51" height="12" forecolor="#000000" uuid="d4a408d7-875d-46e5-ad93-3d7a91ecc11e"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.reference}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="46" width="51" height="12" forecolor="#000000" uuid="0030328a-6274-46b0-8310-9e8783f63c5c"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.creator}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="59" width="51" height="12" forecolor="#000000" uuid="844fb603-2d7a-426c-ac79-fe618c582584"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.email}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="320" y="72" width="51" height="12" forecolor="#000000" uuid="b9d5c9ac-f381-431e-8d75-f486e1369ea5"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{quote.label.phone}+":"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="375" y="4" width="180" height="12" forecolor="#000000" uuid="bc661e3e-112f-4593-960f-a8e6740e49f9"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format(new java.util.Date())]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="375" y="18" width="180" height="12" forecolor="#000000" uuid="fdd196cd-bb09-4a82-a7e8-56ae9a08333d"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format(((GregorianCalendar)$P{Quote}.getAttributeValue("salesDocumentDateOfExpiry")).getTime())]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="txtQuoteId" x="375" y="32" width="90" height="12" forecolor="#000000" uuid="076c6fb1-d45f-459f-a77e-4429011225eb"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("quoteId")+ "-" + $P{Quote}.getAttributeValue("salesDocumentVersion")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="txtCreatorName" x="375" y="46" width="180" height="12" forecolor="#000000" uuid="9f595493-30bf-4a43-a1a6-67819be70738"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personFirstName") + " " + $P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personLastName")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="375" y="59" width="180" height="12" forecolor="#000000" uuid="3e52a536-b23c-4428-8adf-cb3d7e511519"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personEmail")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="375" y="72" width="180" height="12" forecolor="#000000" uuid="fa7df818-d8d5-417e-8f95-cd808b8ee6ac"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personPhone")]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="-10" y="88" width="576" height="1" uuid="3023bd5e-6c60-4405-996f-e683895bf2bb">
					<printWhenExpression><![CDATA[new Boolean(!$V{PAGE_NUMBER}.equals(1))]]></printWhenExpression>
				</reportElement>
			</line>
			<textField>
				<reportElement x="1" y="30" width="201" height="12" uuid="b603bf09-52ec-446e-b05b-cbd3613df181">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson","hasTitle", "objectName") + " " + $P{Quote}.getAttributeValue("usesPerson","personFirstName") + " " + $P{Quote}.getAttributeValue("usesPerson","personLastName")]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="704" splitType="Prevent">
			<printWhenExpression><![CDATA[((java.util.List)$F{SalesItem}.getAttributeValues("isProduct", "productImage")).size() > 0]]></printWhenExpression>
			<componentElement>
				<reportElement x="0" y="5" width="551" height="674" uuid="403c1ca1-8041-4fd3-bbf8-29932dc7825b">
					<printWhenExpression><![CDATA[((java.util.List)$F{SalesItem}.getAttributeValues("isProduct", "productImage")).size() > 0]]></printWhenExpression>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="productImagesDS" uuid="ecbf5b5f-082c-4e25-9482-511e0c965cae">
						<datasetParameter name="paramProductId">
							<datasetParameterExpression><![CDATA[((BusinessObjectDTO)$F{SalesItem}.getAttributeValue("isProduct")).instance.getId().getFragment()]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{SalesItem}.getAttributeValues("isProduct", "productImage"))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="674" width="551">
						<textField>
							<reportElement x="541" y="0" width="10" height="30" forecolor="#FFFFFF" uuid="ea4d1e25-6ab8-496d-8cad-d76f05a17a45"/>
							<textFieldExpression><![CDATA[$F{_THIS}]]></textFieldExpression>
						</textField>
						<image onErrorType="Blank">
							<reportElement x="11" y="0" width="530" height="674" uuid="97e4ea5f-24b2-4a4c-a3b5-c052f97afe75"/>
							<imageExpression><![CDATA["https://issinmindprod01.inmindcloud.com/iss/webapp/images/" + $P{paramProductId} + "/" + $F{_THIS}]]></imageExpression>
						</image>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="20">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textFieldCurrentPage" x="440" y="0" width="114" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="685bf6e5-a680-45b6-b9bd-b93e76b721d4"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{page.page}+" "+$V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
