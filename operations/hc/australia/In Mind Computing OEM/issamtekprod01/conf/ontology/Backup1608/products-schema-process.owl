<?xml version="1.0"?>


<!DOCTYPE rdf:RDF [
    <!ENTITY owl "http://www.w3.org/2002/07/owl#" >
    <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
    <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
    <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
    <!ENTITY ps "http://www.inmindcomputing.com/platform/platform-schema.owl#" >
    <!ENTITY as "http://www.inmindcomputing.com/application/application-schema.owl#" >
    <!ENTITY pcsp "http://www.inmindcomputing.com/application/products/products-schema-process.owl#" >
]>


<rdf:RDF xmlns="http://www.inmindcomputing.com/application/products/products-schema-process.owl#"
     xml:base="http://www.inmindcomputing.com/application/products/products-schema-process.owl"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:pcsp="http://www.inmindcomputing.com/application/products/products-schema-process.owl#"
     xmlns:as="http://www.inmindcomputing.com/application/application-schema.owl#"
     xmlns:ps="http://www.inmindcomputing.com/platform/platform-schema.owl#"	 
	 xmlns:msu2018="http://MSURateUpdate2018#">
    <owl:Ontology rdf:about="http://www.inmindcomputing.com/application/products/products-schema-process.owl">
        <owl:imports rdf:resource="http://www.inmindcomputing.com/application/application-schema.owl"/>
        <owl:imports rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl"/>
    </owl:Ontology>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Annotation properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#costingRelevant -->

    <owl:AnnotationProperty rdf:about="&as;costingRelevant"/>
    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#costingRelevantSequence -->

    <owl:AnnotationProperty rdf:about="&as;costingRelevantSequence"/>
    


    <!-- http://www.inmindcomputing.com/platform/platform-schema.owl#enumerable -->

    <owl:AnnotationProperty rdf:about="&ps;enumerable"/>
    


    <!-- http://www.inmindcomputing.com/platform/platform-schema.owl#mandatory -->

    <owl:AnnotationProperty rdf:about="&ps;mandatory"/>
    


    <!-- http://www.inmindcomputing.com/platform/platform-schema.owl#readOnly -->

    <owl:AnnotationProperty rdf:about="&ps;readOnly"/>
    


    <!-- http://www.inmindcomputing.com/platform/platform-schema.owl#sparql -->

    <owl:AnnotationProperty rdf:about="&ps;sparql"/>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Object Properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant -->

    <owl:ObjectProperty rdf:about="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasColdForgingStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasColdForgingStation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Work Station (ColdForging)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:enumerable>true</ps:enumerable>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>11</as:costingRelevantSequence>
        <ps:mandatory>true</ps:mandatory>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ColdForgingProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;hasStation"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ColdForgingStation"/>
                    <owl:Restriction>
                        <owl:onProperty>
                            <rdf:Description>
                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#includesColdForgingStation"/>
                            </rdf:Description>
                        </owl:onProperty>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <rdf:Description rdf:about="&as;Plant"/>
                                    <owl:Restriction>
                                        <owl:onProperty>
                                            <rdf:Description>
                                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
                                            </rdf:Description>
                                        </owl:onProperty>
                                        <owl:someValuesFrom rdf:resource="&as;Quote"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </rdfs:range>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasDieCastingStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasDieCastingStation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Work Station (DieCasting)</rdfs:label>
        <ps:enumerable>true</ps:enumerable>
        <as:costingRelevantSequence>11</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:mandatory>true</ps:mandatory>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;hasStation"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingStation"/>
                    <owl:Restriction>
                        <owl:onProperty>
                            <rdf:Description>
                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#includesDieCastingStation"/>
                            </rdf:Description>
                        </owl:onProperty>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <rdf:Description rdf:about="&as;Plant"/>
                                    <owl:Restriction>
                                        <owl:onProperty>
                                            <rdf:Description>
                                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
                                            </rdf:Description>
                                        </owl:onProperty>
                                        <owl:someValuesFrom rdf:resource="&as;Quote"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </rdfs:range>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasMSURate -->

    <owl:ObjectProperty rdf:about="&pcsp;hasMSURate">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">MSU Rate</rdfs:label>
        <ps:enumerable>true</ps:enumerable>
        <ps:mandatory>true</ps:mandatory>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <rdfs:range rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#MSURate"/>
        <ps:defaultValue rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#MSU_RATE_A"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;has"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasProcessStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasProcessStation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Work Station (Process)</rdfs:label>
        <rdfs:label xml:lang="zh">工作设备 (加工工艺)</rdfs:label>
        <as:costingRelevantSequence>5</as:costingRelevantSequence>
        <ps:enumerable>true</ps:enumerable>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:comment>ProcessStation and inverse (includesProcessStation) some (Factory and inverse (zhasPlant) some (Quote and includesDocumentHeaderPriceItem some DocumentHeaderPriceItem))</rdfs:comment>
        <ps:mandatory>true</ps:mandatory>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;hasStation"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ProcessStation"/>
                    <owl:Restriction>
                        <owl:onProperty>
                            <rdf:Description>
                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#includesProcessStation"/>
                            </rdf:Description>
                        </owl:onProperty>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <rdf:Description rdf:about="&as;Plant"/>
                                    <owl:Restriction>
                                        <owl:onProperty>
                                            <rdf:Description>
                                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
                                            </rdf:Description>
                                        </owl:onProperty>
                                        <owl:someValuesFrom rdf:resource="&as;Quote"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </rdfs:range>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasSoftToolStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasSoftToolStation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Work Station (Soft Tool)</rdfs:label>
        <ps:enumerable>true</ps:enumerable>
        <ps:mandatory>true</ps:mandatory>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>11</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;hasStation"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolStation"/>
                    <owl:Restriction>
                        <owl:onProperty>
                            <rdf:Description>
                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#includesSoftToolStation"/>
                            </rdf:Description>
                        </owl:onProperty>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <rdf:Description rdf:about="&as;Plant"/>
                                    <owl:Restriction>
                                        <owl:onProperty>
                                            <rdf:Description>
                                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
                                            </rdf:Description>
                                        </owl:onProperty>
                                        <owl:someValuesFrom rdf:resource="&as;Quote"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </rdfs:range>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasStation">
        <rdfs:subPropertyOf rdf:resource="&ps;has"/>
    </owl:ObjectProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#hasWorkStation -->

    <owl:ObjectProperty rdf:about="&pcsp;hasWorkStation">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Work Station</rdfs:label>
        <rdfs:label xml:lang="zh">工作设备</rdfs:label>
        <ps:enumerable>true</ps:enumerable>
        <ps:mandatory>true</ps:mandatory>
        <rdfs:comment>StampingStation and inverse (includesWorkStation) some (Factory and inverse (zhasPlant) some (Quote and includesDocumentHeaderPriceItem some DocumentHeaderPriceItem))</rdfs:comment>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>2</as:costingRelevantSequence>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB2"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;hasStation"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingStation"/>
                    <owl:Restriction>
                        <owl:onProperty>
                            <rdf:Description>
                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#includesWorkStation"/>
                            </rdf:Description>
                        </owl:onProperty>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <rdf:Description rdf:about="&as;Plant"/>
                                    <owl:Restriction>
                                        <owl:onProperty>
                                            <rdf:Description>
                                                <owl:inverseOf rdf:resource="http://www.inmindcomputing.com/application/application-schema-ext.owl#zhasPlant"/>
                                            </rdf:Description>
                                        </owl:onProperty>
                                        <owl:someValuesFrom rdf:resource="&as;Quote"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </rdfs:range>
    </owl:ObjectProperty>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Data properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#dieCastingProcessStep -->

    <owl:DatatypeProperty rdf:about="&pcsp;dieCastingProcessStep">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Process After Die Casting</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">36</ps:sequenceID>
        <ps:enumerable>true</ps:enumerable>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
        <rdfs:range>
            <rdfs:Datatype>
                <owl:oneOf>
                    <rdf:Description>
                        <rdf:type rdf:resource="&rdf;List"/>
                        <rdf:first rdf:datatype="&xsd;string">Process1</rdf:first>
                        <rdf:rest>
                            <rdf:Description>
                                <rdf:type rdf:resource="&rdf;List"/>
                                <rdf:first rdf:datatype="&xsd;string">Process2</rdf:first>
                                <rdf:rest rdf:resource="&rdf;nil"/>
                            </rdf:Description>
                        </rdf:rest>
                    </rdf:Description>
                </owl:oneOf>
            </rdfs:Datatype>
        </rdfs:range>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#dieCastingWorkStationRateHrCurrency -->

    <owl:DatatypeProperty rdf:about="&pcsp;dieCastingWorkStationRateHrCurrency">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?dieCastingWorkStationRateHrCurrency
WHERE {
   ?subject  pcsp:hasStation ?ws .
 ?ws  pcs-kb:definesMSUCostPerHr ?costPerHr .
 ?subject  pcsp:hasMSURate ?rate .
  ?rate  pcs-kb:definesMSUCostPerHr ?costPerHr .
  ?costPerHr pcs-kb:processMSUCostPerHr ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:DieCastingProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
  ?quote rdf:type as:Quote .
   OPTIONAL{
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      }
    BIND ( IF ( EXISTS {
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
        ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      },
      xsd:decimal(?rawValue * (1/?rateValue)),
      ?rawValue) AS ?dieCastingWorkStationRateHrCurrency)

}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessCostPerSet -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessCostPerSet">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessCostPerSet
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesItemHeaderPriceItem ?priceItem .
   ?subject pcsp:eBITDAProcessTotalCostPerPiece ?cpp .
   ?priceItem as:itemHeaderQuantity ?cq .
   BIND (xsd:decimal(?cpp * ?cq) AS ?eBITDAProcessCostPerSet)
}
</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessLabourCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessLabourCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Labour Cost / Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">82</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessLabourCostPerPiece
WHERE {
  ?subject pcsp:hasStation ?ws.
   ?ws ps:objectName ?machine.
   ?subject pcsp:processLabourRatePerHr ?lcph.
   OPTIONAL {?subject pcsp:processLabourHeadCount ?hc.}
   OPTIONAL {?subject pcsp:processLabourHoursPerRun ?lhpr.}
   OPTIONAL {?subject pcsp:processMachineQtyPerHour ?qtyperhr.}
   OPTiONAL {?subject pcsp:processQtyPerRun ?qty.}

   #Tumbling
   OPTIONAL{?subject pcs:tumblingTimeperPLS ?t.}
   OPTIONAL{?subject pcs:tumblingQtyPerLoad ?load.}
    ?subject pcs:secondaryProcessQtyPerRun ?moq.

   #New Investment
   OPTIONAL{?subject pcsp:processNewInvestmentLabourCostPerPc ?newInvestmentLabourCost.}

   #multiplied with markup
   #OPTIONAL{?subject pcsp:processLabourCostMarkup ?mu.}
   #BIND(IF(BOUND(?mu), (?lr * (1+?mu/100)),?lr) as ?lcph).

   BIND(IF(BOUND(?t)&amp;&amp; BOUND(?hc) &amp;&amp; BOUND(?load), ?t * ?hc * ?lcph * (ceil(?moq/?load))/?moq,
         IF(BOUND(?hc), ?lcph * ?hc /?qtyperhr,
         #IF(?machine = &quot;New Investment&quot;, ?newInvestmentLabourCost,
               IF (?qty != 0, xsd:decimal(?lcph * ?lhpr / ?qty)  ,xsd:decimal(0)))) AS ?eBITDAProcessLabourCostPerPiece)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessMachineCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessMachineCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Machine Cost/Pc</rdfs:label>
        <rdfs:label xml:lang="zh"> 机器设备成本/每件 </rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">81</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessMachineCostPerPiece
WHERE {
   ?subject pcsp:hasStation ?ws.
   ?ws rdfs:label ?machine.
   OPTIONAL {?subject pcsp:eBITDAProcessMachineRatePerHr ?rph .}
   OPTIONAL {?subject pcsp:processMachineQtyPerHour ?qphr.}

   #Tumbling
   OPTIONAL {?subject pcs:tumblingTimeperPLS ?t.}
   OPTIONAL {?subject pcs:tumblingQtyPerLoad ?load.}
   ?subject pcs:secondaryProcessQtyPerRun ?qty.

   #NewInvestment
   OPTIONAL{?subject pcsp:processNewInvestmentMachineCostPerPc ?msuRate.}

  BIND(IF(BOUND(?t) &amp;&amp; BOUND(?load), ?t * ?rph * (ceil(?qty/?load))/?qty,
         IF(str(?machine) = &quot;New Investment&quot;, xsd:decimal(?msuRate/ ?qphr),
            IF (?qphr != 0, xsd:decimal(?rph / ?qphr) ,xsd:decimal(0)))) AS ?eBITDAProcessMachineCostPerPiece)
}</ps:sparql>
        <rdfs:comment xml:lang="en">Machine MSU / Qty per Hour</rdfs:comment>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessStampingTotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessStampingTotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA TOTAL COST /PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">84</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessStampingTotalCostPerPc
WHERE
{
   OPTIONAL {?subject pcs:eBITDAMetalStampingCostPerPiece ?m.}
   OPTIONAL {?subject pcs:eBITDAMetalStampingSuCost ?s.}
   OPTIONAL {?subject pcst:eBITDAMetalStampingLabourCostPerPiece ?l.}

   BIND(IF(BOUND(?m),?m,xsd:decimal(0)) as ?mcost)
   BIND(IF(BOUND(?s),?s,xsd:decimal(0)) as ?scost)
   BIND(IF(BOUND(?l),?l,xsd:decimal(0)) as ?lcost)

   BIND( xsd:decimal(?mcost + ?scost + ?lcost) as ?eBITDAProcessStampingTotalCostPerPc)
}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessSuCostPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessSuCostPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Setup Cost / Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">83</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessSuCostPc
WHERE {

   ?subject pcs:secondaryProcessQtyPerRun ?qty.

   OPTIONAL{?subject pcsp:processSuCostPerRun ?cpr.
   ?subject pcsp:processQtyPerRun ?qpr.}

   #Fix Load
   OPTIONAL{?subject pcs:processSetup ?st.}
   OPTIONAL{?subject pcs:tumblingPLSMax ?max.}
   #OPTIONAL {?subject pcsp:processSetupRatePerHr ?setupRate.}

   #DieCasting SecondaryProcess
   ?subject pcsp:eBITDAProcessMachineRatePerHr ?machineRate.
   #OPTIONAL {?subject pcsp:processSetupRatePerHr ?setupRateMasterData.}

   #New Investment
   OPTIONAL{?subject pcsp:processNewInvestmentSetupCostPerPc ?newInvestmentSetupCost.}

   #If no setupRate masterdata ,Setup Cost/Pc=Setup(hr)*(work station Rate/HR+Hourly Labour Rate)/(QTY/RUN)
   BIND(IF(BOUND(?setupRateMasterData) &amp;&amp; ?setupRateMasterData != &quot;-&quot;,?setupRateMasterData,?machineRate) as ?setupRate)

   BIND(IF (BOUND(?qpr) &amp;&amp; ?qpr != 0 , xsd:decimal(?cpr / ?qpr) ,
         IF(BOUND(?st) &amp;&amp; BOUND(?max), ?st * ?setupRate * (ceil(?qty/?max))/?qty,
         IF(BOUND(?st), (?st * ?setupRate) / ?qty,
               #IF(?machine = &quot;New Investment&quot;, ?newInvestmentSetupCost,
                  xsd:decimal(0)))) AS ?eBITDAProcessSuCostPc)
}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDAProcessTotalCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDAProcessTotalCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Total Cost / Pc</rdfs:label>
        <rdfs:label xml:lang="zh">EBITDA 总成本 / 每件</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">85</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDAProcessTotalCostPerPiece
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcsp:eBITDAProcessMachineCostPerPiece ?m.
   OPTIONAL {?subject pcsp:eBITDAProcessSuCostPc ?setup.}

   OPTIONAL {?subject pcsp:eBITDAProcessLabourCostPerPiece ?l.}
   OPTIONAL {?subject pcsp:processAddtionCostPerPc ?a}
   OPTIONAL {?subject pcsp:processQCCostPerPc ?qc}
   OPTIONAL {?subject pcsp:processToolMaint ?t}
   OPTIONAL {?subject pcsp:processLoss ?loss}
   OPTIONAL {?subject pcsp:dieCastingProcessStep ?step}
   OPTIONAL {?subject pcsp:process1TotalCostPerPc ?process1.}
   OPTIONAL {?subject pcsp:process2TotalCostPerPc ?process2.}

   BIND(IF(BOUND(?step) &amp;&amp; ?step = &quot;Process1&quot;,xsd:int(1),
         IF(BOUND(?step) &amp;&amp; ?step = &quot;Process2&quot;,xsd:int(2),
            IF(BOUND(?step) &amp;&amp;?step = &quot;Die Casting Process3&quot;,xsd:int(3), xsd:int(0)))) as ?stepval)

   BIND(IF(BOUND(?setup) &amp;&amp; ?setup != &quot;-&quot;,?setup, xsd:decimal(0)) as ?spp)
   BIND(IF(BOUND(?t) &amp;&amp; ?t != &quot;-&quot;,?t, xsd:decimal(0)) as ?tm)
   BIND(IF(BOUND(?l) &amp;&amp; ?l != &quot;-&quot;,?l, xsd:decimal(0)) as ?lpp)
   BIND(IF(BOUND(?a) &amp;&amp; ?a != &quot;-&quot;,?a, xsd:decimal(0)) as ?app)
   BIND(IF(BOUND(?qc) &amp;&amp; ?qc != &quot;-&quot;,?qc, xsd:decimal(0)) as ?qcpp)
   BIND(IF(BOUND(?m) &amp;&amp; ?m != &quot;-&quot;,?m, xsd:decimal(0)) as ?mpp)

   BIND(xsd:decimal(?mpp + ?lpp + ?spp + ?app + ?qcpp + ?tm)  as ?total)

   BIND(IF(?stepval=1, ?process1,
         IF(?stepval=2,?process2, ?total))  AS ?eBITDAProcessTotalCostPerPiece) .

}</ps:sparql>
        <as:costingRelevant>true</as:costingRelevant>
        <ps:readOnly>true</ps:readOnly>
        <as:costingRelevantSequence>7</as:costingRelevantSequence>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDASoftToolProcessCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDASoftToolProcessCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Process Cost/Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">81</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?eBITDASoftToolProcessCostPerPc)
WHERE {

   ?subject pcsp:eBITDASoftToolProcessRateHr ?mrateHr.
   OPTIONAL{?subject pcsp:softToolProcessQtyHr ?qtyHr.}

   OPTIONAL {?subject pcsp:softToolProcessRatePerCapacityCurrency ?rateCapacity.
      ?subject pcsp:softToolProcessUnit ?noOfCapacity.}


   BIND(IF(BOUND(?qtyHr) &amp;&amp; ?qtyHr != 0 &amp;&amp; ?qtyHr != &quot;-&quot;, ?mrateHr / ?qtyHr,
         IF(BOUND(?rateCapacity) , ?rateCapacity * ?noOfCapacity,xsd:decimal(0))) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDASoftToolProcessLabourPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDASoftToolProcessLabourPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Labour Cost / PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">83</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?eBITDASoftToolProcessLabourPerPc)
WHERE {
   ?subject pcsp:softToolProcessQtyHr ?qph.
   ?subject pcsp:processLabourRatePerHr ?rate.
   ?subject pcsp:processLabourHeadCount ?hc.
   BIND(IF(?hc != &quot;-&quot;,xsd:decimal(?rate * ?hc),xsd:decimal(0)) as ?lcph)
   BIND (IF(?qph != &quot;-&quot;,xsd:decimal(?lcph / ?qph),xsd:decimal(0)) as ?val).
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDASoftToolProcessRateHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDASoftToolProcessRateHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA MSU Rate</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">80</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?eBITDASoftToolProcessRateHr
WHERE {
   ?subject  pcsp:hasSoftToolStation ?ws .
   ?ws  pcs-kb:definesMSUCostPerHr ?costPerHr .
   ?costPerHr pcs-kb:processMSUCostPerHr ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   BIND(xsd:string(?costPerHr) as ?costPerHrStr)
   FILTER(strEnds(?costPerHrStr, &quot;_COST_Z&quot;))
   ?costPerHr pcs-kb:processMSUCostPerHr ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:SoftToolProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
    OPTIONAL{
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      }
    BIND ( IF ( EXISTS {
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
        ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      },
      xsd:decimal(?rawValue * (1/?rateValue)),
      ?rawValue) AS ?eBITDASoftToolProcessRateHr)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDASoftToolProcessSetupPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDASoftToolProcessSetupPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Setup Cost / PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">82</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?eBITDASoftToolProcessSetupPerPc)
WHERE {
   ?subject pcs:metalStampingQtyPerRun ?moq.
   OPTIONAL {?subject pcsp:softToolProcessSetupUnit ?unit.}
   ?subject pcsp:softToolProcessSetupRateHr ?rateHr.
   BIND(IF(!BOUND(?unit), xsd:decimal(0),?unit) as ?u)
   BIND(?u * ?rateHr / ?moq as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#eBITDASoftToolProcessTotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;eBITDASoftToolProcessTotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">EBITDA Total Cost/Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">85</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?eBITDASoftToolProcessTotalCostPerPc)
WHERE {

   ?subject pcsp:eBITDASoftToolProcessCostPerPc ?processCost.
   ?subject pcsp:eBITDASoftToolProcessSetupPerPc ?setupCost.
    ?subject pcsp:eBITDASoftToolProcessLabourPerPc ?labourCost.
   BIND(?processCost + ?setupCost + ?labourCost as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingInhouseFinishingProcessCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingInhouseFinishingProcessCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?metalStampingInhouseFinishingProcessCost
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?parentSi .
   ?parentSi as:isProduct pci:MetalStamping .

   Optional {
      ?subject  pcs:mrbNonMFGCostPerSet ?metalStampingProcessCost4.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:InhouseFinishing .}
   BIND (IF (!BOUND(?metalStampingProcessCost4),
                     xsd:decimal(0),  xsd:decimal(?metalStampingProcessCost4)) AS ?metalStampingProcessCost)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingProcess1FinalCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingProcess1FinalCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?metalStampingProcess1FinalCost)
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?minorSi.
   ?minorSi as:includesConfigItem ?config.
   ?config pcsp:process1TotalCostPerPc ?cost.
   ?salesItem as:isProduct pci:MetalStamping.
   ?minorSi as:isProduct pci:SecondaryProcess.
   BIND (xsd:decimal(?cost) AS ?val)
} GROUP BY ?subject</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#MetalStamping-KB2"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingProcess2FinalCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingProcess2FinalCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?metalStampingProcess2FinalCost)
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:includesSalesItem ?minorSi.
   ?minorSi as:includesConfigItem ?config.
   ?config pcsp:process2TotalCostPerPc ?cost.
   ?salesItem as:isProduct pci:MetalStamping.
   ?minorSi as:isProduct pci:SecondaryProcess.
   BIND (xsd:decimal(?cost) AS ?val)
} GROUP BY ?subject</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#MetalStamping-KB2"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingProcessCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingProcessCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  ?metalStampingProcessCost
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?parentSi .
   ?parentSi as:isProduct pci:MetalStamping .
   Optional {
      ?subject pcs:metalStampingCostPerPiece ?metalStampingProcessCost1.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:StampingProcess .}
   Optional {
      ?subject  pcsp:processMachineCostPerPiece ?metalStampingProcessCost2.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryProcess .}
   Optional {
      ?subject  pcsp:processMachineCostPerPiece ?metalStampingProcessCost3.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   BIND (IF (!BOUND(?metalStampingProcessCost1),
         IF (!BOUND(?metalStampingProcessCost2),
            IF (!BOUND(?metalStampingProcessCost3),
                     xsd:decimal(0),   xsd:decimal(?metalStampingProcessCost3)),
            xsd:decimal(?metalStampingProcessCost2)), xsd:decimal(?metalStampingProcessCost1)) AS ?metalStampingProcessCost)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingProcessLabourCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingProcessLabourCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql>SELECT ?subject  ?metalStampingProcessLabourCost
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?parentSi .
   ?parentSi as:isProduct pci:MetalStamping .
   Optional {
      ?subject pcst:metalStampingLabourCostPerPiece ?metalStampingProcessLabourCost1.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:StampingProcess .}
   Optional {
      ?subject  pcsp:processLabourCostPerPiece ?metalStampingProcessLabourCost2.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryProcess .}
   Optional {
      ?subject  pcsp:processLabourCostPerPiece ?metalStampingProcessLabourCost3.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   BIND (IF (!BOUND(?metalStampingProcessLabourCost1),
         IF (!BOUND(?metalStampingProcessLabourCost2),
            IF (!BOUND(?metalStampingProcessLabourCost3),
                  xsd:decimal(0),  xsd:decimal(?metalStampingProcessLabourCost3)),xsd:decimal(?metalStampingProcessLabourCost2)), xsd:decimal(?metalStampingProcessLabourCost1)) AS ?metalStampingProcessLabourCost)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#metalStampingProcessSUCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;metalStampingProcessSUCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql>SELECT ?subject  ?metalStampingProcessSUCost
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:salesItemIncludedBy ?parentSi .
   ?parentSi as:isProduct pci:MetalStamping .
   Optional {
      ?subject pcs:metalStampingSuCost ?metalStampingProcessSUCost1.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:StampingProcess .}
   Optional {
      ?subject pcsp:processSuCostPc ?metalStampingProcessSUCost2.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryProcess .}
   Optional {
      ?subject pcsp:processSuCostPc ?metalStampingProcessSUCost3.
      ?subject as:configItemIncludedBy ?salesItem .
      ?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   BIND (IF (!BOUND(?metalStampingProcessSUCost1),
         IF (!BOUND(?metalStampingProcessSUCost2),
            IF (!BOUND(?metalStampingProcessSUCost3),
                  xsd:decimal(0),  xsd:decimal(?metalStampingProcessSUCost3)),xsd:decimal(?metalStampingProcessSUCost2)), xsd:decimal(?metalStampingProcessSUCost1)) AS ?metalStampingProcessSUCost)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#process1FinalCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;process1FinalCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?process1FinalCost
WHERE
{
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?parentSi.
   ?parentSi as:includesConfigItem ?config.
   ?config pcsp:metalStampingProcess1FinalCost ?process1FinalCost.
   ?salesItem as:isProduct pci:SecondaryProcess.
   ?parentSi as:isProduct pci:MetalStamping.
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#process1TotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;process1TotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?process1TotalCostPerPc
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcsp:processMachineCostPerPiece ?mpp.
   OPTIONAL {?subject pcsp:processSuCostPc ?setup.}

   OPTIONAL {?subject pcsp:processLabourCostPerPiece ?l.}
   OPTIONAL {?subject pcsp:processAddtionCostPerPc ?a}
   OPTIONAL {?subject pcsp:processQCCostPerPc ?qc}
   OPTIONAL {?subject pcsp:processToolMaint ?t}
   OPTIONAL {?subject pcsp:processLoss ?loss}
   OPTIONAL {?subject pcsp:dieCastingProcessStep ?step}


   #Material Cost
   OPTIONAL{ ?subject pcsp:processMatlCost ?matl.}

   # Die Casting Cost
   OPTIONAL{ ?subject pcsp:processDieCastingCost ?dc.}

   ?salesItem as:isProduct pci:SecondaryProcess.

   BIND(IF(BOUND(?setup) &amp;&amp; ?setup != &quot;-&quot;,?setup, xsd:decimal(0)) as ?spp)
   BIND(IF(BOUND(?t) &amp;&amp; ?t != &quot;-&quot;,?t, xsd:decimal(0)) as ?tm)
   BIND(IF(BOUND(?l) &amp;&amp; ?l != &quot;-&quot;,?l, xsd:decimal(0)) as ?lpp)
   BIND(IF(BOUND(?a) &amp;&amp; ?a != &quot;-&quot;,?a, xsd:decimal(0)) as ?app)
   BIND(IF(BOUND(?qc) &amp;&amp; ?qc != &quot;-&quot;,?qc, xsd:decimal(0)) as ?qcpp)

   BIND(xsd:decimal(?mpp + ?lpp + ?spp + ?app + ?qcpp + ?tm)  as ?total)

   BIND(IF(BOUND(?step) &amp;&amp; ?step = &quot;Process1&quot;,?total * (1+ ?loss/100) + ((?matl + ?dc)* ?loss/100),xsd:decimal(0)) AS ?process1TotalCostPerPc) .

}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#process2TotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;process2TotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?process2TotalCostPerPc
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcsp:processMachineCostPerPiece ?mpp.
   OPTIONAL {?subject pcsp:processSuCostPc ?setup.}

   OPTIONAL {?subject pcsp:processLabourCostPerPiece ?l.}
   OPTIONAL {?subject pcsp:processAddtionCostPerPc ?a}
   OPTIONAL {?subject pcsp:processQCCostPerPc ?qc}
   OPTIONAL {?subject pcsp:processToolMaint ?t}
   OPTIONAL {?subject pcsp:processLoss ?loss}
   ?subject pcsp:dieCastingProcessStep  ?step.


   #Material Cost
   OPTIONAL{ ?subject pcsp:processMatlCost ?matl.}

   # Die Casting Cost
   OPTIONAL{ ?subject pcsp:processDieCastingCost ?dc.}

   # Process 1 Cost
   OPTIONAL {?subject pcsp:process1FinalCost ?p1.}

   ?salesItem as:isProduct pci:SecondaryProcess.

   BIND(IF(BOUND(?setup) &amp;&amp; ?setup != &quot;-&quot;,?setup, xsd:decimal(0)) as ?spp)
   BIND(IF(BOUND(?t) &amp;&amp; ?t != &quot;-&quot;,?t, xsd:decimal(0)) as ?tm)
   BIND(IF(BOUND(?l) &amp;&amp; ?l != &quot;-&quot;,?l, xsd:decimal(0)) as ?lpp)
   BIND(IF(BOUND(?a) &amp;&amp; ?a != &quot;-&quot;,?a, xsd:decimal(0)) as ?app)
   BIND(IF(BOUND(?qc) &amp;&amp; ?qc != &quot;-&quot;,?qc, xsd:decimal(0)) as ?qcpp)

   BIND(xsd:decimal(?mpp + ?lpp + ?spp + ?app + ?qcpp + ?tm)  as ?total)

   BIND(IF(?step = &quot;Process2&quot;,?total * (1+ ?loss/100) + ((?matl + ?dc + ?p1)* ?loss/100),xsd:decimal(0)) AS ?process2TotalCostPerPc) .

}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processAdditionalAbsoluteMSU -->

    <owl:DatatypeProperty rdf:about="&pcsp;processAdditionalAbsoluteMSU">
        <rdfs:label xml:lang="en">Additional Absolute MSU</rdfs:label>
        <as:costingRelevantSequence>5</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processAddtionCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processAddtionCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Additional Cost Per Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">30</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?processAddtionCostPerPc)
WHERE
{
   ?subject pcs:tumblingAdditionalCost ?ac.
   ?subject pcs:tumblingQtyPerAddCost ?qty.
   BIND(?ac/?qty as ?val)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processCostPerSet -->

    <owl:DatatypeProperty rdf:about="&pcsp;processCostPerSet">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processCostPerSet
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesItemHeaderPriceItem ?priceItem .
   ?subject pcsp:processTotalCostPerPiece ?cpp .
   ?priceItem as:itemHeaderQuantity ?cq .
   BIND (xsd:decimal(?cpp * ?cq) AS ?processCostPerSet)
}

</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processCycleTime -->

    <owl:DatatypeProperty rdf:about="&pcsp;processCycleTime">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Cycle Time (seconds)</rdfs:label>
        <rdfs:label xml:lang="zh">周期时间 (秒)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-2</ps:sequenceID>
        <as:costingRelevantSequence>2</as:costingRelevantSequence>
        <ps:mandatory>true</ps:mandatory>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processData -->

    <owl:DatatypeProperty rdf:about="&pcsp;processData">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processDieCastingCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;processDieCastingCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processDieCastingCost
WHERE{
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?parentSi.
   ?parentSi as:includesSalesItem ?dcSi.
   ?dcSi as:includesConfigItem ?config.
   ?config pcs:dieCastingTotalCostPerPc ?processDieCastingCost.
   ?parentSi as:isProduct pci:MetalStamping.
   ?salesItem as:isProduct pci:SecondaryProcess.
   ?dcSi as:isProduct pci:DieCastingProcess.
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processEff -->

    <owl:DatatypeProperty rdf:about="&pcsp;processEff">
        <rdfs:label xml:lang="en">EFF %</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-1</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processFinalCostPerPcMRB -->

    <owl:DatatypeProperty rdf:about="&pcsp;processFinalCostPerPcMRB">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total Cost / Pc (inc. Markup) (MRB)</rdfs:label>
        <rdfs:label xml:lang="zh">总成本 / 每件 (包括加价)</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processFinalCostPerPcMRB
WHERE {
   ?subject pcsp:processTotalCostPerPiece ?tc.
   ?subject pcsp:processMarkupMRB ?mu.
   BIND (xsd:decimal(?tc * (1 + ?mu /100)) as ?processFinalCostPerPcMRB)
} </ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:description>This cost should only be if the Process is a direct submaterial of an assebly. It includes the normal process cost and the markups. This value is inherited to the Line item table</ps:description>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#MRBTooling"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processFinalCostPerSet -->

    <owl:DatatypeProperty rdf:about="&pcsp;processFinalCostPerSet">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val AS ?processFinalCostPerSet)
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesItemHeaderPriceItem ?priceItem .
   ?subject pcsp:processFinalCostPerPcMRB ?fcpp .
   ?priceItem as:itemHeaderQuantity ?cq .
   BIND (xsd:decimal(?fcpp * ?cq) AS ?val)
}
</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourCostMarkup -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourCostMarkup">
        <rdfs:label xml:lang="en">Labour Cost Mark Up %</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">12</ps:sequenceID>
        <as:costingRelevantSequence>4</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB2"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourCostPerHour -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourCostPerHour">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Hourly Labour Rate 2017</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ColdForgingStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#PlasticMoldStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ProcessStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolStation"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>

    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourCostPerHour2018 -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourCostPerHour2018">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Hourly Labour Rate 2018</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ColdForgingStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#PlasticMoldStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ProcessStation"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolStation"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>

    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Cost / Pc</rdfs:label>
        <rdfs:label xml:lang="zh">劳动力成本 / 每件</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processLabourCostPerPiece
WHERE {
  ?subject pcsp:hasStation ?ws.
   ?ws ps:objectName ?machine.
   ?subject pcsp:processLabourRatePerHr ?lr.
   OPTIONAL {?subject pcsp:processLabourHeadCount ?hc.}
   OPTIONAL {?subject pcsp:processLabourHoursPerRun ?lhpr.}
   OPTIONAL {?subject pcsp:processMachineQtyPerHour ?qtyperhr.}
   OPTiONAL {?subject pcsp:processQtyPerRun ?qty.}

   #Tumbling
   OPTIONAL{?subject pcs:tumblingTimeperPLS ?t.}
   OPTIONAL{?subject pcs:tumblingQtyPerLoad ?load.}
    ?subject pcs:secondaryProcessQtyPerRun ?moq.

   #New Investment
   OPTIONAL{?subject pcsp:processNewInvestmentLabourCostPerPc ?newInvestmentLabourCost.}

   #multiplied with markup
   OPTIONAL{?subject pcsp:processLabourCostMarkup ?mu.}
   BIND(IF(BOUND(?mu), (?lr * (1+?mu/100)),?lr) as ?lcph).

   BIND(IF(BOUND(?t)&amp;&amp; BOUND(?hc) &amp;&amp; BOUND(?load), ?t * ?hc * ?lcph * (ceil(?moq/?load))/?moq,
         IF(BOUND(?hc), ?lcph * ?hc /?qtyperhr,
         #IF(?machine = &quot;New Investment&quot;, ?newInvestmentLabourCost,
               IF (?qty != 0, xsd:decimal(?lcph * ?lhpr / ?qty)  ,xsd:decimal(0)))) AS ?processLabourCostPerPiece)

}</ps:sparql>
        <ps:description>Labour Hours per Run * Hourly Labour Rate (from Machine Master Data ) / Qty per Run</ps:description>
        <ps:sequenceID rdf:datatype="&xsd;int">28</ps:sequenceID>
        <ps:readOnly>true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourHeadCount -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourHeadCount">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Head Count</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processLabourHeadCount
WHERE
{
   OPTIONAL{
	   ?subject pcsp:hasStation ?ws2017.
	   ?ws2017 pcs-kb:processLabourManPower ?masterdata2017.
   }
   OPTIONAL {
      ?subject  pcsp:hasMSURate ?selectedMSURate .
      FILTER ( 
         ?selectedMSURate IN (msu2018:MSU_RATE_2018_A,msu2018:MSU_RATE_2018_B,msu2018:MSU_RATE_2018_C,msu2018:MSU_RATE_2018_D,msu2018:MSU_RATE_2018_E,msu2018:MSU_RATE_2018_Z)
      )
      ?subject pcsp:hasStation ?ws2018.
      ?ws2018 pcs-kb:processLabourManPower2018 ?masterdata2018 .
   }
   BIND(IF(BOUND(?masterdata2018),?masterdata2018,?masterdata2017) AS ?masterdata)

   OPTIONAL{?subject pcsp:processLabourHeadCountOther ?other.}
   BIND(coalesce(?other,?masterdata) as ?processLabourHeadCount)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourHeadCountOther -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourHeadCountOther">
        <rdfs:label xml:lang="en">Labour Head Count (Other)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourHoursPerRun -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourHoursPerRun">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Hours Per Run</rdfs:label>
        <rdfs:label xml:lang="zh">每次运行的劳动小时数</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <as:costingRelevantSequence>4</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourRateAndHc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourRateAndHc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Cost Per Hour</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">11</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processLabourRateAndHc
WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcsp:processLabourRatePerHr ?rate.
   ?subject pcsp:processLabourHeadCount ?hc.
   OPTIONAL{?subject pcsp:processLabourCostMarkup ?mu.}
   #?salesItem as:isProduct pci:DieCastingProcess.
   BIND(IF(BOUND(?mu),xsd:decimal(?rate * (1+?mu/100) *?hc),xsd:decimal(?rate * ?hc)) as ?processLabourRateAndHc)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLabourRatePerHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLabourRatePerHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Hourly Labour Rate</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processLabourRatePerHr
WHERE {
   OPTIONAL{
      ?subject  pcsp:hasStation ?ws2017 .
      ?ws2017  pcsp:processLabourCostPerHour ?machineLabourRate2017 .
   }
   OPTIONAL{
      ?subject  pcsp:hasStation ?ws2018 .
      ?ws2018  pcsp:processLabourCostPerHour2018 ?machineLabourRate2018 .
	  ?subject  pcsp:hasMSURate ?selectedMSURate .
	  FILTER ( 
		 ?selectedMSURate IN (msu2018:MSU_RATE_2018_A,msu2018:MSU_RATE_2018_B,msu2018:MSU_RATE_2018_C,msu2018:MSU_RATE_2018_D,msu2018:MSU_RATE_2018_E,msu2018:MSU_RATE_2018_Z)
     )
   }
    BIND(IF(BOUND(?machineLabourRate2018),?machineLabourRate2018,?machineLabourRate2017) AS ?machineLabourRate)
   
   OPTIONAL{
      ?subject pcsp:hasStation ?ws.
      ?ws ps:objectName ?machine.
      ?factory pcs-kb:includesProcessStation ?ws .
      ?factory pcs-kb:includesLabourCost ?labourCost .
      ?labourCost pcs-kb:labourCostStandardRate ?plantLabourRate .
   }
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:Plastic .}
   OPTIONAL {?salesItem as:isProduct pci:StampingProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   OPTIONAL {?salesItem as:isProduct pci:DieCastingProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SoftToolProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
   OPTIONAL{
      ?quote as:includeExchangeRateSalesDocument ?rateDoc .
      ?quote as:hasBaseCurrency ?targetCurrency .
      as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
      ?rateDoc as:hasBaseCurrency ?targetCurrency .
      ?rateDoc as:exchangeRate ?rateValue .
   }
   BIND(IF(BOUND(?machineLabourRate),?machineLabourRate,
         IF(?machine = &quot;New Investment&quot;, ?plantLabourRate,xsd:decimal(0))) as ?rawValue)

   BIND ( IF ( EXISTS {
            ?quote as:includeExchangeRateSalesDocument ?rateDoc .
            ?quote as:hasBaseCurrency ?targetCurrency .
            as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
            ?rateDoc as:hasTargetCurrency ?defaultCurrency.
            ?rateDoc as:hasBaseCurrency ?targetCurrency .
            ?rateDoc as:exchangeRate ?rateValue .
         },
         xsd:decimal(?rawValue * (1/?rateValue)),
         ?rawValue) AS ?processLabourRatePerHr)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:sequenceID rdf:datatype="&xsd;int">10</ps:sequenceID>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processLoss -->

    <owl:DatatypeProperty rdf:about="&pcsp;processLoss">
        <rdfs:label xml:lang="en">Loss %</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">37</ps:sequenceID>
        <as:costingRelevantSequence rdf:datatype="&xsd;int">7</as:costingRelevantSequence>
        <as:costingRelevant xml:lang="en">true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMSUMarkup -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMSUMarkup">
        <rdfs:label xml:lang="en">MSU Mark Up %</rdfs:label>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>4</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMachineCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMachineCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Machine Cost/Pc</rdfs:label>
        <rdfs:label xml:lang="zh"> 机器设备成本/每件 </rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processMachineCostPerPiece
WHERE {

   OPTIONAL {?subject pcsp:processMachineRatePerHr ?rph .}
   OPTIONAL {?subject pcsp:processMachineQtyPerHour ?qphr.}

   #Tumbling
   OPTIONAL {?subject pcs:tumblingTimeperPLS ?t.}
   OPTIONAL {?subject pcs:tumblingQtyPerLoad ?load.}
   ?subject pcs:secondaryProcessQtyPerRun ?qty.

   BIND(IF(BOUND(?t) &amp;&amp; BOUND(?load), ?t * ?rph * (ceil(?qty/?load))/?qty,
            IF (?qphr != 0, xsd:decimal(?rph / ?qphr) ,xsd:decimal(0))) AS ?processMachineCostPerPiece)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <ps:sequenceID rdf:datatype="&xsd;int">27</ps:sequenceID>
        <rdfs:comment xml:lang="en">Machine MSU / Qty per Hour</rdfs:comment>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMachineHoursPerRun -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMachineHoursPerRun">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Machine Hours Per Run</rdfs:label>
        <ps:sparql>SELECT ?subject (?val AS ?processMachineHoursPerRun)
WHERE{
    ?subject pcsp:processQtyPerRun ?qpr .
     ?subject pcsp:processMachineQtyPerHour ?qph .
   BIND(xsd:decimal(?qpr/?qph) AS ?val)
}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <ps:sequenceID rdf:datatype="&xsd;int">4</ps:sequenceID>
        <as:costingRelevantSequence>3</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMachineQtyPerHour -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMachineQtyPerHour">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Qty per Hour</rdfs:label>
        <rdfs:label xml:lang="zh">每小时生产数量</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject  ?processMachineQtyPerHour
WHERE {
   ?subject pcsp:processCycleTime ?ct .
   OPTIONAL {?subject pcsp:processEff ?eff }
   OPTIONAL {?subject pcs:processCavity ?cavity.}

   BIND(IF(BOUND(?eff), ?eff, xsd:decimal(100)) as ?e)
   BIND(IF(BOUND(?cavity) &amp;&amp; ?cavity != &quot;-&quot;,?cavity,xsd:decimal(1)) as ?c)

   BIND (xsd:decimal((3600/?ct) * ?e/100 * ?c) AS ?processMachineQtyPerHour ) .
}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:readOnly>true</ps:readOnly>
        <ps:description>Qty produced by the machine per hour.
Depending on the Cycletime in (s).</ps:description>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMarkupMRB -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMarkupMRB">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Process Markup (%) (MRB)</rdfs:label>
        <rdfs:label xml:lang="zh">加工工艺加价 (%) (MRB)</rdfs:label>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <as:costingRelevantSequence>22</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#MRBTooling"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processMatlCost -->

    <owl:DatatypeProperty rdf:about="&pcsp;processMatlCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processMatlCost
WHERE{
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?parentSi.
   ?parentSi as:includesConfigItem ?config.
   ?config pcs:metalStampingMatlCost ?processMatlCost.
   ?parentSi as:isProduct pci:MetalStamping.
   ?salesItem as:isProduct pci:SecondaryProcess.
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processNewInvestmentLabourCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processNewInvestmentLabourCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processNewInvestmentLabourCostPerPc
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesSalesItem ?minorSi .
   ?minorSi as:includesConfigItem ?c .
   ?c pcs:investmentLabourCostInput ?processNewInvestmentLabourCostPerPc .
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   ?minorSi as:isProduct pci:NewInvestment .
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processNewInvestmentMachineCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processNewInvestmentMachineCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processNewInvestmentMachineCostPerPc
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesSalesItem ?minorSi .
   ?minorSi as:includesConfigItem ?c .
   ?c pcs:investmentFinalMSURate ?processNewInvestmentMachineCostPerPc .
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   ?minorSi as:isProduct pci:NewInvestment .
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processNewInvestmentSetupCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processNewInvestmentSetupCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processNewInvestmentSetupCostPerPc
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?salesItem as:includesSalesItem ?minorSi .
   ?minorSi as:includesConfigItem ?c .
   ?c pcs:investmentSetupCostInput ?processNewInvestmentSetupCostPerPc .
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   ?minorSi as:isProduct pci:NewInvestment .
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processQCCostPerHour -->

    <owl:DatatypeProperty rdf:about="&pcsp;processQCCostPerHour">
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ProcessStation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processQCCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processQCCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Quality Cost Per Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processQCCostPerPc
WHERE {
  #?subject pcsp:hasStation ?ws.
  # ?ws ps:objectName ?machine.

   #Tumbling
   ?subject pcs:tumblingQC ?qc.
   ?subject pcsp:processQCRatePerHr ?rate.
   ?subject pcs:tumblingQtyPerLoad ?load.
    ?subject pcs:metalStampingQtyPerRun ?moq.

   BIND(IF(BOUND(?qc) &amp;&amp; BOUND(?load) &amp;&amp; BOUND(?rate), ?qc*?rate*(ceil(?moq/?load))/?moq,
        xsd:decimal(0)) AS ?processQCCostPerPc)

}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processQCRatePerHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;processQCRatePerHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processQCRatePerHr
WHERE {
   ?subject  pcsp:hasStation ?ws .
   ?ws  pcsp:processQCCostPerHour ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:StampingProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
    OPTIONAL{
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      }
    BIND ( IF ( EXISTS {
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
        ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      },
      xsd:decimal(?rawValue * (1/?rateValue)),
      ?rawValue) AS ?processQCRatePerHr)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processQtyPerRun -->

    <owl:DatatypeProperty rdf:about="&pcsp;processQtyPerRun">
        <rdfs:label xml:lang="en">Qty per Run</rdfs:label>
        <rdfs:label xml:lang="zh">每次运行生产数量</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>2</as:costingRelevantSequence>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&pcsp;processData"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processSetupCostPerHour -->

    <owl:DatatypeProperty rdf:about="&pcsp;processSetupCostPerHour">
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ProcessStation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processSetupRatePerHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;processSetupRatePerHr">
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processSetupRatePerHr
WHERE {
   ?subject  pcsp:hasStation ?ws .
   ?ws  pcsp:processSetupCostPerHour ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:StampingProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryProcess .}
   OPTIONAL {?salesItem as:isProduct pci:SecondaryFinishingProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
    OPTIONAL{
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      }
    BIND ( IF ( EXISTS {
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
        ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      },
      xsd:decimal(?rawValue * (1/?rateValue)),
      ?rawValue) AS ?processSetupRatePerHr)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processStampingTotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processStampingTotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">TOTAL COST /PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">31</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processStampingTotalCostPerPc
WHERE
{
   OPTIONAL {?subject pcs:metalStampingCostPerPiece ?m.}
   OPTIONAL {?subject pcs:metalStampingSuCost ?s.}
   OPTIONAL {?subject pcst:metalStampingLabourCostPerPiece ?l.}

   BIND(IF(BOUND(?m),?m,xsd:decimal(0)) as ?mcost)
   BIND(IF(BOUND(?s),?s,xsd:decimal(0)) as ?scost)
   BIND(IF(BOUND(?l),?l,xsd:decimal(0)) as ?lcost)

   BIND( xsd:decimal(?mcost + ?scost + ?lcost) as ?processStampingTotalCostPerPc)
}</ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processSuCostPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;processSuCostPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Setup Cost / Pc</rdfs:label>
        <rdfs:label xml:lang="zh">生产准备成本 / 每件</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processSuCostPc
WHERE {

   ?subject pcs:secondaryProcessQtyPerRun ?qty.

   OPTIONAL{?subject pcsp:processSuCostPerRun ?cpr.
   ?subject pcsp:processQtyPerRun ?qpr.}

   #Fix Load
   OPTIONAL{?subject pcs:processSetup ?st.}
   OPTIONAL{?subject pcs:tumblingPLSMax ?max.}
   #OPTIONAL {?subject pcsp:processSetupRatePerHr ?setupRate.}

   #DieCasting SecondaryProcess
   ?subject pcsp:processMachineRatePerHr ?machineRate.
   #OPTIONAL {?subject pcsp:processLabourRateAndHc ?labourRate.}
   OPTIONAL {?subject pcsp:processSetupRatePerHr ?setupRateMasterData.}

   #New Investment
   OPTIONAL{?subject pcsp:processNewInvestmentSetupCostPerPc ?newInvestmentSetupCost.}

   #If no setupRate masterdata ,Setup Cost/Pc=Setup(hr)*(work station Rate/HR+Hourly Labour Rate)/(QTY/RUN)
   #BIND(IF(?labourRate != &quot;-&quot;, ?labourRate, xsd:decimal(0)) as ?labourRate1)
   BIND(IF(BOUND(?setupRateMasterData) &amp;&amp; ?setupRateMasterData != &quot;-&quot;,?setupRateMasterData,?machineRate) as ?setupRate)

   BIND(IF (BOUND(?qpr) &amp;&amp; ?qpr != 0 , xsd:decimal(?cpr / ?qpr) ,
         IF(BOUND(?st) &amp;&amp; BOUND(?max), ?st * ?setupRate * (ceil(?qty/?max))/?qty,
         IF(BOUND(?st), (?st * ?setupRate) / ?qty,
               #IF(?machine = &quot;New Investment&quot;, ?newInvestmentSetupCost,
                  xsd:decimal(0)))) AS ?processSuCostPc)
}</ps:sparql>
        <ps:sequenceID rdf:datatype="&xsd;int">29</ps:sequenceID>
        <ps:description>Setup Cost / Qty per Run</ps:description>
        <rdfs:comment xml:lang="en">SetupTime * (Machine Rate + Labour Rate) / Qty per Run</rdfs:comment>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processSuCostPerRun -->

    <owl:DatatypeProperty rdf:about="&pcsp;processSuCostPerRun">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Setup Cost / Run</rdfs:label>
        <rdfs:label xml:lang="zh">生产准备成本 / 每次运营</rdfs:label>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string"><![CDATA[SELECT ?subject ?processSuCostPerRun
WHERE {
   ?subject pcsp:hasProcessStation ?ps.
   ?ps pcs-kb:workStationSetupTime ?st.
   ?subject pcsp:processMachineRatePerHr ?rph.
   OPTIONAL {
	?ps pcsp:processMachineRatePerHr2018 ?rph2018.
	?subject pcs:hasMSURate ?msuRate .
FILTER (?msuRate	IN (
		<http://MSURateUpdate2018#MSU_RATE_2018_A>,
		<http://MSURateUpdate2018#MSU_RATE_2018_B>,
		<http://MSURateUpdate2018#MSU_RATE_2018_C>,
		<http://MSURateUpdate2018#MSU_RATE_2018_D>,
		<http://MSURateUpdate2018#MSU_RATE_2018_E>,
		<http://MSURateUpdate2018#MSU_RATE_2018_Z> )
		)
   }
   BIND( xsd:decimal(?rph * ?st) AS ?processSuCostPerRun) .
}]]></ps:sparql>
        <ps:readOnly>true</ps:readOnly>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processSuTime -->

    <owl:DatatypeProperty rdf:about="&pcsp;processSuTime">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processToolMaint -->

    <owl:DatatypeProperty rdf:about="&pcsp;processToolMaint">
        <rdfs:label xml:lang="en">Tool Maint</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">35</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#processTotalCostPerPiece -->

    <owl:DatatypeProperty rdf:about="&pcsp;processTotalCostPerPiece">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total Cost / Pc</rdfs:label>
        <rdfs:label xml:lang="zh">总成本 / 每件</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">38</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?processTotalCostPerPiece
WHERE {

   ?subject as:configItemIncludedBy ?salesItem.
   ?subject pcsp:processMachineCostPerPiece ?m.
   OPTIONAL {?subject pcsp:processSuCostPc ?setup.}

   OPTIONAL {?subject pcsp:processLabourCostPerPiece ?l.}
   OPTIONAL {?subject pcsp:processAddtionCostPerPc ?a}
   OPTIONAL {?subject pcsp:processQCCostPerPc ?qc}
   OPTIONAL {?subject pcsp:processToolMaint ?t}
   OPTIONAL {?subject pcsp:processLoss ?loss}
   OPTIONAL {?subject pcsp:dieCastingProcessStep ?step}
   OPTIONAL {?subject pcsp:process1TotalCostPerPc ?process1.}
   OPTIONAL {?subject pcsp:process2TotalCostPerPc ?process2.}

   BIND(IF(BOUND(?step) &amp;&amp; ?step = &quot;Process1&quot;,xsd:int(1),
         IF(BOUND(?step) &amp;&amp; ?step = &quot;Process2&quot;,xsd:int(2),
            IF(BOUND(?step) &amp;&amp;?step = &quot;Die Casting Process3&quot;,xsd:int(3), xsd:int(0)))) as ?stepval)

   BIND(IF(BOUND(?setup) &amp;&amp; ?setup != &quot;-&quot;,?setup, xsd:decimal(0)) as ?spp)
   BIND(IF(BOUND(?t) &amp;&amp; ?t != &quot;-&quot;,?t, xsd:decimal(0)) as ?tm)
   BIND(IF(BOUND(?l) &amp;&amp; ?l != &quot;-&quot;,?l, xsd:decimal(0)) as ?lpp)
   BIND(IF(BOUND(?a) &amp;&amp; ?a != &quot;-&quot;,?a, xsd:decimal(0)) as ?app)
   BIND(IF(BOUND(?qc) &amp;&amp; ?qc != &quot;-&quot;,?qc, xsd:decimal(0)) as ?qcpp)
   BIND(IF(BOUND(?m) &amp;&amp; ?m != &quot;-&quot;,?m, xsd:decimal(0)) as ?mpp)


   BIND(xsd:decimal(?mpp + ?lpp + ?spp + ?app + ?qcpp + ?tm)  as ?total)

   BIND(IF(?stepval=1, ?process1,
         IF(?stepval=2,?process2, ?total))  AS ?processTotalCostPerPiece) .

}</ps:sparql>
        <as:costingRelevantSequence>7</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <ps:readOnly>true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Process Cost/Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">8</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessCostPerPc)
WHERE {

   ?subject pcsp:softToolProcessRateHr ?mrateHr.
   OPTIONAL{?subject pcsp:softToolProcessQtyHr ?qtyHr.}

   OPTIONAL {?subject pcsp:softToolProcessRatePerCapacityCurrency ?rateCapacity.
      ?subject pcsp:softToolProcessUnit ?noOfCapacity.}


   BIND(IF(BOUND(?qtyHr) &amp;&amp; ?qtyHr != 0 &amp;&amp; ?qtyHr != &quot;-&quot;, ?mrateHr / ?qtyHr,
         IF(BOUND(?rateCapacity) , ?rateCapacity * ?noOfCapacity,xsd:decimal(0))) as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessLabourHcPerHours -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessLabourHcPerHours">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Head Count / Hr</rdfs:label>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessLabourHcPerHoursOther -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessLabourHcPerHoursOther">
        <rdfs:label xml:lang="en">Labour Head Count / Hr (Other)</rdfs:label>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessLabourPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessLabourPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Labour Cost / PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessLabourPerPc)
WHERE {
   ?subject pcsp:softToolProcessQtyHr ?qph.
   ?subject pcsp:processLabourRateAndHc ?lcpmh .
   BIND (IF(?lcpmh != &quot;-&quot;,xsd:decimal(?lcpmh / ?qph),xsd:decimal(0)) as ?val).
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessQtyHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessQtyHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Qty/Hr</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessQtyHr)
WHERE {
   ?subject pcsp:hasSoftToolStation ?station.
   ?station ps:objectName ?stationname.
   ?subject pcsp:softToolProcessUnit ?unit.
   OPTIONAL {?station pcs-kb:softToolStationMasterData1 ?p1.}
   OPTIONAL {?station pcs-kb:softToolStationMasterData2 ?p2. }
   OPTIONAL {?station pcs-kb:softToolStationMasterData3 ?p3.}
   OPTIONAL {?station pcs-kb:softToolStationCapacity ?capacity.}
   OPTIONAL {?subject pcsp:softToolProcessQtyHrDependOnLength ?l.}
   #BIND(IF(!BOUND(?p1),xsd:decimal(1),?p1) AS?val1)
   #BIND(IF(!BOUND(?p2),xsd:decimal(1),?p2) AS?val2)
   #BIND(IF(!BOUND(?p3),xsd:decimal(1),?p3) AS?val3)
   BIND(IF(?stationname = &quot;WS_V85S&quot;, ?l / ?unit,
         IF(BOUND(?capacity),?capacity/?unit,(?val1 * ?val2 / ?unit * ?val3))) AS ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessQtyHrDependOnLength -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessQtyHrDependOnLength">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?softToolProcessQtyHrDependOnLength
WHERE {
   ?subject as:configItemIncludedBy ?salesItem.
   ?salesItem as:salesItemIncludedBy ?parentSi.
   ?parentSi as:includesConfigItem ?metalstamping.
   ?metalstamping pcsm:metalStampingQtyHrDependOnLength ?softToolProcessQtyHrDependOnLength.

} </ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessRateHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessRateHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">WorkStation Rate/Hr</rdfs:label>
        <as:costingRelevantSequence rdf:datatype="&xsd;int">12</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessRateHr)
WHERE {

   #OPTIONAL {?subject pcsp:softToolProcessRateHrOther ?other.}
   ?subject pcsp:softToolProcessRateHrCurrency ?rate.
   OPTIONAL {?subject pcsp:processMSUMarkup ?mu.}
   OPTIONAL {?subject pcsp:processAdditionalAbsoluteMSU ?absolute. }
   #BIND(IF(BOUND(?other), ?other , ?rate) as ?val)
   BIND(IF(BOUND(?mu), ?rate * (1+?mu/100) ,
         IF(BOUND(?absolute), ?rate + ?absolute,?rate)) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessRateHrCurrency -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessRateHrCurrency">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?softToolProcessRateHrCurrency
WHERE {
   ?subject  pcsp:hasSoftToolStation ?ws .
   ?ws  pcs-kb:definesMSUCostPerHr ?costPerHr .
   ?subject  pcsp:hasMSURate ?rate .
   ?rate  pcs-kb:definesMSUCostPerHr ?costPerHr .
   ?costPerHr pcs-kb:processMSUCostPerHr ?rawValue .
   ?subject as:configItemIncludedBy ?salesItem .
   OPTIONAL {?salesItem as:isProduct pci:SoftToolProcess .}
   ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
    OPTIONAL{
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      }
    BIND ( IF ( EXISTS {
        ?quote as:includeExchangeRateSalesDocument ?rateDoc .
        ?quote as:hasBaseCurrency ?targetCurrency .
        as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
        ?rateDoc as:hasTargetCurrency ?defaultCurrency.
        ?rateDoc as:hasBaseCurrency ?targetCurrency .
        ?rateDoc as:exchangeRate ?rateValue .
      },
      xsd:decimal(?rawValue * (1/?rateValue)),
      ?rawValue) AS ?softToolProcessRateHrCurrency)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessRateHrOther -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessRateHrOther">
        <rdfs:label xml:lang="en">WorkStation Rate/Hr (Others)</rdfs:label>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <as:costingRelevantSequence>12</as:costingRelevantSequence>
        <ps:sequenceID xml:lang="en">2</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessRatePerCapacityCurrency -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessRatePerCapacityCurrency">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Cost / Capacity</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?softToolProcessRatePerCapacityCurrency
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?subject pcsp:hasSoftToolStation ?ps.
   ?ps pcs-kb:softToolStationProcessRatePerCapacity ?rawValue.
   ?salesItem as:isProduct pci:SoftToolProcess .
    ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
   OPTIONAL{
      ?quote as:includeExchangeRateSalesDocument ?rateDoc .
      ?quote as:hasBaseCurrency ?baseCurrency .
      as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
      ?rateDoc as:hasBaseCurrency ?targetCurrency .
      ?rateDoc as:exchangeRate ?rateValue .
   }
   BIND ( IF ( EXISTS {
      ?quote as:includeExchangeRateSalesDocument ?rateDoc .
      ?quote as:hasBaseCurrency ?baseCurrency .
      as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
      ?rateDoc as:hasBaseCurrency ?targetCurrency .
      ?rateDoc as:exchangeRate ?rateValue
         }, xsd:decimal(?rawValue * (1/?rateValue)),
         ?rawValue) AS ?softToolProcessRatePerCapacityCurrency)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessSetupPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessSetupPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Setup Cost / PC</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">14</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessSetupPerPc)
WHERE {
   ?subject pcs:metalStampingQtyPerRun ?moq.
   OPTIONAL {?subject pcsp:softToolProcessSetupUnit ?unit.}
   ?subject pcsp:softToolProcessSetupRateHr ?rateHr.
   BIND(IF(!BOUND(?unit), xsd:decimal(0),?unit) as ?u)
   BIND(?u * ?rateHr / ?moq as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessSetupRateHr -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessSetupRateHr">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Setup Rate/Hr</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">13</ps:sequenceID>
        <as:costingRelevantSequence rdf:datatype="&xsd;int">14</as:costingRelevantSequence>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject  (?val as ?softToolProcessSetupRateHr)
WHERE {
 OPTIONAL {?subject pcsp:softToolProcessSetupRateHrOther ?other.}
 ?subject pcsp:softToolProcessSetupRateHrCurrency ?rate.
 BIND(IF(BOUND(?other), ?other , ?rate) as ?val)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessSetupRateHrCurrency -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessSetupRateHrCurrency">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?softToolProcessSetupRateHrCurrency
WHERE {
   ?subject as:configItemIncludedBy ?salesItem .
   ?subject pcsp:hasSoftToolStation ?ps.
   ?ps pcs-kb:softToolStationSetupRatePerHr ?rawValue.
   ?salesItem as:isProduct pci:SoftToolProcess .
    ?salesItem as:salesItemIncludedBy+ ?quote .
   ?quote rdf:type as:Quote .
   OPTIONAL{
      ?quote as:includeExchangeRateSalesDocument ?rateDoc .
      ?quote as:hasBaseCurrency ?baseCurrency .
      as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
      ?rateDoc as:hasBaseCurrency ?targetCurrency .
      ?rateDoc as:exchangeRate ?rateValue .
   }
   BIND ( IF ( EXISTS {
      ?quote as:includeExchangeRateSalesDocument ?rateDoc .
      ?quote as:hasBaseCurrency ?baseCurrency .
      as:SALES_SYSTEM_INSTANCE as:hasDefaultCurrency ?defaultCurrency.
      ?rateDoc as:hasTargetCurrency ?defaultCurrency.
      ?rateDoc as:hasBaseCurrency ?targetCurrency .
      ?rateDoc as:exchangeRate ?rateValue
         }, xsd:decimal(?rawValue * (1/?rateValue)),
         ?rawValue) AS ?softToolProcessSetupRateHrCurrency)
}</ps:sparql>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessSetupRateHrOther -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessSetupRateHrOther">
        <rdfs:label xml:lang="en">Setup Rate/Hr (Others)</rdfs:label>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <as:costingRelevantSequence>14</as:costingRelevantSequence>
        <ps:sequenceID xml:lang="en">13</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessSetupUnit -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessSetupUnit">
        <rdfs:label xml:lang="en">SetUp Unit</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">13</ps:sequenceID>
        <as:costingRelevantSequence rdf:datatype="&xsd;int">15</as:costingRelevantSequence>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <rdfs:comment xml:lang="en">No Of  Set Up</rdfs:comment>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessTotalCostPerPc -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessTotalCostPerPc">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Total Cost/Pc</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">15</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?softToolProcessTotalCostPerPc)
WHERE {

   ?subject pcsp:softToolProcessCostPerPc ?processCost.
   ?subject pcsp:softToolProcessSetupPerPc ?setupCost.
    ?subject pcsp:softToolProcessLabourPerPc ?labourCost.
   BIND(?processCost + ?setupCost + ?labourCost as ?val)

}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-process.owl#softToolProcessUnit -->

    <owl:DatatypeProperty rdf:about="&pcsp;softToolProcessUnit">
        <rdfs:label xml:lang="en">Process Unit</rdfs:label>
        <as:costingRelevantSequence rdf:datatype="&xsd;int">4</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <as:costingRelevant rdf:datatype="&xsd;boolean">true</as:costingRelevant>
        <rdfs:comment xml:lang="en">No Of Strokes / Surface Area / Mins/ PC</rdfs:comment>
        <ps:mandatory>true</ps:mandatory>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#metalStampingRemark -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#metalStampingRemark">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Remark</rdfs:label>
        <rdfs:label xml:lang="zh">备注</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">34</ps:sequenceID>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>45</as:costingRelevantSequence>
        <rdfs:subPropertyOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ToolingInfoGroup"/>
        <rdfs:range rdf:resource="&xsd;string"/>
        <rdfs:domain>
            <owl:Class>
                <owl:unionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#ColdForgingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#DieCastingProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Plastic-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Secondary-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#SoftToolProcess-KB"/>
                    <rdf:Description rdf:about="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB"/>
                </owl:unionOf>
            </owl:Class>
        </rdfs:domain>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData">
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingQACost -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingQACost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">QA Inspection Jig cost</rdfs:label>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>3</as:costingRelevantSequence>
        <ps:sequenceID rdf:datatype="&xsd;int">7</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#StampingProcess-KB2"/>
        <rdfs:subPropertyOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolCost -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolCost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Tool cost</rdfs:label>
        <rdfs:label xml:lang="zh">模具成本</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">6</ps:sequenceID>
        <as:costingRelevant>true</as:costingRelevant>
        <ps:mandatory>true</ps:mandatory>
        <as:costingRelevantSequence>3</as:costingRelevantSequence>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#ProcessGroup"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolMarkup -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolMarkup">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">TOOL MARKUP (%)</rdfs:label>
        <rdfs:label xml:lang="zh">模具加价(%)</rdfs:label>
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <as:costingRelevantSequence>51</as:costingRelevantSequence>
        <as:costingRelevant>true</as:costingRelevant>
        <ps:sequenceID rdf:datatype="&xsd;int">18</ps:sequenceID>
        <ps:mandatory>true</ps:mandatory>
        <rdfs:subPropertyOf rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-tooling.owl#toolingData"/>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#MetalStamping-KB"/>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/products/products-schema.owl#Processes"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolQACost -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#metalStampingToolQACost">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Tool / QA cost</rdfs:label>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?metalStampingToolQACost
WHERE
{
   ?subject pcs:metalStampingToolCost ?tool.
   OPTIONAL{?subject pcs:metalStampingQACost ?qa.}
   BIND(IF(!BOUND(?qa),xsd:decimal(?tool),xsd:decimal(?tool + ?qa)) as ?metalStampingToolQACost)
}</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:sequenceID rdf:datatype="&xsd;int">36</ps:sequenceID>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#processPartName -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#processPartName">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Metal Part Name</rdfs:label>
        <rdfs:label xml:lang="zh">零件名称</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-1</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?processPartName)
          WHERE {
            ?subject as:configItemIncludedBy ?minorSalesItem .
            ?minorSalesItem as:salesItemIncludedBy ?salesItem.

            ?salesItem as:includesConfigItem ?c .
           ?c pcs:partPartName ?pn .
         ?salesItem as:isProduct pci:MetalStamping .
            BIND (xsd:string(?pn) AS ?val)

   }
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>2</as:costingRelevantSequence>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/application-implementation.owl#Base"/>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcomputing.com/application/products/products-schema.owl#processPartNumber -->

    <owl:DatatypeProperty rdf:about="http://www.inmindcomputing.com/application/products/products-schema.owl#processPartNumber">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="en">Metal Part Number</rdfs:label>
        <rdfs:label xml:lang="zh">零件号</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">-2</ps:sequenceID>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?processPartNumber)
          WHERE {
            ?subject as:configItemIncludedBy ?minorSalesItem .
            ?minorSalesItem as:salesItemIncludedBy ?salesItem.

            ?salesItem as:includesConfigItem ?c .
           ?c pcs:partPartNumber ?pn .
       # ?salesItem as:isProduct pci:MetalStamping .
            BIND (xsd:string(?pn) AS ?val)
   }
</ps:sparql>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <as:costingRelevant>true</as:costingRelevant>
        <as:costingRelevantSequence>1</as:costingRelevantSequence>
        <ps:group rdf:resource="http://www.inmindcomputing.com/application/application-implementation.owl#Base"/>
        <rdfs:domain rdf:resource="http://www.inmindcomputing.com/application/products/products-schema-knowledgebase.owl#Process-KB"/>
        <rdfs:subPropertyOf rdf:resource="&ps;calculation"/>
        <rdfs:subPropertyOf rdf:resource="&ps;materialization"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Classes
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcomputing.com/application/application-schema.owl#Plant -->

    <owl:Class rdf:about="&as;Plant"/>
</rdf:RDF>



<!-- Generated by the OWL API (version 3.4.2) http://owlapi.sourceforge.net -->

