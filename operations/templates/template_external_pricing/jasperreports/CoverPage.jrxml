<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2016-09-01T11:41:05 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="cover" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6a9853b6-7376-4c35-8f67-e3227b14d9ea">
	<property name="ireport.zoom" value="1.4641000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.unit." value="cm"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="cm"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="cm"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="cm"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="cm"/>
	<import value="java.util.GregorianCalendar"/>
	<import value="com.er.platform.vocabulary.Platform"/>
	<import value="com.er.platform.vocabulary.Application"/>
	<import value="com.er.platform.model.BusinessObject"/>
	<parameter name="Quote" class="com.er.platform.datatransferobjects.BusinessObjectDTO"/>
	<parameter name="additionalItemPrice" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList<Map<String,Object>>();]]></defaultValueExpression>
	</parameter>
	<parameter name="additionalItems" class="java.util.Set">
		<defaultValueExpression><![CDATA[new HashSet<String>()]]></defaultValueExpression>
	</parameter>
	<parameter name="optionalItems" class="java.util.List">
		<defaultValueExpression><![CDATA[new ArrayList()]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter1" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="Parameter2" class="java.util.Map">
		<defaultValueExpression><![CDATA[new HashMap<String,String>();]]></defaultValueExpression>
	</parameter>
	<parameter name="CMIS" class="java.lang.String"/>
	<field name="SalesItem" class="com.er.platform.datatransferobjects.BusinessObjectDTO"/>
	<variable name="contactTitle" class="com.er.platform.datatransferobjects.BusinessObjectDTO">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasTitle")]]></variableExpression>
	</variable>
	<variable name="contactGender" class="com.er.platform.model.BusinessObject">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "hasGender")]]></variableExpression>
	</variable>
	<variable name="contactFirstName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personFirstName")]]></variableExpression>
	</variable>
	<variable name="contactPosition" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personPosition")]]></variableExpression>
	</variable>
	<variable name="contactLastName" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("usesPerson", "personLastName")]]></variableExpression>
	</variable>
	<variable name="genderExternalId" class="java.lang.String">
		<variableExpression><![CDATA[($P{Quote}.getAttributeValue("usesPerson","hasGender","objectExternalId").toString())]]></variableExpression>
		<initialValueExpression><![CDATA[($P{Quote}.getAttributeValue("usesPerson","hasGender","objectExternalId").toString())]]></initialValueExpression>
	</variable>
	<variable name="contactTitleKeyword" class="java.lang.String">
		<variableExpression><![CDATA[$P{REPORT_LOCALE}.toString().startsWith("de") ? (($V{genderExternalId} == "MALE")? "geehrter ": (($V{genderExternalId} == "FEMALE")? "geehrte " : "geehrte/r ")) : ""]]></variableExpression>
	</variable>
	<variable name="documentHeaderPriceAfterItemDiscount" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPriceAfterItemDiscount").toString())]]></variableExpression>
	</variable>
	<variable name="documentHeaderPrice" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{Quote}.getAttributeValue("includesDocumentHeaderPriceItem","documentHeaderPrice").toString())]]></variableExpression>
	</variable>
	<variable name="quoteCurrency" class="java.lang.String">
		<variableExpression><![CDATA[$P{Quote}.getAttributeValue("hasBaseCurrency", "objectId")]]></variableExpression>
	</variable>
	<variable name="currencyFormatter" class="java.text.DecimalFormat">
		<variableExpression><![CDATA[(DecimalFormat) NumberFormat.getCurrencyInstance($P{REPORT_LOCALE});
DecimalFormatSymbols symbols = ((java.text.DecimalFormat)value).getDecimalFormatSymbols();
symbols.setCurrencySymbol("");
((java.text.DecimalFormat)value).setDecimalFormatSymbols(symbols)]]></variableExpression>
	</variable>
	<variable name="putOptionalItem" class="java.lang.String">
		<variableExpression><![CDATA["";if  
((Boolean)((BusinessObject)$F{SalesItem}.getAttributeValue("isProduct","productContainedBy")).getUriAsString().equals("http://www.inmindcomputing.com/application/products/products-implementation.owl#DDC1"))
{
int originalSize = $P{Parameter1}.size();

$P{Parameter1}.put($F{SalesItem}.getAttributeValue("objectName").toString(), "");
if ($P{Parameter1}.size() != originalSize) {

Map individualMap = new HashMap<String, Object>();
individualMap.put("btshorttext",$F{SalesItem}.getAttributeValue("objectName").toString());
individualMap.put("proddesc",$F{SalesItem}.getAttributeValue("isProduct","productDescription").toString());
individualMap.put("qty",$F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderQuantity"));
individualMap.put("unitPriceDisc",$V{quoteCurrency} + " " + $V{currencyFormatter}.format(new BigDecimal($F{SalesItem}.getAttributeValue("includesItemHeaderPriceItem","itemHeaderUnitPrice").toString())));
$P{optionalItems}.add(individualMap);
}
}]]></variableExpression>
	</variable>
	<pageHeader>
		<band height="802" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="-20" y="-20" width="594" height="822" forecolor="#000000" backcolor="#FFFFFF" uuid="7d286781-6d0a-47ab-9117-ad893e579604"/>
				<textField>
					<reportElement x="258" y="600" width="176" height="19" forecolor="#848A8F" uuid="e5653d16-f224-4634-9fa8-32f762ca3e81"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[new SimpleDateFormat("dd. MMMM yyyy", $P{REPORT_LOCALE}).format(new java.util.Date())]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="258" y="426" width="249" height="19" forecolor="#848A8F" uuid="4f061962-609c-45fa-a703-18d9c6d2228b"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("quoteContainedBy", "objectName")]]></textFieldExpression>
				</textField>
				<image hAlign="Center">
					<reportElement x="40" y="80" width="521" height="192" uuid="fbc97aca-b155-4ba7-8a71-c8ab0621ca53">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<imageExpression><![CDATA[$P{CMIS} + "/logos/Demoscenario_logo_Engineering_logo_big.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement x="129" y="534" width="129" height="19" forecolor="#848A8F" uuid="aacf8dc9-4310-4717-b028-d09229ac85e0"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.ourref}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="129" y="426" width="119" height="19" forecolor="#848A8F" uuid="72c39075-01c9-41f4-8f5c-04a300dd915d">
						<property name="com.jaspersoft.studio.unit.height" value="cm"/>
					</reportElement>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.to}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="180" y="300" width="239" height="38" forecolor="#EC7504" uuid="fbbaa961-c18c-44a4-914d-ed643ca713cc"/>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="26"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.name}]]></textFieldExpression>
				</textField>
				<image hAlign="Center">
					<reportElement x="0" y="33" width="594" height="10" uuid="3fef02b7-b857-4f15-91a1-3ac7343dc0c3"/>
					<imageExpression><![CDATA[$P{CMIS} + "/logos/banner.png"]]></imageExpression>
				</image>
				<textField isBlankWhenNull="true">
					<reportElement x="182" y="350" width="237" height="30" isRemoveLineWhenBlank="true" forecolor="#EC7504" uuid="3faead30-ca3b-4c75-9097-2b29ef4062cc"/>
					<textElement textAlignment="Center" markup="html">
						<font fontName="Arial" size="18"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("hasQuoteType", "objectName")]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="129" y="491" width="129" height="19" forecolor="#848A8F" uuid="94ad1e8e-ec89-443a-900f-15cd9a6d3e05"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.by}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="129" y="600" width="119" height="19" forecolor="#848A8F" uuid="3810721b-6b71-4562-96c9-9031d0605b4f"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.date}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="129" y="567" width="129" height="19" forecolor="#848A8F" uuid="4c45d926-74bb-43e1-9a0c-e4bbc373e8eb"/>
					<textElement textAlignment="Left" verticalAlignment="Top">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{coverpage.quoteref}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement x="258" y="445" width="249" height="19" forecolor="#848A8F" uuid="fa925673-844a-4ba6-8183-24e06e224f83">
						<printWhenExpression><![CDATA[$V{contactFirstName}!=null && $V{contactLastName}!=null]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[($V{contactTitle} != null ?
										($V{contactTitleKeyword} + $V{contactTitle}.l10nKey + " " + $V{contactLastName})
										: ($V{contactFirstName} + " " + $V{contactLastName}))]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="258" y="464" width="249" height="19" forecolor="#848A8F" uuid="8e730c0e-071c-457c-a96c-fee7f4fc8678"/>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[($V{contactPosition} != null ?
										$V{contactPosition}	:  " ")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="258" y="491" width="249" height="19" forecolor="#848A8F" uuid="03d128e9-4688-443f-a0b9-2afb92ebadb4"/>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personFirstName") + " " + $P{Quote}.getAttributeValue("containsCreator", "includesPerson", "personLastName")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="258" y="510" width="249" height="19" forecolor="#848A8F" uuid="96fbb3d6-ff5d-4465-8371-8784d000cfd1"/>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("containsCreator", "includesPerson","personPosition")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="258" y="534" width="249" height="19" forecolor="#848A8F" uuid="92e8873f-ed61-45f2-8e5d-6910ee38aab9"/>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("quoteId")+"-"+$P{Quote}.getAttributeValue("salesDocumentVersion")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="258" y="567" width="249" height="19" forecolor="#848A8F" uuid="cd902a9e-0d5f-46a7-a773-9afe6b373978"/>
					<textElement textAlignment="Left" verticalAlignment="Top" markup="html">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{Quote}.getAttributeValue("quoteReference")]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</pageHeader>
</jasperReport>
