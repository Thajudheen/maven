<?xml version="1.0"?>


<!DOCTYPE rdf:RDF [
    <!ENTITY owl "http://www.w3.org/2002/07/owl#" >
    <!ENTITY swrl "http://www.w3.org/2003/11/swrl#" >
    <!ENTITY swrlb "http://www.w3.org/2003/11/swrlb#" >
    <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
    <!ENTITY afn "http://jena.hpl.hp.com/ARQ/function#" >
    <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
    <!ENTITY xpath-fn "http://www.w3.org/2005/xpath-functions#" >
    <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
    <!ENTITY ps "http://www.inmindcloud.com/application/schema.owl#" >
    <!ENTITY as "http://www.inmindcloud.com/application/schema.owl#" >
    <!ENTITY ase "http://www.inmindcloud.com/application/application-schema-ext.owl#" >
    <!ENTITY ai "http://www.inmindcloud.dev.com/application/application-implementation.owl#" >
]>


<rdf:RDF xmlns="http://www.inmindcloud.com/application/application-schema-ext.owl#"
     xml:base="http://www.inmindcloud.com/application/application-schema-ext.owl"
     xmlns:afn="http://jena.hpl.hp.com/ARQ/function#"
     xmlns:xpath-fn="http://www.w3.org/2005/xpath-functions#"
     xmlns:as="http://www.inmindcloud.com/application/schema.owl#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:swrl="http://www.w3.org/2003/11/swrl#"
     xmlns:ai="http://www.inmindcloud.dev.com/application/application-implementation.owl#"
     xmlns:ase="http://www.inmindcloud.com/application/application-schema-ext.owl#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:swrlb="http://www.w3.org/2003/11/swrlb#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:ps="http://www.inmindcloud.com/application/schema.owl#">
    <owl:Ontology rdf:about="http://www.inmindcloud.com/application/application-schema-ext.owl">
        <owl:versionInfo rdf:datatype="&xsd;string">0.4</owl:versionInfo>
        <rdfs:comment rdf:datatype="&xsd;string">Copyright (c) 2013, In Mind Cloud. All rights reserved.
IMC PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</rdfs:comment>
        <owl:imports rdf:resource="http://www.inmindcloud.com/application/schema.owl"/>
        <owl:imports rdf:resource="http://www.inmindcloud.com/application/pricing-implementation.owl"/>
        <owl:imports rdf:resource="http://www.inmindcloud.com/application/report-schema.owl"/>
    </owl:Ontology>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Object Properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zHasIndustry -->

    <owl:ObjectProperty rdf:about="&ase;zHasIndustry">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label rdf:datatype="&xsd;string">Quote Has Another Industry</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">29</ps:sequenceID>
        <ps:enumerable rdf:datatype="&xsd;boolean">true</ps:enumerable>
        <ps:group rdf:resource="&ase;QuoteAdditionalAttributes-1"/>
        <rdfs:range rdf:resource="&as;Industry"/>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;has"/>
    </owl:ObjectProperty>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Data properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#quoteExtra -->

    <owl:DatatypeProperty rdf:about="&ase;quoteExtra">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Angebot Extra</rdfs:label>
        <rdfs:label xml:lang="en">Quote Extra</rdfs:label>
        <ps:advancedEditor rdf:datatype="&xsd;boolean">true</ps:advancedEditor>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#quoteIntro -->

    <owl:DatatypeProperty rdf:about="&ase;quoteIntro">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Angebotseinleitung</rdfs:label>
        <rdfs:label xml:lang="en">Quote Introduction</rdfs:label>
        <ps:advancedEditor rdf:datatype="&xsd;boolean">true</ps:advancedEditor>
        <rdfs:comment xml:lang="de">wir danken f&amp;uuml;r Ihre Anfrage und bieten Ihnen freibleibend wie folgt an:</rdfs:comment>
        <rdfs:comment xml:lang="en">We thank you for your inquiry and offer the following subject to change:</rdfs:comment>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#quoteRefDateFrom -->

    <owl:DatatypeProperty rdf:about="&ase;quoteRefDateFrom">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Ihre Nachricht vom</rdfs:label>
        <rdfs:label xml:lang="en">Quote Reference Date From</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:group rdf:resource="&ase;QuoteAdditionalAttributes-1"/>
        <ps:subGroup rdf:resource="&ase;SubGroup-1"/>
        <ps:subGroup rdf:resource="&ase;SubGroup-2"/>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#quoteReportTitle -->

    <owl:DatatypeProperty rdf:about="&ase;quoteReportTitle">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Titel Angebotreport</rdfs:label>
        <rdfs:label xml:lang="en">Quote Report Title</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:defaultValue xml:lang="de">Angebot</ps:defaultValue>
        <ps:defaultValue xml:lang="en">Quote</ps:defaultValue>
        <ps:group rdf:resource="&ase;QuoteAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#quoteTerms -->

    <owl:DatatypeProperty rdf:about="&ase;quoteTerms">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Angebot - Gesch채ftsbedingungen</rdfs:label>
        <rdfs:label xml:lang="en">Quote Terms and Conditions</rdfs:label>
        <ps:advancedEditor rdf:datatype="&xsd;boolean">true</ps:advancedEditor>
        <rdfs:comment xml:lang="de">&lt;u&gt;${terms.label.title}&lt;/u&gt;&lt;br&gt;&lt;br&gt;${terms.label.prices}:&lt;br&gt;${terms.text.prices}&lt;br&gt;&lt;br&gt;${terms.label.validity}:&lt;br&gt;${terms.text.validity.first}${quote.label.date.expiry}. ${terms.text.validity.second}&lt;br&gt;&lt;br&gt;${terms.label.support}:&lt;br&gt;${terms.text.support}&lt;br&gt;&lt;br&gt;${terms.label.scope}:&lt;br&gt;${terms.text.scope}&lt;br&gt;&lt;br&gt;${terms.label.msa}:&lt;br&gt;${terms.text.msa}&lt;br&gt;&lt;br&gt;${terms.text.reference.first}&amp;nbsp;account&amp;nbsp;${terms.text.reference.second}&lt;br&gt;&lt;br&gt;${terms.text.approval}&lt;br&gt;&lt;br&gt;${terms.text.information}</rdfs:comment>
        <rdfs:comment xml:lang="en">&lt;u&gt;${terms.label.title}&lt;/u&gt;&lt;br&gt;&lt;br&gt;${terms.label.prices}:&lt;br&gt;${terms.text.prices}&lt;br&gt;&lt;br&gt;${terms.label.validity}:&lt;br&gt;${terms.text.validity.first}${quote.label.date.expiry}. ${terms.text.validity.second}&lt;br&gt;&lt;br&gt;${terms.label.support}:&lt;br&gt;${terms.text.support}&lt;br&gt;&lt;br&gt;${terms.label.scope}:&lt;br&gt;${terms.text.scope}&lt;br&gt;&lt;br&gt;${terms.label.msa}:&lt;br&gt;${terms.text.msa}&lt;br&gt;&lt;br&gt;${terms.text.reference.first}&amp;nbsp;account&amp;nbsp;${terms.text.reference.second}&lt;br&gt;&lt;br&gt;${terms.text.approval}&lt;br&gt;&lt;br&gt;${terms.text.information}</rdfs:comment>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zAccountNewsletter -->

    <owl:DatatypeProperty rdf:about="&ase;zAccountNewsletter">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Newsletter opt in</rdfs:label>
        <rdfs:label xml:lang="en">Newsletter opt in</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:synchronizeAllowed rdf:datatype="&xsd;boolean">true</ps:synchronizeAllowed>
        <ps:group rdf:resource="&ase;AccountAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Account"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zBusinessHigh -->

    <owl:DatatypeProperty rdf:about="&ase;zBusinessHigh">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Expected Business High</rdfs:label>
        <rdfs:label xml:lang="en">Expected Business High</rdfs:label>
        <as:precision rdf:datatype="&xsd;int">0</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">false</ps:readOnly>
        <ps:group rdf:resource="&ase;OpportunityAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Opportunity"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zBusinessLow -->

    <owl:DatatypeProperty rdf:about="&ase;zBusinessLow">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Expected Business Low</rdfs:label>
        <rdfs:label xml:lang="en">Expected Business Low</rdfs:label>
        <as:precision rdf:datatype="&xsd;int">0</as:precision>
        <ps:sequenceID rdf:datatype="&xsd;int">5</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">false</ps:readOnly>
        <ps:group rdf:resource="&ase;OpportunityAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Opportunity"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zCallDone -->

    <owl:DatatypeProperty rdf:about="&ase;zCallDone">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Rufen Sie nach Kunden</rdfs:label>
        <rdfs:label xml:lang="en">Call Made To Customer</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:group rdf:resource="&ase;OpportunityAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Opportunity"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zComment -->

    <owl:DatatypeProperty rdf:about="&ase;zComment">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Comment</rdfs:label>
        <rdfs:label xml:lang="en">Comment</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">3</ps:sequenceID>
        <ps:readOnly rdf:datatype="&xsd;boolean">true</ps:readOnly>
        <ps:group rdf:resource="&ase;OpportunityAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Opportunity"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;string"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zProductLifeSpan -->

    <owl:DatatypeProperty rdf:about="&ase;zProductLifeSpan">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Produktlebenszyklus (Monate)</rdfs:label>
        <rdfs:label xml:lang="en">Product Life Span (Months)</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:group rdf:resource="&ase;GroupQuoteAdditionalAttributes"/>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zQuantityPerMonth -->

    <owl:DatatypeProperty rdf:about="&ase;zQuantityPerMonth">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Anzahl pro Monat</rdfs:label>
        <rdfs:label xml:lang="en">Quantity per Month</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:group rdf:resource="&ase;GroupQuoteAdditionalAttributes"/>
        <rdfs:domain rdf:resource="&as;Quote"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;decimal"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#zdemoDone -->

    <owl:DatatypeProperty rdf:about="&ase;zdemoDone">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <rdfs:label xml:lang="de">Demo get채tigt</rdfs:label>
        <rdfs:label xml:lang="en">Demo Done To Customer</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:group rdf:resource="&ase;OpportunityAdditionalAttributes-1"/>
        <rdfs:domain rdf:resource="&as;Opportunity"/>
        <rdfs:subPropertyOf rdf:resource="&ps;assertion"/>
        <rdfs:range rdf:resource="&xsd;boolean"/>
    </owl:DatatypeProperty>
    


    <!-- http://www.inmindcloud.com/application/schema.owl#salesItemErrorText -->

    <rdf:Description rdf:about="&as;salesItemErrorText">
        <rdf:type rdf:resource="&owl;FunctionalProperty"/>
        <ps:sparql rdf:datatype="&xsd;string">select DISTINCT ?subject ?salesItemErrorText
where {
   ?subject as:includesConfigItem ?config .
   ?config as:configItemErrorText ?configErrorText .
   BIND(?configErrorText AS ?salesItemErrorText)

    }</ps:sparql>
    </rdf:Description>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Classes
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcloud.com/application/schema.owl#AccountStatus -->

    <owl:Class rdf:about="&as;AccountStatus">
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
    </owl:Class>
    


    <!-- http://www.inmindcloud.com/application/schema.owl#ProductStatus -->

    <owl:Class rdf:about="&as;ProductStatus">
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
    </owl:Class>
    


    <!-- http://www.inmindcloud.com/application/schema.owl#ReportTemplate -->

    <owl:Class rdf:about="&as;ReportTemplate">
        <ps:hidden rdf:datatype="&xsd;boolean">false</ps:hidden>
    </owl:Class>
    


    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Individuals
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#AccountAdditionalAttributes-1 -->

    <owl:NamedIndividual rdf:about="&ase;AccountAdditionalAttributes-1">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="de">Zus채tzliche Attribute</rdfs:label>
        <rdfs:label xml:lang="en">Additional Attributes</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">Additional Attributes</ps:objectName>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#OpportunityAdditionalAttributes-1 -->

    <owl:NamedIndividual rdf:about="&ase;OpportunityAdditionalAttributes-1">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="de">Zus채tzliche Attribute</rdfs:label>
        <rdfs:label xml:lang="en">Additional Attributes</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">Additional Attributes</ps:objectName>
    </owl:NamedIndividual>
    


    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#QuoteAdditionalAttributes-1 -->

    <owl:NamedIndividual rdf:about="&ase;QuoteAdditionalAttributes-1">
        <rdf:type rdf:resource="&as;Group"/>
        <rdfs:label xml:lang="de">Report Eigenschaften</rdfs:label>
        <rdfs:label xml:lang="en">Report Attributes</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">Quote Additional Attributes</ps:objectName>
        <as:hasSubGroup rdf:resource="&ase;SubGroup-1"/>
        <as:hasSubGroup rdf:resource="&ase;SubGroup-2"/>
    </owl:NamedIndividual>
    
    
    
    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#SubGroup-1 -->

    <owl:NamedIndividual rdf:about="&ase;SubGroup-1">
        <rdf:type rdf:resource="&as;SubGroup"/>
        <rdfs:label xml:lang="en">Sub Group 1</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">1</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">Sub Group 1</ps:objectName>
    </owl:NamedIndividual>
    
    
    
    <!-- http://www.inmindcloud.com/application/application-schema-ext.owl#SubGroup-2 -->

    <owl:NamedIndividual rdf:about="&ase;SubGroup-2">
        <rdf:type rdf:resource="&as;SubGroup"/>
        <rdfs:label xml:lang="en">Sub Group 2</rdfs:label>
        <ps:sequenceID rdf:datatype="&xsd;int">2</ps:sequenceID>
        <ps:objectName rdf:datatype="&xsd;string">Sub Group 2</ps:objectName>
    </owl:NamedIndividual>



    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Annotations
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->

    <rdf:Description rdf:about="&as;accountQuoteVolume">
        <ps:sparql>SELECT ?subject (SUM(?vol) AS ?accountQuoteVolume) WHERE {
	?subject as:containsQuote ?quote .
	?quote as:includesDocumentHeaderPriceItem ?price .
	?price as:documentHeaderPriceAfterExchangeRate ?vol .
} GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderPrice">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?documentHeaderPrice  WHERE {
	?subject as:documentHeaderNetValue ?documentHeaderPrice .
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderCurrentPrice">
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?itemHeaderCurrentPrice)
WHERE {
	?subject as:itemHeaderPriceItemIncludedBy ?salesItem.
	?salesItem as:isProduct ?p .
	OPTIONAL {?p as:productCategoryLinkedBy pci:Cubicle . ?subject pcs:cubiclePrice ?val .}
	OPTIONAL {?p as:productCategoryLinkedBy pci:Light . ?subject pcs:lightPrice ?val .}
	OPTIONAL {?p as:productCategoryLinkedBy pci:Tracks . ?subject pcs:tracksPrice ?val .}
	OPTIONAL {?p as:productCategoryLinkedBy pci:Others . ?subject pcs:othersPrice ?val .}
}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productSpec">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;opportunityWeightedVolume">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?opportunityWeightedVolume
	WHERE {
		?subject as:opportunityVolume ?vol .
		?subject as:opportunityChanceofSuccess ?prop .
		BIND (xsd:decimal(xsd:decimal(?vol)*xsd:decimal(?prop)*0.01)  AS ?opportunityWeightedVolume)
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderPriceAfterDiscount">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?documentHeaderAfterConfigItemDiscount)
	WHERE
	{
		?subject as:includesSalesItem+ ?c .
		{
			SELECT DISTINCT ?c ?val
			WHERE
			{
						?c as:itemHeaderTotalPrice ?cp .
						BIND (xsd:decimal(?cp) AS ?val )
			}
		}
	}
	GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productVolumeLimit">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;enterpriseImage">
        <ps:defaultValue rdf:datatype="&xsd;string">logo.png</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productIsOptional">
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;configItemError">
        <ps:sparql rdf:datatype="&xsd;string">
          SELECT ?subject ?configItemError
          WHERE
          {
            ?subject as:configItemIncludedBy ?salesItem .
            OPTIONAL
            {
              SELECT * WHERE  
              {
                # Dynamic Attributes
                OPTIONAL
                { 
                  ?subject as:usesKBSnapshot ?kbss.
                  ?kbss ps:includesDynamicAttribute ?da.
                  ?da ps:dynamicAttributeMandatory true.
                  BIND (ps:configItemDAValueFinder(?subject,?da) as ?daValue).
                  FILTER(!BOUND(?daValue) || strlen(?daValue)=0)
                  BIND (true as ?configErrorDynamic2)
                }
                # DesignElementError
                OPTIONAL
                {
                  ?subject as:designElementError true .
                  BIND (true as ?designElementError2)
                }
                # Legacy Attributes
                OPTIONAL
                {
                  ?subject rdf:type ?kbType .
                  ?kbType rdfs:subClassOf as:KnowledgeBase .
                  ?pred rdfs:domain ?kbType .
                  ?pred ps:mandatory true .
                  FILTER NOT EXISTS { ?subject ?pred ?val } .
                  BIND (true as ?configErrorStatic2)
                }
              }
            }
             
            BIND (IF (!bound(?designElementError2),false,?designElementError2) as ?designElementError  )
            BIND (IF (!bound(?configErrorStatic2),false,?configErrorStatic2) as ?configErrorStatic  )
            BIND (IF (!bound(?configErrorDynamic2),false,?configErrorDynamic2) as ?configErrorDynamic  )
            BIND( IF((?designElementError=true || ?configErrorStatic=true || ?configErrorDynamic=true),true,false) as ?configItemError)
          }  
        </ps:sparql>
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productConfigurable">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;salesDocumentVersion">
        <ps:defaultValue rdf:datatype="&xsd;int">1</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderTotalDiscount">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?documentHeaderTotalDiscount)
	WHERE {
		?subject as:documentHeaderListPrice ?priceBeforeDiscount .
		?subject as:documentHeaderPrice ?priceAfterDiscount .
		BIND ( ((xsd:decimal(?priceBeforeDiscount)  - xsd:decimal(?priceAfterDiscount) ) / xsd:decimal(?priceBeforeDiscount)) * 100  AS ?val)
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;configItemErrorText">
        <ps:sparql>select ?subject ?configItemErrorText
  where {
   ?subject as:configItemIncludedBy ?salesItem .
    OPTIONAL{
   ?subject as:configItemIncludedBy ?design .
   ?design as:designElementError ?designError .
   ?design as:designElementErrorText ?designErrorText .
}
   OPTIONAL{
      ?subject as:configItemError ?configError.
   }
   
   BIND(IF(BOUND(?designError) &amp;&amp; ?designError, ?designErrorText,
                  IF(?configError,xsd:string(&quot;model.configError&quot;),&quot;&quot;)) AS ?configItemErrorText)

    }</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderUnitPrice">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?itemHeaderUnitPrice WHERE {
	?subject as:itemHeaderNetPrice ?itemHeaderUnitPrice .
	}
	</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderTotalPrice">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject ?itemHeaderTotalPrice WHERE {
?subject as:itemHeaderNetValue ?itemHeaderTotalPrice .
}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderPriceAfterItemDiscount">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?documentHeaderPriceAfterItemDiscount)
	WHERE
	{
		?subject as:documentHeaderPriceItemIncludedBy ?q.
		?q as:includesSalesItem+ ?si .
		?si as:includesItemHeaderPriceItem ?c .
		{
			SELECT DISTINCT ?c ?val
			WHERE
			{
						?c as:itemHeaderTotalPrice ?cp .
						BIND (xsd:decimal(?cp) AS ?val )
			}
		}
	} group by ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderQuantity">
        <ps:defaultValue rdf:datatype="&xsd;decimal">1.0</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;accountQuoteCount">
        <ps:sparql>SELECT  ?subject (COUNT(?quote) AS ?accountQuoteCount) WHERE {
	?subject as:containsQuote ?quote.
} GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;salesItemError">
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">select DISTINCT ?subject ?salesItemError
	where {
	?subject as:includesConfigItem ?config .
	?config as:configItemError ?salesItemError .
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productPrice">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;accountOpportunityWeightedVolume">
        <ps:sparql>SELECT ?subject (SUM(?vol) AS ?accountOpportunityWeightedVolume) WHERE {
	?subject as:containsOpportunity ?opp.
	?opp as:opportunityWeightedVolume ?vol.
} GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productDiscountLimit">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;kbVersion">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;quoteId">
        <rdfs:comment rdf:datatype="&xsd;string">select ?subject (concat(ps:leftPad(ps:sequence(&quot;QUOTESEQUENCE&quot;), 4, &quot;0&quot;), &quot;/&quot;, ?companyAbbr, &quot;/&quot;, ?fyShortText, &quot;/&quot;, ps:leftPad(ps:sequencetable(&quot;COMPANYQUOTE&quot;, ?company  ), 4, &quot;0&quot;)) as ?quoteId)
where {
	?subject as:containsCompany ?company.
	?company as:companyAbbreviation ?companyAbbr.
	{
		select ?fyShortText
		where
		{
				?fy a as:FiscalPeriod.
				?fy ps:objectName ?fyShortText.
				?fy as:fiscalPeriodEndDate ?fyEndDate.
				?fy as:fiscalPeriodStartDate ?fyStartDate.
				filter(now()&gt;?fyStartDate &amp;&amp;  now() &lt;?fyEndDate)
			}
	}
}</rdfs:comment>
        <ps:sparql rdf:datatype="&xsd;string">select ?subject (ps:leftPad(ps:sequence(&quot;QUOTESEQUENCE&quot;), 5, &quot;0&quot;) as ?quoteId) where { }</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;salesItemOptional">
        <ps:defaultValue rdf:datatype="&xsd;boolean">true</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderDiscount">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;groupHidden">
        <ps:defaultValue rdf:datatype="&xsd;boolean">false</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderMargin">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?itemHeaderMargin)
	WHERE {
		?subject as:itemHeaderUnitPrice ?cp .
		?subject as:itemHeaderCost ?cc .
		BIND ( (xsd:decimal(?cp) - xsd:decimal(?cc)) / xsd:decimal(?cc) * 100  AS ?val)
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productDescription">
        <ps:hidden rdf:datatype="&xsd;string">false</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;accountOpportunityVolume">
        <ps:sparql>SELECT ?subject (SUM(?vol) AS ?accountOpportunityVolume) WHERE {
	?subject as:containsOpportunity ?opp.
	?opp as:opportunityVolume ?vol.
} GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;kbType">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderDiscount">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productOptionsPrice">
        <ps:hidden rdf:datatype="&xsd;boolean">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderListPrice">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (sum(?val) as ?documentHeaderListPrice)
	WHERE
	{
		?subject as:documentHeaderPriceItemIncludedBy ?q.
		?q as:includesSalesItem+ ?si .
		?si as:includesItemHeaderPriceItem ?headerPriceItem .
		{
			SELECT DISTINCT ?c ?val
			WHERE
			{
						?headerPriceItem as:itemHeaderQuantity ?cq .
						?headerPriceItem as:itemHeaderPrice ?cp .
						BIND (xsd:decimal(xsd:decimal(?cp) * xsd:decimal(?cq))  AS ?val)
			}
		}
	}
	GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;itemHeaderCost">
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val as ?itemHeaderCost)
	WHERE {
		?subject as:itemHeaderPrice ?cp .
		BIND (xsd:decimal(?cp * 0.8) AS ?val)
	}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productATPSchedule">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;opportunityQuotedVolume">
        <ps:sparql>SELECT ?subject (SUM(?vol) AS ?opportunityQuotedVolume) WHERE {
	?subject as:containsQuote ?quote .
	?quote as:includesDocumentHeaderPriceItem ?price .
	?price as:documentHeaderPriceAfterExchangeRate ?vol .
} GROUP BY ?subject</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productDiscontAllowed">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;productVolumeAllowed">
        <ps:hidden rdf:datatype="&xsd;string">true</ps:hidden>
    </rdf:Description>
    <rdf:Description rdf:about="&as;documentHeaderPriceAfterExchangeRate">
        <ps:defaultValue rdf:datatype="&xsd;decimal">0</ps:defaultValue>
        <ps:sparql rdf:datatype="&xsd;string">SELECT ?subject (?val AS ?documentHeaderPriceAfterExchangeRate)
						WHERE{
										?subject as:documentHeaderPrice ?price.
										?subject as:documentHeaderPriceItemIncludedBy ?quote.
										OPTIONAL{
												?quote as:includeExchangeRateSalesDocument ?rate .
												?quote as:hasBaseCurrency ?baseCurrency .
												?quote as:hasTargetCurrency ?targetCurrency .
												?rate as:hasBaseCurrency ?baseCurrency .
												?rate as:hasTargetCurrency ?targetCurrency .
												?rate as:exchangeRate ?rateValue .   }
												BIND ( IF ( EXISTS {
												?quote as:includeExchangeRateSalesDocument ?rate .
												?quote as:hasBaseCurrency ?baseCurrency .
												?quote as:hasTargetCurrency ?targetCurrency .
												?rate as:hasBaseCurrency ?baseCurrency .
												?rate as:hasTargetCurrency ?targetCurrency .
														},
												xsd:decimal(?price * ?rateValue), ?price ) AS ?val )
		}</ps:sparql>
    </rdf:Description>
    <rdf:Description rdf:about="&as;opportunityChanceofSuccess">
        <ps:defaultValue rdf:datatype="&xsd;int">50</ps:defaultValue>
    </rdf:Description>
    <rdf:Description rdf:about="&as;quoteReportTitle">
        <ps:defaultValue xml:lang="de">Angebot</ps:defaultValue>
        <ps:defaultValue xml:lang="en">Quote</ps:defaultValue>
    </rdf:Description>
</rdf:RDF>



<!-- Generated by the OWL API (version 3.4.2) http://owlapi.sourceforge.net -->

